<languages />

{{Lowercase title}}
{{InfoBox stack
|{{InfoBox project|Portage-Tools|header=true}}
|{{InfoBox wikipedia|Gentoolkit}}
|{{InfoBox gitweb|gentoolkit.git}}
}}

{{c|eclean}} is a tool for cleaning repository source files and binary packages. It is part of the {{Package|app-portage/gentoolkit}} package and managed by the [[Project:Portage-Tools|Portage-Tools project]].

== 설치 ==

=== Emerge ===

{{c|eclean}}을 설치하십시오:

{{Emerge|app-portage/gentoolkit}}

{{Note/ko|{{Package|app-portage/gentoolkit}} 꾸러미에 있는 다른 유틸리티 정보를 찾아보려면 [[Gentoolkit/ko|Gentoolkit 게시글]]을 살펴보십시오.}}

== 사용법 ==

기본적으로 소스 파일은  {{Path|/usr/portage/distfiles}}  디렉터리에 있으며, 바이너리 꾸러미는 {{Path|/usr/portage/packages}} 디렉터리에 있습니다. 각 용도의 위치는 {{Path|/etc/portage/make.conf}}에 있는 <var>DISTDIR</var> 과  <code>PKGDIR</code>  변수 값으로 각각 바꿀 수 있습니다. 두 위치는 주기적으로 비우지 않으면 좀 커질 수 있습니다. 이러한 점이 {{c|eclean}}을 만든 이유입니다.

=== Invocation ===

전체 동작 요약, 옵션 목록, 사용 방법 일체를 보려면 {{c|eclean --help}} 명령을 활용하십시오.

{{Cmd|eclean --help|output=<pre>
Usage:
 eclean [global-option] ... <action> [action-option] ...
 eclean-dist [global-option, distfiles-option] ...
 eclean-pkg [global-option, packages-option] ...
 eclean(-dist,-pkg) [--help, --version]
 
Available global options:
 -C, --nocolor             - turn off colors on output
 -d, --deep                - only keep the minimum for a reinstallation
 -e, --exclude-file=<path> - path to the exclusion file
 -i, --interactive         - ask confirmation before deletions
 -n, --package-names       - protect all versions (when --deep
 -p, --pretend             - only display what would be cleaned
 -q, --quiet               - be as quiet as possible
 -t, --time-limit=<time>   - don't delete files modified since <time>
   <time> is a duration: "1y" is "one year", "2w" is "two weeks", etc.
   Units are: y (years), m (months), w (weeks), d (days) and h (hours).
 -h, --help                - display the help screen
 -V, --version             - display version info
 
Available actions:
 packages     - clean outdated binary packages from PKGDIR
 distfiles    - clean outdated packages sources files from DISTDIR
 
Available options for the packages action:
 NONE  :)
 
Available options for the distfiles action:
 -f, --fetch-restricted   - protect fetch-restricted files (when --deep)
 -s, --size-limit=<size>  - don't delete distfiles bigger than <size>
   <size> is a size specification: "10M" is "ten megabytes", "200K" is
   "two hundreds kilobytes", etc.  Units are: G, M, K and B.
 
More detailed instruction can be found in `man eclean`
</pre>}}

==== distfiles 소거 ===

<code>distfiles</code> 인자를 전달하여 소스 파일 디렉터리를 지우십시오:

{{RootCmd|eclean distfiles}}

또는 단축 옵션을 실행하시면 됩니다:

{{RootCmd|eclean-dist}}

=== 꾸러미 지우기 ===

바이너리 꾸러미가 있는 디렉터리라면 대신 다음 명령을 사용하십시오:

{{RootCmd|eclean packages}}

또는 단축 옵션을 실행하시면 됩니다:

{{RootCmd|eclean-pkg}}

== Options ==

By default, source files and binary packages corresponding to any ebuild in the current repository will '''not''' be deleted. This way, system administrators can easily downgrade a package or install a previously removed package, provided the package is still in the current repository tree.

As an example, suppose packages foo-1.0 and foo-1.1 are both in the repository. After updating from foo-1.0 to foo-1.1, run {{c|eclean distfiles}}: source files for both versions will be kept, so if a problem occurs with foo-1.1 then the user can easily re-install foo-1.0 without re-downloading anything.

다른 가능한 경우는 앞서 제거한 꾸러미를 설치하는 경우입니다. foo(임의 버전) 꾸러미를 시스템에 설치했다고 치겠습니다. (우연히) 이 꾸러미를 삭제하고 {{c|eclean distfiles}}를 실행한 후라면, foo 소스 파일을 유지하므로 어떤 파일도 다운로드하지 않고 다시 설치할 수 있습니다.

동일한 예제 또한 바이너리 꾸러미에 적용해보십시오.

To save more disk space, add the <code>--deep</code> option: every source file or binary package that does not correspond to some ''currently installed'' package (version does matter) will be deleted. Please notice that this way users will not be protected in case they need to downgrade a package or re-install a previously removed package.

As an alternative, use both the <code>--deep</code> and the <code>--package-names</code> options: every source file or binary package that does not correspond to some currently installed package (version does not matter) will be deleted. This still will not protect in case a re-install of a previously removed package is needed, but it will protect the sources if the package needs to be downgraded later.

자세한 내용은 eclean(1) 맨 페이지를 살펴보십시오:

{{Cmd|man 1 eclean}}

== 추가 참조 ==

* [[Gentoolkit]]
* [[Knowledge Base:Remove obsoleted distfiles|Knowledge Base: Remove obsoleted distfiles]]


[[Category:Portage tools]]
