<languages />
Este artículo está basado en un [https://forums.gentoo.org/viewtopic-t-965190.html hilo de los foros de Gentoo] y explica como utilizar dhcpcd para la gestión completa de la pila de red.

== Configuración ==

Asegúrese de que se ha instalado [[Dhcpcd|dhcpcd]]. A continuación añádalo al nivel de ejecución por defecto y arranque el servicio:

{{RootCmd
|rc-update add dhcpcd default
|/etc/init.d/dhcpcd start
}}

Esta configuración difiere de las instrucciones por defecto de la configuración de la red en el manual de Gentoo. Tiene la ventaja de que ofrece conmutación automática entre interfaces de red cableadas e inalámbricas.

== Inalámbricas ==

For wireless use {{c|wpa_supplicant}}. Either
* [https://gentoo.org/support/news-items/2016-01-08-some-dhcpcd-hooks-are-now-examples.html copy the 10-wpa_supplicant] hook into the {{Path|dhcpcd-hooks}} directory and restart dhcpcd, or
* have [[wpa_supplicant]] configured with the [https://forums.gentoo.org/viewtopic-t-1036958-start-9.html CONFIG_MATCH_IFACE] option and run it as a service

Para instalar el gancho:

{{RootCmd|cp /usr/share/dhcpcd/hooks/10-wpa_supplicant /lib/dhcpcd/dhcpcd-hooks|/etc/init.d/dhcpcd restart}}

{{Important|No añadir wpa_supplicant a ningún nivel de ejecución si se está utilizando el gancho.}}

To use the {{c|wpa_supplicant}} approach, see the [[Wpa_supplicant#Setup_for_dhcpcd_as_network_manager|wpa_supplicant's Gentoo wiki page]].

== Testing ==

Stop {{c|dhcpcd}} and {{c|wpa_supplicant}}, then start {{c|dhcpcd}} with debugging enabled and in the foreground to see {{c|dhcpcd}} starting the connection.

{{RootCmd|/etc/init.d/dhcpcd stop
|killall wpa_supplicant
|dhcpcd -dB
|output=<pre>
dhcpcd[23772]: version 6.4.5 starting
dhcpcd[23772]: udev: starting
dhcpcd[23772]: dev: loaded udev
...
...
</pre>}}

== Static IP address ==

In case the network interface card should be configured with a [[Static_Routing|static IP address]], type it into the [[dhcpcd-ui#Usage|graphical user interface]].  Without the [[dhcpcd-ui#Usage|graphical user interface]], entries can also be [http://roy.marples.name/man/html5/dhcpcd.conf.html manually added] to {{Path|/etc/dhcpcd.conf}} as described in [[Dhcpcd#Static_IP_addresses]].

== Migration from Gentoo net.* scripts ==

When migrating from [[netifrc|Gentoo's net.* scripts]] it is essential to remove the {{Path|net.*}} scripts from the runlevels.

{{Cmd|rc-config list {{!}} grep 'wpa_supplicant\{{!}}dhcpcd\{{!}}net.'|output=<pre>
  net.wlp8s0                default
  dhcpcd                    default</pre>}}

Any match starting with <code>net.</code> must not have a runlevel assigned. In the above example, {{Path|net.wlp8s0}} needs to be removed.

{{RootCmd|rc-update del net.wlp8s0
|/etc/init.d/net.wlp8s0 stop}}

Once the network setup works well, it is possible to completely remove the old Gentoo {{Path|net.*}} scripts. To do so, disable the <code>netifrc</code> useflag, re-emerge OpenRC and finally unmerge {{Package|net-misc/netifrc}}:

{{RootCmd|echo 'sys-apps/openrc -netifrc' >> /etc/portage/package.use
|emerge --ask --newuse --oneshot sys-apps/openrc
|emerge --ask --depclean net-misc/netifrc}}

Also the old configuration files and symlinks can be removed:

{{RootCmd|rm /etc/conf.d/net
|rm /etc/init.d/net.*}}

== Network dependent services ==

Manipulating [[Network_dependent_services|network dependent services]] by {{c|dhcpcd}} is no longer supported since openrc-0.16.4.

== Graphical User interface ==

A [[dhcpcd-ui|dhcpcd graphical user interface]] is provided by {{Package|net-misc/dhcpcd-ui}}.

== Véase también ==

* [[Dhcpcd/es|Dhcpcd]]
* [[dhcpcd-ui]]

== Recursos externos ==

* [https://forums.gentoo.org/viewtopic-t-965190-start-93.html Post 93 en los foros de Gentoo :: Ver asunto - TIP: Complete network stack without net.* scripts]


[[Category:Network_management]]
