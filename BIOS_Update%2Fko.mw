<languages />
하드웨어 제조사는 보통 BIOS와 다른 형식의 펌웨어 업데이트를 제공합니다. GNU/Linux 시스템에서의 이 업데이트 적용(보통 플래시에 들어가는걸로 참조)은 그리 간단한 일이 아니며 약간의 추가 작업이 더 필요합니다.

{{Warning/ko|하드웨어가 동작한다면, 보통 BIOS를 업그레이드할 필요는 없습니다. 무언가가 잘못되면 BIOS가 완전히 망가질 수 있으며 보증을 상실합니다. 주의깊게 진행하십시오!}}

== 펌웨어 정보 가져오기 ==

먼저 마더보드 제조사와 모델을 찾아야 합니다. 보통 컴퓨터에 딸려오는 사용자 설명서를 확인하시면 필요한 모든 정보를 모두 찾을 수 있습니다.

또한 {{package|sys-apps/dmidecode}}를 사용하여 시스템 하드웨어의 추가 정보를 가져올 수 있습니다. <tt>dmidecode</tt>는 마더보드의 펌웨어와 하드웨어 구성 요소의 자세한 정보를 제공하기 위해 DMI 테이블을 살펴봅니다.

{{RootCmd|dmidecode -t bios -t baseboard}}

마지막으로, 마더보드에 물리적 접근을 한다면, 마더보드 자체에서 직접 필요한 정보를 찾을 수 있습니다.

{{Warning/ko|컴퓨터의 마더보드에 접근하면 보증 상실을 초래할 수 있습니다!}}

제조사 사이트를 검색한 후, 하드웨어 업데이트에 필요한 꾸러미 다운로드를 진행하십시오. 일반적으로 제조사에서는 zip-, exe-, iso- 형식의 파일로 펌웨어 업데이트 꾸러미를 구성합니다. 

{{Cmd|unzip 7235v1A.zip
|output=<pre>Archive:  7235v1A.zip
   creating: 7235v1A/
inflating: 7235v1A/7235v1x.txt
inflating: 7235v1A/AWFL865.EXE
inflating: 7235v1A/How to flash the BIOS.DOC
inflating: 7235v1A/W7235IMS.1A0
</pre>}}

== BIOS option ==

Many BIOSes have an option to read the new binary image from an external memory stick or floppy disk. Enter the BIOS setup and look for the option. If the BIOS does not support this, continue with the next section.

== Boot-CD ==

Often the manufacturer offers a CD-ROM image to download as a boot medium. The file should have an {{Path|.iso}} file extension which should be properly burned to an empty CD-R(W). One of the tools that supports this is <tt>cdrecord</tt>:

{{RootCmd|cdrecord BOOT-CD.iso}}

{{Note|<tt>cdrecord</tt> is provided by two packages. Choose one of the following: {{Package|app-cdr/cdrtools}} and {{Package|app-cdr/cdrkit}}.}}

Choose from the BIOS boot menu to boot from CD and follow the instructions on the manufacturers website or in the user manual.

== FreeDOS environment ==

FreeDOS can be used to run DOS-based BIOS update utilities. A "custom" FreeDOS image which includes the necessary BIOS tools must be created. After the custom image has been generated, boot the image via one of the methods shown below.

Download FreeDOS and tools:

* [http://www.ibiblio.org/pub/micro/pc-stuff/freedos/files/distributions/1.0/ FreeDOS] - Download the {{Path|fdboot.img}} file.
* [http://www.ibiblio.org/pub/micro/pc-stuff/freedos/files/dos/sys/sys-freedos-linux/ FreeDOS bootsector] - Download the {{Path|sys-freedos-linux.zip}} file.
* The DOS-Flash program and new BIOS from the manufacturers website.

=== Create a custom FreeDOS image ===

First download the required software and enable the loopback device in the kernel:

{{KernelBox|title=enable loopback device|1=
Device Drivers  --->
    [*] Block devices  --->
        <M>   Loopback device support
}}

If the module has not been loaded use <tt>modprobe</tt> to load it:

{{RootCmd|modprobe loop}}

Install the required software:

{{Emerge|dev-lang/nasm app-arch/unzip sys-fs/dosfstools}}

Create an image file of ~20MB using the <tt>dd</tt> command. The name needs to be {{Path|freedos.img}} when replacing the one on the SystemRescueCD):

{{RootCmd|dd if{{=}}/dev/null of{{=}}freedos.img bs{{=}}1024 seek{{=}}20480}}

Write a file system to the image:

{{RootCmd|mkfs.msdos freedos.img}}

Write the bootsector to the image file:

{{RootCmd|unzip sys-freedos-linux.zip && ./sys-freedos.pl --disk{{=}}freedos.img}}

Now copy the FreeDOS files to the new image.

Create the mountpoints:

{{RootCmd|mkdir -p /mnt/freedos /mnt/freedos_new}}

Mount the original image:

{{RootCmd|mount -o loop fdboot.img /mnt/freedos}}

Mount the new image:

{{RootCmd|mount -o loop freedos.img /mnt/freedos_new}}

Copy the FreeDOS system files to the new image:

{{RootCmd|cp -ar /mnt/freedos/* /mnt/freedos_new/}}

Now copy the flash program and the new BIOS to the image file:

{{RootCmd|cp -ar FLASH-PROGRAM BIOS-UPDATE /mnt/freedos_new}}

Unmount both images:

{{RootCmd|umount /mnt/freedos_new /mnt/freedos}}

{{Note|DOS can only display names up to a length of 8 characters. It is a good idea to rename some of the files if their filenames are longer than this limit.}}

=== Using SystemRescueCD to boot FreeDOS ===

The SystemRescueCD comes with a version of FreeDOS. This version can replace the original image and create a bootable memory stick which contains the needed programs to flash the firmware.

==== Download SystemRescueCD and prepare LiveUSB ====

* [http://www.sysresccd.org/Download SystemRescueCD] - Download the normal ISO image.

==== Create a bootable memory stick ====

Use the default method to create the SystemRescueCD boot medium, the script {{Path|usb_inst.sh}} will provide guidance through the installation.

{{Warning|This will delete any data on the memory stick! Be sure all data has been properly backed up before using the memory stick for this task!}}

Create the folder in {{Path|/mnt}}:

{{RootCmd|mkdir /mnt/SysRescueCD}}

Mount the CD image:

{{RootCmd|mount -o loop systemrescuecd-x86-VERSION.iso /mnt/SysRescueCD}}

Start the installation script:

{{RootCmd|/mnt/SysRescueCD/usb_inst.sh}}

Unmount the CD image:

{{RootCmd|umount /mnt/SysRescueCD}}

==== Replace the FreeDOS image ====

It is time to replace the original FreeDOS image on the SystemRescueCD memory stick.

Mount the SystemRescueCD memory stick ({{Path|/dev/sdX1}} needs to be replaced by the device name of the memory stick):

{{RootCmd|mount /dev/sdX1 /mnt/SysRescueCD}}

Replace the {{Path|freedos.img}} file:

{{RootCmd|cp freedos.img /mnt/SysRescueCD/bootdisk/}}

Unmount the SystemRescueCD memory stick:

{{RootCmd|umount /mnt/SysRescueCD}}

=== Booting the FreeDOS image from GRUB directly ===

To boot FreeDOS without any external media use the <tt>memdisk</tt> tool from syslinux to allow grub (or another bootloader) to boot the FreeDOS image directly.

{{Emerge|sys-boot/syslinux}}

Mount the {{Path|/boot}} partition (if needed):

{{RootCmd|mount /boot}}

Copy the <tt>memdisk</tt> binary and the newly built FreeDOS image to {{Path|/boot}}:

{{RootCmd|cp /usr/share/syslinux/memdisk /boot}}
{{RootCmd|cp freedos.img /boot}}

Edit {{Path|/boot/grub/grub.conf}} and add an entry for FreeDOS:

{{FileBox|filename=/boot/grub/grub.conf|title=Example grub.conf entry|1=
title FreeDOS (BIOS update)
kernel /boot/memdisk floppy
initrd /boot/freedos.img
}}

=== BIOS update ===

Restart and choose to boot from the USB memory stick ''or'' the new grub entry. When using SystemRescueCD, in the GRUB command line type:

{{GenericCmd|freedos}}

This should boot into the new FreeDOS image. The DOS prompt should appear:

{{CodeBox|C:\}}

Now start the BIOS update by following the manufacturers instructions. Some useful commands in DOS:

; <tt>cd <dir></tt>
: Change to the directory.

; <tt>dir</tt>
: List the files in the current directory.

; <tt>type </tt>
: Display the contents of a file.

== Flashrom ==

Some motherboards can support flashing (via the {{Package|sys-apps/flashrom}} package) directly from the system. In this case the only needed component is the BIOS image. Before continuing this path, first check the list of [http://flashrom.org/Supported_hardware supported hardware].

If the hardware is supported, verify the new BIOS image:

{{RootCmd|flashrom -v W7235IMS.1A0}}

If everything checks out, then flash it:

{{RootCmd|flashrom -vw W7235IMS.1A0}}

== See also ==

* [[Bootable DOS USB stick]]

[[Category:Core system]]
