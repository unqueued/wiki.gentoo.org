{{InfoBox stack
|{{InfoBox homepage|https://github.com/sddm|header=true}}
|{{InfoBox wikipedia}}
|{{InfoBox github|sddm/sddm}}
|{{InfoBox irc|sddm}}
}}

'''S'''imple '''D'''esktop '''D'''isplay '''M'''anager (SDDM) is a [[display manager]] that supports X11 and Wayland. 

== Installation ==

=== USE flags ===

{{USEflag|package=x11-misc/sddm}}

=== Emerge ===

Install {{Package|x11-misc/sddm}}:

{{Emerge|x11-misc/sddm}}

If there are performance issues, it might help to add the sddm user to the video group:

{{RootCmd|usermod -a -G video sddm}}

== Configuration ==

=== Files ===

The global configuration file path for SDDM is {{Path|/etc/sddm.conf}}. See comments in the file and {{c|man 5 sddm.conf}} for details on available options.

=== Keymap ===

To select correct keymap on login screen, add following line to the {{Path|/usr/share/sddm/scripts/Xsetup}} file:

{{FileBox|filename=/usr/share/sddm/scripts/Xsetup|lang=text|1=
setxkbmap gb,us
}}


{{Note|For sddm, the config files is not located under /etc. In case of updates your edits may get lost. In order to get warned by emerge if it wants to override your changes, config-protect the corresponding files to your /etc/portage/make.conf
  {{FileBox|filename=/etc/portage/make.conf|title=Protect your changes from updates|lang=bash|1=
  CONFIG_PROTECT="/usr/share/sddm/scripts/Xsetup"}}
}}
=== Service ===

==== OpenRC ====

Set SDDM as the default display manager:

{{FileBox|filename=/etc/conf.d/xdm|lang=bash|1=
DISPLAYMANAGER="sddm"
}}

To start SDDM on boot, add xdm to the default runlevel:

{{Note|The dbus service gets pulled in dynamically.}}

{{RootCmd|rc-update add xdm default}}

To start SDDM now:

{{RootCmd|/etc/init.d/xdm start}}

After logging in to the X session via sddm, it is a good idea to verify that ConsoleKit is working as intended. By typing {{c|ck-list-sessions}} all active sessions can be listed. The list should include your session, typically running on <code>x11-display-device = '/dev/tty7'</code>. This session should also read <code>active = TRUE</code>. Active being FALSE indicates an issue <ref>
[SOLVED] xfce4 "shut down" "restart" button are disabled 
[https://forums.gentoo.org/viewtopic-p-6899870.html?sid=4f1594319b8193ebdb63c47f12af62eb#6899870]</ref><ref>Hey host, give me a new login please! [https://blog.flameeyes.eu/2010/11/draft-article-5307]</ref>.

==== systemd ====

To start SDDM on boot:

{{RootCmd|systemctl enable sddm.service}}

To start SDDM now:

{{RootCmd|systemctl start sddm.service}}

=== Plasma ===

Graphical configuration is integrated in Plasma 5 system settings by installing {{Package|kde-plasma/sddm-kcm}}:

{{Emerge|kde-plasma/sddm-kcm}}

== Troubleshooting ==

=== Permission denied errors in Xorg.log ===

The X server will not start and permission denied errors (such as the following) are present in the {{Path|Xorg.log}} log file:

{{FileBox|filename=/var/log/Xorg.log|lang=text|1=
/var/log/Xorg.0.log:[ 2058.998] (EE) /dev/dri/card0: failed to set DRM interface version 1.4: Permission denied
/var/log/Xorg.0.log:[ 2061.229] (EE) intel(0): [drm] failed to set drm interface version: Permission denied [13].
}}

It is likely the sddm user has not been added to the video group. Running the following command should fix the problem:

{{RootCmd|usermod -a -G video sddm}}

=== Missing users ===

If the login screen is missing some user(s) to choose from, this might be caused by sddm.conf - standard MinimumUid is 1000 and some existing users may have lower Uids.

{{FileBox|filename=/etc/sddm.conf|lang=text|1=
[Users]
MaximumUid=60000
MinimumUid=1000
}}

== See also ==

* [[LightDM]] - A cross-desktop display manager used by Ubuntu.
* [[SLiM]] - A desktop-independent graphical display manager.

== References ==

{{reflist}}

[[Category:Display manager]]
