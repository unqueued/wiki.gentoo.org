{{Lowercase title}}
To install a desktop environment such as GNOME3 requires the use of systemd but the present handbook is based on the use of Openrc. It just indicates that changes have to be made when using systemd but never tells the user where the changes occur. 
As for the systemd page, it mainly concentrate on an update starting from an existing system. Thus, it can be a kind of challenge, specially for a new comer to Gentoo, to install a GNOME3 desktop from scratch.
The purpose of this page is to indicate where changes have to be made to the current handbook to do so.
The indication given refer mainly to an amd64 install.

== Part 1 to 5 of the handbook ==
No change here.

==Installing the Gentoo Base System ==
=== Choosing the right profile ===
{{RootCmd|eselect profile list|output=<pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0
  [2]   default/linux/amd64/13.0/selinux
  [3]   default/linux/amd64/13.0/desktop
  [4]   default/linux/amd64/13.0/desktop/gnome
  [5]   default/linux/amd64/13.0/desktop/gnome/systemd 
  [6]   default/linux/amd64/13.0/desktop/kde
  [7]   default/linux/amd64/13.0/desktop/kde/systemd
  [8]   default/linux/amd64/13.0/developer
  [9]   default/linux/amd64/13.0/no-multilib
  [10]  default/linux/amd64/13.0/x32
  [11]  hardened/linux/amd64
  [12]  hardened/linux/amd64/selinux
  [13]  hardened/linux/amd64/no-multilib
  [14]  hardened/linux/amd64/no-multilib/selinux
  [15]  hardened/linux/amd64/x32
  [16]  hardened/linux/uclibc/amd64

</pre>}}
{{RootCmd|eselect profile set 5}}
{{RootCmd|eselect profile list|output=<pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0
  [2]   default/linux/amd64/13.0/selinux
  [3]   default/linux/amd64/13.0/desktop
  [4]   default/linux/amd64/13.0/desktop/gnome
  [5]   default/linux/amd64/13.0/desktop/gnome/systemd 
  [6]   default/linux/amd64/13.0/desktop/kde
  [7]   default/linux/amd64/13.0/desktop/kde/systemd
  [8]   default/linux/amd64/13.0/developer
  [9]   default/linux/amd64/13.0/no-multilib
  [10]  default/linux/amd64/13.0/x32
  [11]  hardened/linux/amd64
  [12]  hardened/linux/amd64/selinux
  [13]  hardened/linux/amd64/no-multilib
  [14]  hardened/linux/amd64/no-multilib/selinux
  [15]  hardened/linux/amd64/x32
  [16]  hardened/linux/uclibc/amd64

</pre>}}

== Configuring the kernel ==
Do not emerge genkernel here but genkernel-next instead
{{RootCmd|emerge genkernel-next}}

If you plan to include support for your graphic card and in case this graphic card requires proprietary binary blobs, emerge linux-firmware otherwise kernel will not compile.
{{RootCmd|emerge linux-firmware }}

Use option ''menuconfig'' with genkernel
{{RootCmd|genkernel  --menuconfig all}}
Select the systemd init system without disabling Openrc

{{Kernel|Quick setup using gentoo-sources|<pre>
Gentoo Linux --->
        Support for init systems, system and service managers --->
                [*]Openrc 
                [*] systemd
</pre>}}

Include settings for your graphic card referring to the ad hoc page on this wiki.

Create the symlink for /etc/mtab (see https://wiki.gentoo.org/wiki/Systemd#.2Fetc.2Fmtab)
{{RootCmd|ln -sf /proc/self/mounts /etc/mtab}}

== Configuring your system ==
No change.

== Installing Necessary system Tools ==
=== System Logger ===
Do not install syslog-ng.
=== Networking tools ===
dhcpcd will not be started at boot unless you enable dhcpcd.service with systemd.
Refer to systemd page to know how to do it before rebooting.
Otherwise you will be able to do so after boot with 
{{RootCmd|systemctl enable dhcpcd.service}}
{{RootCmd|systemctl start dhcpcd.service}}

=== Installing systemd itself ==
In a first stage install dbus with temporary -systemd USE flag:
{{RootCmd|USE="-systemd" emerge sys-apps/dbus}
then emerge systemd
{{RootCmd|emerge sys-apps/systemd}}
{{Note|You don't have to add systemd flag to /etc/portage/make.conf as it is already set into the chosen profile.}}


[[Category:Init systems]]
