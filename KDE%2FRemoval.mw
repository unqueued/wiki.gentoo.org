<languages />
<translate>
This article describes the removal and clean up of [[KDE]]. It is best to begin with a clean environment in order to minimize issues. This is recommended for the following cases:
* Downgrading KDE (eg. from snapshots/live ebuilds to the Portage version)
* Fully upgrading from KDE 3 to KDE 4
* Moving from an old [[overlay]]

== Remove KDE ==
A possible way of completely removing an old KDE installation in this case is:
{{Emerge|params+=--depclean|kde-base/kdelibs $(qlist -IC 'kde-base/*') $(for name in $(qlist -IC {{!}} grep -v '^kde-base/') ; do ( qdepends -C $name {{!}} grep -q kdelibs ) && echo $name ; done)}}
Note that this will remove not just KDE but also all other packages depending on it, as e.g. libreoffice[kde].

You can also do the following using sets (provided by the [[KDE/Overlay|kde overlay]]):
{{Emerge|params+=-C|@kde-4.X @kdebase-4.X @kde-3.5}}

As a next step you should remove any old overlay so that there are no conflicts with the KDE ebuilds. You should remove the old unmask and/or keyword data, too.

Finally don't forget to uninstall any now unneeded dependencies:
{{Emerge|params+=--depclean|&nbsp;}}

== Clean up KDE ==
To clean up all of KDE and it's apps, check your profile, your portage configuration files and remove the remaining KDE files.

If you're using the ''desktop/kde'' [[profile]], change to the ''desktop'' profile. Also check in your {{Path|/etc/portage/make.conf}} and other configurations files the active USE flags, etc.

Remove the remaining KDE configuration files and app data in the following folders:
* {{Path|~/.kde}} - Configuration files and app data of KDE 3
* {{Path|~/.kde4}} - Configuration files and app data of KDE 4
* {{Path|/usr/kde/}} - App data of KDE 3
* {{Path|/var/lib/kde}} - Configuration files of KDE 4
* {{Path|/var/lib/kdm}} - Configuration files of KDM
* {{Path|/var/log/kdm.log}} - KDM log file

The following folders are shared folders. Only remove the KDE files:
* {{Path|~/.config}} - Configuration files of KDE apps
* {{Path|~/.local}} - App data of KDE apps
* {{Path|/etc/conf.d/xdm}} - XDM configuration file
</translate>

[[Category:KDE]]
