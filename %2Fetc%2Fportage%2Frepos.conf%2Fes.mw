<noinclude><languages/></noinclude>
{{Path|/etc/portage/repos.conf}} es un fichero o directorio que especifica la localización y ajustes de los repositorios utilizados en el sistema. Hace referencia al [https://gitweb.gentoo.org/repo/gentoo.git/tree/ repositorio de Gentoo] y quizá a los [[Overlay/es|overlays]] que se utilizan en un sistema.

== Formato ==

{{Note|Portage puede gestionar {{Path|repos.conf}} bien sea un fichero o bien un directorio que contenga ficheros, el método preferido es como '''directorio'''. Otras herramientas como {{c|layman}} y {{c|mirrorselect}} necesitan y esperan que sea un directorio. Layman crea y gestiona su propio fichero {{Path|layman.conf}} para registrar los overlays instalados con Portage. {{c|mirrorselect}} busca el fichero {{Path|repos.conf/gentoo.conf}} para modificar el parámetro <code>sync-uri</code> para el repositorio Gentoo.
}}

* Los nombres de ficheros pueden ser cadenas de caracteres arbitrarias con o sin sufijo, excepto para {{Path|repos.conf/gentoo.conf}} que es lo que espera {{c|[[mirrorselect]]}}.
* Los comentarios comienzan con <code>#</code> (no existen los comentarios en línea).l
* La configuración de cada repositorio se especifica en un fichero aparte o sección que comienza por <code>[nombre_del_repositorio]</code>. Se recomienda que <code>[nombre_del_repositorio]</code> sea el mismo que el nombre dado en el fichero [[Repository_format|repo_name]].
* Los atributos se especifican en el formato <code>atributo = valor</code>.

== Atributos soportados en la sección por defecto ==

; <code>main-repo</code>
: Specifies main repository.
; <code>eclass-overrides</code>
: Makes all repositories inherit eclasses from the specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.
: The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the Gentoo repository). This behavior can be overruled by setting <code>force = eclass-overrides</code>.
; <code>force</code>
: Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.

== Atributos soportados en las secciones de los repositorios ==

; <code>aliases</code>
:  Specifies aliases of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.
: The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the Gentoo repository). This behavior can be overruled by setting <code>force = aliases</code>.
; <code>auto-sync</code>
: This setting determines if the repo will be synced during {{c|emerge --sync}} or {{c|emaint sync --auto}} runs. This allows for repositories to be synced only when desired via {{c|emaint sync --repo foo}}. Valid values: <code>yes</code>, <code>no</code>, <code>true</code>, <code>false</code>. If unset, the repo will be treated as set <code>yes</code>, <code>true</code>.
; <code>eclass-overrides</code>
: Makes all repositories inherit eclasses from specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.
: The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the Gentoo repository). This behavior can be overruled by setting <code>force = eclass-overrides</code>.
; <code>force</code>
: Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.
; <code>location</code>
:  Specifies location of given repository.
; <code>masters</code>
: Specifies master repositories of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.
: The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the Gentoo repository). This behavior can be overruled by setting <code>force = masters</code>.
; <code>priority</code>
: Specifies [[Ebuild repository#Priorities|priority]] of given repository.
; <code>sync-cvs-repo</code>
: Specifies CVS repository.
; <code>clone-depth</code>
: Specifies  clone  depth to use for DVCS repositories. Defaults to <code>1</code> (only the newest commit). If set to <code>0</code>, the depth is unlimited.
; <code>sync-type</code>
: Specifies type of synchronization performed by {{c|emerge --sync}}. Valid non-empty values: <code>cvs</code>, <code>git</code>, <code>rsync</code>, <code>svn</code>, <code>websync</code> (<=portage-2.2.18), <code>webrsync</code> (>=portage-2.2.19). This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
; <code>sync-umask</code>
: Specifies umask used to synchronize the repository. Takes an octal permission mask, e.g. <code>022</code>.
; <code>sync-uri</code>
: Specifies URI of repository used for synchronization performed by {{c|emerge --sync}}. This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
<pre style="margin-left:2em">Syntax:
cvs: [cvs://]:access_method:[username@]hostname[:port]:/path
git: (git|git+ssh|http|https)://[username@]hostname[:port]/path
rsync: (rsync|ssh)://[username@]hostname[:port]/(module|path)
</pre>
; <code>sync-user</code>
: Specifies the credentials used to perform the synchronization. If only user is provided, the primary group of the user will be used.  If only group is  provided, the current user will be preserved and only the group id will be changed. This key takes precedence over <code>FEATURES=userpriv</code>. If user or group id is provided, Portage no longer uses owner of the directory.
<pre style="margin-left:2em">Syntax: [user][:group]</pre>

== Ejemplos ==

=== Repositorio principal de Gentoo ===

{{:/etc/portage/repos.conf/gentoo.conf}}

=== Repositorio personalizado ===

{{:/etc/portage/repos.conf/local.conf}}

Para más información leer el artículo sobre el [[custom repository|repositorio personalizado]].

=== Overlay externo ===

{{:/etc/portage/repos.conf/brother-overlay.conf/en}}

=== El fichero repos.conf como un único fichero ===

Para ver un ejemplo de {{Path|repos.conf}} como un fichero monolítico, lance esta orden y busque la sección {{Path|repos.conf}}:

{{Cmd|man 5 portage}}

== Listar repositorios ==

Para ver un listado compacto de repositorios ordenado por números ascendentes en prioridad y formateado para una fácil lectura:

{{Cmd|emerge --info --verbose {{!}} sed -n '/^Repo/,/^ABI/p' {{!}} head -n -1}}

Para ver una lista detallada de repositorios sin ningún formato:

{{Cmd|portageq repos_config /}}

== Ver también ==

* [[Handbook:Parts/Working/Features/es#Obtener_instant.C3.A1neas_validadas_del_repositorio_Gentoo|Instantáneas del repositorio de Gentoo validadas]] en el [[Handbook:Main_Page/es|manual de Gentoo]]
* [[Project:Portage/Sync|Overview over the new Portage sync system]]
* [[Layman#repos.conf_method_.28default.29|Layman - Uso del método 'repos.conf']] en el artículo sobre [[Layman]]
* [[Project:Overlays/Overlays_guide|Guía del usuario de overlays]]
* [[Repository_format|Formato de repositorio]]
* [[Project:Repository mirror and CI|Réplica del repositorio e Integración Continua]]
* [[Portageq#Query repository information|Información sobre consulta del repositorio]] en el artículo sobre [[Portageq]]
* [[Gentoo_git_workflow#Using the gentoo git checkout as your local tree|Usar git checkout de gentoo como su árbol local]]

== Recursos externos ==

* [https://www.gentoo.org/support/news-items/2015-02-04-portage-sync-changes.html Anuncio en las noticias de Portage Sync (4 de febrero de 2015)]
* [https://archives.gentoo.org/gentoo-dev-announce/message/651feb859ae9669dfeaa19547fa698dc rsync.gentoo.org rsync modules: gentoo-repo-changelog added, gentoo-x86-portage & gentoo-sec discontinued.]


[[Category:Portage]]
