
== Introduction ==

AppArmor is a MAC (Mandatory Access Control) system, implemented upon LSM (Linux Security Modules). 

=== Installing and Setup AppArmor ===

It can be done by installing {{Package| sys-apps/apparmor}} and {{Package| sys-apps/apparmor-utils}} from [sunrise} overlay 

=== Kernel ===
We need readjusting kernel 
{{Kernel||<pre>
     Security options  --->
          [*] AppArmor support
          (1)   AppArmor boot parameter default value
              Default security module (AppArmor)  --->
</pre>}}

=== GRUB and GRUB2 ===

{{File|/boot/grub/grub.conf|Example GRUB config for apparmor with simple kernel|<pre>
title=Gentoo with apparmor
root (hd0,0)
kernel /vmlinuz root=/dev/sda2 apparmor=1 security=apparmor
</pre>}}

{{File|/etc/default/grub|Adding apparmor to grub 2|<pre>
GRUB_CMDLINE_LINUX_DEFAULT="apparmor=1 security=apparmor"
</pre>}}
You should apply changes running 

{{RootCmd|grub2-mkconfig -o /boot/grub2/grub.cfg}}


(optionally) Adding entry in fstab 
{{File|/etc/fstab|Securityfs entry for fstab|<pre>
 none     /sys/kernel/security securityfs defaults            0      0
</pre>}}
