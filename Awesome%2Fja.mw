<languages />
{{Lowercase title}}
{{InfoBox stack
|{{InfoBox homepage|https://awesomewm.org|header=true}}
|{{InfoBox github|awesomeWM/awesome}}
|{{InfoBox irc|awesome}}
|{{InfoBox ohloh}}
|{{InfoBox wikipedia|awesome (window manager)}}
}}

'''awesome''' は、[[Article description::高度な設定が可能で、次世代の、[[X]] 向けの動的な[[window manager|ウィンドウマネージャ]]です。]]主なターゲットは、パワーユーザーや開発者、その他日常的にコンピュータを扱っていてGUI環境に細かい管理が欲しいと願うすべての人たちに設定されています。プログラミング言語 Lua を使って拡張されます。

== インストール ==

=== USE フラグ ===

{{USEflag|package=x11-wm/awesome}}

=== Emerge ===

{{Package|x11-wm/awesome}} のインストール:

{{Emerge|x11-wm/awesome}}

== 設定 ==

=== 起動 ===

awesomeを起動するには、[[display manager|ディスプレイマネージャ]]または{{c|startx}}を利用します。

[[ConsoleKit]]サポートを使って{{c|startx}}を使うには、[[ConsoleKit]]を準備したうえで、以下のファイルを作成します：

{{FileBox|filename=~/.xinitrc|lang=bash|1=
exec ck-launch-session dbus-launch --sh-syntax --exit-with-session awesome
}}

=== 設定ファイル ===

awesomeのデフォルトの設定ファイルは{{Path|~/.config/awesome/rc.lua}}に置かれます。そのようなディレクトリファイルが存在しない場合は、自分で作成する必要があります。デフォルトの設定ファイルは{{c|awesome}}といっしょに提供されていて、{{Path|/etc/xdg/awesome/rc.lua}}にあります。この設定ファイルをユーザーのホームディレクトリにコピーしてください。

まずディレクトリ{{Path|awesome/}}を作成します：

{{Cmd|mkdir -p ~/.config/awesome/}}

次に設定ファイル{{Path|rc.lua}}をコピーします：

{{Cmd|cp /etc/xdg/awesome/rc.lua ~/.config/awesome/rc.lua}}

もし{{Package|x11-terms/xterm}}がインストールされていないなら、それをインストールするか、デフォルトの端末エミュレータをシステムで利用可能な端末エミュレータに変更しましょう。デフォルトの端末エミュレータを{{Package|kde-apps/konsole}}に含まれる{{c|konsole}}に設定するには、次のようにします：

{{FileBox|filename=~/.config/awesome/rc.lua|lang=lua|1=
-- This is used later as the default terminal and editor to run.
terminal = "konsole"
}}

設定ファイルを変更した後には、設定ファイルにエラーが無いかチェックするといいでしょう：

{{Cmd|awesome -k|output=<pre>
✔ Configuration file syntax OK
</pre>}}

{{Package|media-gfx/feh}} パッケージを通じた壁紙サポートを追加:

{{Emerge|media-gfx/feh}}

例えば、{{c|awsetbg}}を使って壁紙を設定するには、{{Path|~/.config/awesome/theme/theme.lua}}を編集します：

{{FileBox|filename=~/.config/awesome/theme/theme.lua|title=awsetbgを使って背景を設定する|lang=lua|1=
theme.wallpaper_cmd = { "awsetbg -f .config/awesome/themes/awesome-wallpaper.png" }
}}

あるいは単純に theme の wallpaper プロパティを設定します：

{{FileBox|filename=~/.config/awesome/theme/theme.lua|title=wallpaper プロパティを使って背景を設定する|lang=lua|1=
theme.wallpaper = ".config/awesome/themes/awesome-wallpaper.png"
}}

=== タグ ===

{{c|awesome}}のタグとは、1個以上のアプリケーションが起動している仮想デスクトップに与えられる名前です。タグには好きな記号を付けることができます：

{{FileBox|filename=~/.config/awesome/rc.lua|1=
-- {{{ Tags
tags = {}
for s = 1, screen.count() do
    tags[s] = awful.tag({ "➊", "➋", "➌", "➍" }, s, layouts[1])
end
-- }}}
}}

=== メニュー ===

以下は{{c|awesome}}メニューのカスタマイズ例です：

{{FileBox|filename=~/.config/awesome/rc.lua|1=
-- {{{ Menu
myawesomemenu = {
   { "manual", terminal .. " -e man awesome" },
   { "edit config", editor_cmd .. " " .. awesome.conffile },
   { "reload", awesome.restart },
   { "quit", awesome.quit },
   { "reboot", "reboot" },
   { "shutdown", "shutdown" }
}
 
appsmenu = {
   { "urxvt", "urxvt" },
   { "sakura", "sakura" },
   { "ncmpcpp", terminal .. " -e ncmpcpp" },
   { "luakit", "luakit" },
   { "uzbl", "uzbl-browser" },
   { "firefox", "firefox" },
   { "chromium", "chromium" },
   { "thunar", "thunar" },
   { "ranger", terminal .. " -e ranger" },
   { "gvim", "gvim" },
   { "leafpad", "leafpad" },
   { "htop", terminal .. " -e htop" },
   { "sysmonitor", "gnome-system-monitor" }
}
 
gamesmenu = {
   { "warsow", "warsow" },
   { "nexuiz", "nexuiz" },
   { "xonotic", "xonotic" },
   { "openarena", "openarena" },
   { "alienarena", "alienarena" },
   { "teeworlds", "teeworlds" },
   { "frozen-bubble", "frozen-bubble" },
   { "warzone2100", "warzone2100" },
   { "wesnoth", "wesnoth" },
   { "supertuxkart", "supertuxkart" },
   { "xmoto" , "xmoto" },
   { "flightgear", "flightgear" },
   { "snes9x" , "snes9x" }
}
 
mymainmenu = awful.menu({ items = { { "awesome", myawesomemenu },
                                    { "apps", appsmenu },
				    { "games", gamesmenu },
                                    { "terminal", terminal },
				    { "web browser", browser },
				    { "text editor", geditor }
                                  }
                        })
 
mylauncher = awful.widget.launcher({ image = image(beautiful.awesome_icon),
                                     menu = mymainmenu })
-- }}}
}}

=== 日時 ===

以下は日時フォーマットのカスタマイズ例です。フォーマット構文は<code>%d.%m %H:%M</code>です。2番目のオプション <code>60</code> は更新間隔（秒）です。

{{FileBox|filename=~/.config/awesome/rc.lua|title=時刻ウィジェットを作成|1=
-- {{{ Wibox
-- Create a text-clock widget
mytextclock = wibox.widget.textclock(" %d.%m %H:%M ", 60)
-- }}}
}}

{{Note/ja|フォーマットオプションについての詳しい情報は{{c|date --help}}を参照してください。}}

=== ボリューム制御 ===

{{Package|media-sound/volumeicon}} を使うと、自動で音量キーを扱うことができ、トレイ上のアイコンとして音量レベルを表示できます。

{{Emerge|media-sound/volumeicon}}

{{Path|~/.xinitrc}}の中から{{c|volumeicon}}を自動起動します：

{{FileBox|filename=~/.xinitrc|title=X起動時にvolumeiconをバックグラウンドで起動する|lang=bash|1=
volumeicon &
exec ck-launch-session dbus-launch awesome
}}

他に軽量な方法として、ボリュームキーの処理を直接{{c|awesome}}設定ファイルに追加することもできます：

{{FileBox|filename=~/.config/awesome/rc.lua|title=音量キー|1=
awful.key({ }, "XF86AudioLowerVolume", function () awful.util.spawn("amixer -q sset Master 2dB-") end)
awful.key({ }, "XF86AudioRaiseVolume", function () awful.util.spawn("amixer -q sset Master 2dB+") end)
}}

=== MPD マルチメディアキー ===

[[MPD]] 向けのマルチメディアキーバインディングを追加するためには {{Package|media-sound/mpc}} をインストールします:

{{Emerge|media-sound/mpc}}

次に、マルチメディアキーを適切なコマンドに割り当てるために、{{c|awesome}}の設定を更新します。

{{FileBox|filename=~/.config/awesome/rc.lua|title=音量キーの割り当て|1=
awful.key({ }, "XF86AudioNext",function () awful.util.spawn( "mpc next" ) end),
awful.key({ }, "XF86AudioPrev",function () awful.util.spawn( "mpc prev" ) end),
awful.key({ }, "XF86AudioPlay",function () awful.util.spawn( "mpc play" ) end),
awful.key({ }, "XF86AudioStop",function () awful.util.spawn( "mpc pause" ) end),
}}

=== ウィンドウの隙間をなくす ===

ターミナルのウィンドウ間では特に、ウィンドウ間の隙間が見えることがあるでしょう。これらは次のように <code>size_hints_honor = false</code> プロパティを <code>awful.rules.rules</code> テーブルの中に挿入することで消すことができます：

{{FileBox|filename=~/.config/awesome/rc.lua|title=Setting size_hints_honor property|1=
awful.rules.rules = {
    { rule = { },
      properties = { size_hints_honor = false, -- Remove gaps
                     border_width = beautiful.border_width,
                     border_color = beautiful.border_normal,
      ...
}}

=== Xephyr を使ってコンフィグをデバッグする ===

Xephyr は X サーバの実体をクライアントウィンドウの中に作成して、新しいコンフィグファイルをデバッグするのに有用なツールです。

{{Cmd|Xephyr -ac -nolisten tcp -br -noreset -screen 800x600 :1}}

このコマンドで 800x600 のウィンドウを開きます。awesome をこの中で動かすには、新しいターミナルで次のコマンドを実行します。

{{Cmd|DISPLAY{{=}}:1.0 awesome}}

これでウィンドウの中で awesome を起動できます。

== キーボード・ショートカット ==

これらは最もよく使うデフォルトのキーボードショートカットです：

* {{Key|mod4}}+{{Key|mouse1}} = マウスでクライアントを移動する
* {{Key|mod4}}+{{Key|mouse2}} = マウスでクライアントをリサイズする

* {{Key|mod4}}+{{Key|enter}} = 端末を開く
* {{Key|mod4}}+{{Key|r}} = コマンドを実行する
* {{Key|mod4}}+{{Key|shift}}+{{Key|c}} = 終了
* {{Key|mod4}}+{{Key|m}} = 最大化
* {{Key|mod4}}+{{Key|n}} = 最小化
* {{Key|mod4}}+{{Key|ctrl}}+{{Key|n}} = 最小化したクライアントを元に戻す
* {{Key|mod4}}+{{Key|f}} = フルスクリーン
* {{Key|mod4}}+{{Key|tab}} = 前のクライアントに切り替える
* {{Key|mod4}}+{{Key|ctrl}}+{{Key|space}} = フロート化

* {{Key|mod4}}+{{Key|j}} = 左のクライアントをハイライト
* {{Key|mod4}}+{{Key|k}} = 右のクライアントをハイライト
* {{Key|mod4}}+{{Key|shift}}+{{Key|j}} = クライアントを右に動かす
* {{Key|mod4}}+{{Key|shift}}+{{Key|k}} = クライアントを左に動かす

* {{Key|mod4}}+{{Key|l}} = タイル型のクライアントをリサイズ
* {{Key|mod4}}+{{Key|h}} = タイル型のクライアントをリサイズ

* {{Key|mod4}}+{{Key|left / right}} = タグを切り替える
* {{Key|mod4}}+{{Key|1-9}} = タグを切り替える
* {{Key|mod4}}+{{Key|shift}}+{{Key|1-9}} = クライアントをタグへ移動

{{c|awesome}} をより使いやすくするため、{{Key|Alt}}+{{Key|Tab}} のようなカスタムキーバインディングを設定することもできます。例えば {{Key|Alt}}+{{Key|Tab}} で一つ前のウィンドウに切り替えられるようにする場合は次のようにします。

{{FileBox|filename=~/.config/awesome/rc.lua|title=Alt-TAB key binding|1=
-- {{{ Key bindings
globalkeys = awful.util.table.join(
...
    -- alt + tab
    awful.key({ "Mod1", }, "Tab",
        function ()
            awful.client.focus.history.previous()
            if client.focus then
                client.focus:raise()
            end
        end),
-- }}}
}}

== 外部の情報 ==

* awesome wiki の [http://awesome.naquadah.org/wiki/User_Configuration_Files User Configuration Files]


[[Category:Window manager]]
