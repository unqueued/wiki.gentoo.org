{{InfoBox stack
|{{InfoBox homepage|http://wiki.qemu.org|text=Homepage (QEMU)|header=true}}
|{{InfoBox homepage|http://www.linux-kvm.org|text=Homepage (KVM)}}
|{{InfoBox wikipedia|text=Wikipedia (QEMU)}}
|{{InfoBox wikipedia|Kernel-based Virtual Machine|text=Wikipedia (KVM)}}
}}
'''QEMU''' ('''Q'''uick '''EMU'''lator) is a generic and open source machine emulator and virtualizer. '''KVM''' ('''K'''ernel-based '''V'''irtual '''M'''achine) is the hardware-assisted virtualization infrastructure provided by the Linux kernel. It's using QEMU for operation system emulation.

{{Note|This article is about QEMU with KVM, because it's the most common solution. But if you're not using the Linux kernel or if your processor doesn't have a hardware virtualization feature, just ignore the KVM specific bits for a "QEMU only" article.}}

== Installation ==

=== BIOS ===
For KVM check, that your processor's hardware virtualization feature is enabled:
{{Cmd|egrep --color "vmx{{!}}svm" /proc/cpuinfo}}

If not, enable "Intel VT", "AMD-V", etc. in your [[BIOS]].

=== Kernel ===
You need to activate the following kernel options:
{{Kernel||<pre>
[*] Virtualization  --->
    <*>   Kernel-based Virtual Machine (KVM) support

    If you have an Intel processor:
    <*>     KVM for Intel processors support

    If you have an AMD processor:
    <*>     KVM for AMD processors support

    Needed for "vhost-net" USE flag (recommend):
    <*>   Host kernel accelerator for virtio net
</pre>}}

{{Kernel|Optional advanced networking support|<pre>
Device Drivers  --->
    [*] Network device support  --->
    [*]   Network core driver support
    <*>     Universal TUN/TAP device driver support

Needed for 802.1d Ethernet Bridging:
[*] Networking support  --->
        Networking options  --->
            <*> 802.1d Ethernet Bridging
</pre>}}

{{Kernel|''python'' USE flag: kvm_stat support|<pre>
Kernel hacking  --->
    [*] Debug Filesystem
</pre>}}

=== Software ===
Install {{Package|app-emulation/qemu}}:

{{USEflag|package=app-emulation/qemu|desc=Hardware flags
|aio+yes
|alsa+yes
|bluetooth+yes
|brltty
|fdt
|opengl+yes
|pulseaudio
|rbd
|smartcard
|usbredir
|vhost-net+yes+yes
}}

{{USEflag|package=app-emulation/qemu|desc=Output flags
|ncurses+yes
|sdl+yes
|spice
}}

{{USEflag|package=app-emulation/qemu|desc=Misc flags
|caps+yes
|curl+yes
|debug
|doc
|python
|sasl
|seccomp+yes
|selinux++no
|static++no
|static-softmmu++no
|static-user++no
|tci
|tls
|vde
|virtfs
|xattr
|xen
|xfs
|QEMU_SOFTMMU_TARGETS+++Enable architectures for full system emulation. Enable in your {{Path|make.conf}}.
|QEMU_USER_TARGETS+++Enable architectures for user space programs emulation. Enable in your {{Path|make.conf}}.
}}
{{Emerge|qemu}}

=== Frontends ===
To make life easier, there are multiple user-friendly front-ends to QEMU:
* {{Package|app-emulation/virt-manager}}
* {{Package|app-emulation/aqemu}}

== Configuration ==

=== Permissions ===
Add your user to the ''kvm'' group:
{{RootCmd|gpasswd -a YOURUSER kvm}}

== Usage ==
* See [[QEMU/Options|QEMU options]] page for common options
* [[QEMU/Linux guest|Setup a Linux guest]]
* [[QEMU/Windows guest|Setup a Windows guest]]
* [[QEMU/OS2WarpV3 guest|Setup a OS2WarpV3 guest]]

== See also ==
* [[Comparison of virtual machines]]

== External resources ==
* [http://en.gentoo-wiki.com/wiki/KVM KVM] - Community Gentoo Wiki article

[[Category:Virtualization]]
