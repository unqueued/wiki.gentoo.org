{{InfoBox stack
|{{InfoBox homepage|http://www.ros.org/|header=true}}
|{{InfoBox wikipedia|Robot_Operating_System}}
|{{InfoBox overlay|https://github.com/ros/ros-overlay}}
}}

== Preface ==
There are currently (June 2016) three ways of installing ROS on Gentoo:
# Following the official (but experimental) guide using an overlay
# Following the official Linux distribution agnostic guide
# Using ROS provided by portage's Gentoo repository

If you are unsure which one to pick, stick with the overlay-based method since the other two methods may require some troubleshooting. The other two options may be more attractive to purists.

{{Note|ROS provides two links on ROS installation on Gentoo:
http://wiki.ros.org/kinetic/Installation/Gentoo <br />
http://wiki.ros.org/Installation/Gentoo
Be aware that the latter, ROS-distro agnostic documentation is just (wiki-)including the ROS-distro specific documentation. Hence both links show exactly the same information, assuming that you selected the corresponding ROS-distro on the ROS-distro agnostic link.}}

== Following the official guide and using the overlay ==

This section is intended to be complementary to the official [http://wiki.ros.org/jade/Installation/Gentoo ROS Jade Installation Guide]. 

=== Prerequisites ===

ROS jade has an overlay that is currently being maintained by the ROS Organization found [https://github.com/ros/ros-overlay here.]

You will need to set up the ROS [[Overlay]]. This removes the need for layman.

{{FileBox|filename=/etc/portage/repos.conf/ros.conf|lang=ini|1=
[ros-overlay]
location = /var/repo/ros-overlay
sync-type = git
sync-uri = https://github.com/ros/ros-overlay.git
masters = gentoo
}}

{{Note|1=The location directory must exist before sync. Create the path or adjust it to somewhere appropriate.}}

Then sync the overlay (future {{c|emerge --sync}} operations will do this automatically):

{{RootCmd|emaint sync -r ros-overlay}}

In system dependencies:

It is not recommended to use pip in Gentoo. A large effort was made to ensure that all dependencies for primarily supported OS's (e.g. Ubuntu) are also resolved for Gentoo. Core ROS packages can be installed from the overlay.

{{Emerge|dev-python/wstool dev-python/rosdep dev-python/rospkg dev-python/catkin_pkg dev-python/rosinstall_generator}}

=== Installation ===

The instructions from the official guide can be followed from this point.

== Linux distro agnostic ROS install ==

This section is intended to be complementary to http://wiki.ros.org/Installation/Source. 

The method suggested will install all ROS packages directly into your catkin workspace (so they won't be available in other workspaces) and installs ROS software dependencies from portage. As in the overlay based guide, avoid pip and install the required software for bootstrapping the ROS installation instead.

{{Emerge|dev-vcs/wstool dev-python/rosdep dev-python/rospkg dev-python/catkin_pkg dev-python/rosinstall_generator}}

== Installing ROS from Portage ==

ROS is already represented in Portage. For example:

{{Emerge|ros-meta/desktop}}

You also need to set some environment variables:

{{Cmd
|export CMAKE_PREFIX_PATH{{=}}/usr
|export PYTHONPATH{{=}}/usr/lib64/python2.7/site-packages/
|export ROS_DISTRO{{=}}kinetic
|export ROS_ETC_DIR{{=}}/usr/etc/ros
|export ROS_MASTER_URI{{=}}'http://localhost:11311'
|export ROS_PACKAGE_PATH{{=}}/usr/share/ros_packages
|export ROS_ROOT{{=}}/usr/share/ros
}}

or put them in your {{Path|.bashrc}}.

== Troubleshooting ==

* ROScore won't start (it will appear inactive for some minutes and then display a message) unless the hostname is resolved correctly. The message will refer to http://wiki.ros.org/ROS/NetworkSetup
* If you miss rosrun and other shell commands, install {{Package|dev-ros/rosbash}}
* Sourcing /etc/profile may help
* {{Package|sci-libs/vtk}} requires use-flag rendering
* {{Package|dev-ros/std_msgs}} requires use-flags ros_messages_eus ros_messages_lisp ros_messages_nodejs if you want to avoid warning at compile time
* the same use-flags should also be set for {{Package|dev-ros/sensor_msgs}} {{Package|dev-ros/geometry_msgs}} and other msgs as required
