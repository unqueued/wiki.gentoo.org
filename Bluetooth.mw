Bluetooth is an international standard for short-distance wireless communication between devices. It is often used for input devices (mice and keyboards), phones and wireless headsets, but many more other uses are possible.

Bluetooth support for Linux is provided through the Linux kernel and the [http://bluez.org BlueZ] project.

== Installing BlueZ ==

When using a Desktop environment such as [[KDE]], [[GNOME]] or [[Xfce]], the Bluetooth application will automatically install BlueZ as a dependency. 

However, if this is not the case, or you want to use bluetooth devices without any specific application, install the {{Package|net-wireless/bluez}} package:

{{Emerge|net-wireless/bluez}}

=== Kernel-level requirements ===

When you want to pair bluetooth devices with your Linux workstation, you will need to enable the proper kernel configuration settings.

{{Kernel||<pre>
Networking --->

<*> Bluetooth subsystem support  --->

--- Bluetooth subsystem support
<M>   L2CAP protocol support
<M>   SCO links support
<M>   RFCOMM protocol support
[*]     RFCOMM TTY support
<M>   BNEP protocol support
[*]     Multicast filter support
[*]     Protocol filter support
<M>   HIDP protocol support

Bluetooth device drivers  --->
<M> HCI USB driver
[*]   SCO (voice) support
<M> HCI UART driver
[*]   UART (H4) protocol support
[*]   BCSP protocol support
[*]   Transmit CRC with every BCSP packet
<M> HCI BCM203x USB driver
<M> HCI BPA10x USB driver
<M> HCI BlueFRITZ! USB driver
(The four drivers below are for PCMCIA Bluetooth devices and will only
show up if you have also selected PCMCIA support in your kernel.)
<M> HCI DTL1 (PC Card) driver
<M> HCI BT3C (PC Card) driver
<M> HCI BlueCard (PC Card) driver
<M> HCI UART (PC Card) device driver
(The driver below is intended for HCI Emulation software.)
<M> HCI VHCI (Virtual HCI device) driver

(Move back three levels to Device Drives and then check if USB is
enabled. This is required if you use a Bluetooth dongle, which are mostly USB
based.)
USB support  --->

<*> Support for Host-side USB
--- USB Host Controller Drivers
<M> EHCI HCD (USB 2.0) support
[ ]   Full speed ISO transactions (EXPERIMENTAL)
[ ]   Root Hub Transaction Translators (EXPERIMENTAL)
<*> OHCI HCD support
<*> UHCI HCD (most Intel and VIA) support
< > SL811HS HCD support
</pre>}}

Do not forget to add in to automatically load the ''bluetooth'' kernel module at boot-up:

{{File|/etc/conf.d/modules|Add in autoloading of the bluetooth module|<pre>
modules="${modules} bluetooth"
</pre>}}

=== System configuration ===

Add the ''bluetooth'' init script to the default runlevel so that the necessary bluetooth services are started automatically.

{{RootCmd
|rc-update add bluetooth default
|/etc/init.d/bluetooth start
}}

=== User authorizations ==

Most probably you would like to access bluetooth devices (through the bluetooth services) from a regular user, so add the user(s) to the ''plugdev'' group:

{{RootCmd|usermod -a -G plugdev your-username}}

To apply these changed group membership, the user needs to log out and logged in again.

== Device Attach/Pairing ==

Before a device can be used, it must be attached (''paired'' in Bluetooth-lingo). This is done by entering a PIN (or other code) on both devices.

{{Note|Some simple devices like headsets do not allow entering an arbitrary PIN, they always use the same one (usually 0000 or 9999). Check the manual of your device which is to be used.}}

In order to pair, you must first have the interaction agent active. Most desktop environments have bluetooth integration so will automatically support the interaction agent. For example, KDE has {{Package|net-wireless/bluedevil}}. 

=== Using the simple-agent ===

To help debugging bluetooth interaction (without the overhead of desktop environment libraries), the bluez package provides the '''simple-agent''' application. It is installed if the ''test-programs'' USE flag is set.

{{RootCmd
|simple-agent
|output=<pre>
Agent registered
</pre>}}

If you get the following output, it means that you already have an interaction agent running on your system:
 
{{GenericCmd|<pre>
dbus.exceptions.DBusException: org.bluez.Error.AlreadyExists: Already Exists</pre>
}}

To scan for devices, use the '''hcitool''':

{{RootCmd|hcitool scan|output=<pre>
Scanning ...
        00:24:7C:2F:92:7C       orange Nokia E71
</pre>}}

The '''hcitool''' can also be used to attach a device:

{{RootCmd|hcitool cc 00:24:7C:2F:92:7C && hcitool auth 00:24:7C:2F:92:7C}}

Any interaction requirement is handled through the '''simple-agent''' application (or the interaction agent of your preferred desktop environment).

{{GenericCmd|<pre>RequestPinCode (/org/bluez/13983/hci0/dev_00_24_7C_2F_92_7C)
 Enter PIN Code: 1234</pre>
}}

Enter a PIN and press {{Key|Enter}}, then enter the same PIN at the device.

You are now ready to proceed.

== Desktop integration ==

=== KDE ===

{{Emerge|net-wireless/bluedevil}}

=== Gnome/XFCE/GTK+ ===

{{Emerge|net-wireless/blueman}}


== Devices ==

* [[Bluetooth_Headset|Headset]]
* [[Bluetooth_Modem|Modem]]
* [[Sony_DualShock3_SixAxis|Joystick:Sony DualShock3]]

[[Category:Hardware]]
