<languages />
{{Warning|This is only a draft version of this article and far from being complete yet.}}
<translate>
Bluetooth support for Linux is provided through the Kernel and the [http://bluez.org BlueZ] project.

== BlueZ ==

When using a Desktop environment such as [[KDE]], [[GNOME]] or [[Xfce]], the Bluetooth application will automatically install BlueZ as a dependency. Otherwise install the {{Package|net-wireless/bluez}} package:
</translate>
{{Emerge|net-wireless/bluez}}
<translate>
The {{Package|net-wireless/bluez}} package comes with the following USE flags:

{{USEflag
|package=net-wireless/bluez
|alsa
|caps
|consolekit+yes
|cups
|debug
|gstreamer
|maemo6
|health
|old-daemons
|pcmcia
|pnat
|test-programs+yes
|usb
}}

== Configuration ==

{{Kernel||<pre>
  [*] Networking support  --->
    <M>   Bluetooth subsystem support  --->
      [*]   L2CAP protocol support
      Bluetooth device drivers  --->
         <M> HCI USB driver
</pre>}}

{{File|/etc/conf.d/modules|Add:|<pre>
modules="${modules} bluetooth"
</pre>}}

{{Emerge|net-wireless/bluez}}

{{RootCmd
|rc-update add bluetooth default
|/etc/init.d/bluetooth start
}}

Most probably you would like to access bluetooth daemon from regular user, so add these users to the ''plugdev'' group:
{{RootCmd|usermod -a -G plugdev your-username}}

To apply these changed group membership, the user needs to be logged out and logged in again.

== Device Attach/Pairing ==

Before a device can be used, it must be attached (''paired'' in Bluetooth-lingo). This is done by entering a PIN (or other code) on both devices.

{{Note|Some simple devices like headsets do not allow entering an arbitrary PIN, they always use the same one (usually 0000 or 9999). check the manual of your device which is to be used.}}

In order to pair, you must first have interaction agent active, if you are using desktop environment, with bluetooth integration you probably have one already, for example KDE has {{Package|net-wireless/bluedevil}}. If you are unsure or need console mode only there is a simple-agent utility within the bluez sources.

=== Using the simple-agent ===

<tt>sample-agent</tt> is installed with bluez if it is built with the "test-programs" USE flag.

{{RootCmd
|simple-agent
|output=<pre>
Agent registered
</pre>}}

If you get the following output, it means that you probably have already interaction agent in your system, no need to use the simple-agent.
  <snip>
 dbus.exceptions.DBusException: org.bluez.Error.AlreadyExists: Already Exists

Scan for devices:
{{RootCmd|hcitool scan|output=<pre>
Scanning ...
        00:24:7C:2F:92:7C       orange Nokia E71
</pre>}}

Attach device:
{{RootCmd|hcitool cc 00:24:7C:2F:92:7C && hcitool auth 00:24:7C:2F:92:7C}}

Notice that the simple-agent request interaction:
 RequestPinCode (/org/bluez/13983/hci0/dev_00_24_7C_2F_92_7C)
 Enter PIN Code: 1234

Enter a PIN and press {{Key|Enter}} then enter the same PIN at device.

You are now ready to proceed.

== Desktop integration ==

=== KDE ===

{{Emerge|net-wireless/bluedevil}}

=== Gnome/XFCE/GTK+ ===

{{Emerge|net-wireless/blueman}}

</translate>

== Devices ==

* [[Bluetooth_Headset|Headset]]
* [[Bluetooth_Modem|Modem]]
* [[Sony_DualShock3_SixAxis|Joystick:Sony DualShock3]]

[[Category:Hardware]]
