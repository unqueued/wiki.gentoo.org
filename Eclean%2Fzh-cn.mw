<languages />
{{InfoBox stack
|{{InfoBox homepage|https://wiki.gentoo.org/wiki/Project:Portage-Tools|header=true}}
}}
__TOC__

{{Lowercase title}}

'''eclean''' 是一个清理 Portage 源文件和二进制包得工具。它是 {{Package|app-portage/gentoolkit}} 包得一部分，并由 [[Project:Portage-Tools|Portage-Tools]] 项目维护。

== 安装 ==

安装 {{Package|app-portage/gentoolkit}}：

{{Emerge|gentoolkit}}

== 使用 ==

默认情况下，源文件存储在 {{Path|/usr/portage/distfiles}} 目录下， 二进制包存储在 {{Path|/usr/portage/packages}} 目录下；可以通过修改 {{Path|/etc/portage/make.conf}} 中的 <code>DISTDIR</code> 和 <code>PKGDIR</code> 变量更改对应的存储位置。如果不定期清理，这两个目录可能会悄然无声的变得非常巨大。

Clean the source files directory with the following command:

{{RootCmd|eclean distfiles}}

For the directory with the binary packages use the following command instead:

{{RootCmd|eclean packages}}

By default, source files and binary packages corresponding to any ebuild in the current Portage tree will not be deleted. This way, the user can easily downgrade a package or install a previously removed package, provided that it is still in the current Portage tree.

As an example, suppose packages <tt>foo-1.0</tt> and <tt>foo-1.1</tt> are both in the Portage tree. After updating from <tt>foo-1.0</tt> to <code>foo-1.1</code>, run <tt>eclean distfiles</tt>: source files for both versions will be kept, so if a problem occurs with <tt>foo-1.1</tt> then the user can easily re-install <tt>foo-1.0</tt> without re-downloading anything.

The other possible case is installing a previously removed package. Suppose that a package <tt>foo</tt> (any version) is installed on the system. After (inadvertently) removing it and running <tt>eclean distfiles</tt>, the source files for <tt>foo</tt> will be kept, so it can be re-installed without re-downloading anything.

The same examples also apply for binary packages.

To save more disk space, add the <code>--destructive</code> option: every source file or binary package that does not correspond to some ''currently installed'' package with version will be deleted. Please notice that this way users won't be protected in case they need to downgrade a package or re-install a previously removed package.

As an alternative, use both the <code>--destructive</code> and the <code>--package-names</code> options: every source file or binary package that does not correspond to some currently installed package (version does not matter) will be deleted. This still won't protect in case a re-install of a previously removed package is needed, but it will protect the sources if the package needs to be downgraded later.

For more details read the eclean(1) man page:

{{Cmd|man 1 eclean}}

== See also ==

* [[Gentoolkit]]


[[Category:Portage tools]]
