<languages />
<translate>
<!--T:1-->
This article describes the removal of old [[kernel]]s.

== Removing kernel sources == <!--T:2-->

<!--T:3-->
After a new kernel is installed and if it works satisfactorily, the old kernel can be removed. To remove the old kernel sources, [[emerge]]'s ''--depclean'' option (short form ''-c'') can be used to remove all old or unused versions of a slotted package, e.g. for {{Package|sys-kernel/gentoo-sources}}.
{{RootCmd|emerge --depclean --ask gentoo-sources}}

<!--T:4-->
Be sure to verify that it is not removing the sources for the currently running kernel. (See [[Kernel/Upgrade|kernel upgrade article]] on how to upgrade.)

== Remove kernel leftovers == <!--T:5-->

=== Using eclean-kernel === <!--T:12-->

<!--T:13-->
{{Package|app-portage/eclean-kernel}} is a simple tool for old kernel cleanup/removal. It removes both built kernel files and build directories if they're no longer reference by any preserved kernel.

<!--T:14-->
For example, to keep three newest kernels around:

<!--T:15-->
{{RootCmd|eclean-kernel -n 3}}

=== Manual removal === <!--T:16-->

<!--T:6-->
Portage however only removes the files it installed - the files generated during the kernel build and installation remain. They can be safely removed.

<!--T:7-->
* When a kernel is built in the source directory, files generated during the build process remain, and are not removed by Portage:
: {{RootCmd|rm -r /usr/src/linux-2.6.XY}}

<!--T:8-->
* During kernel setup, the kernel modules are copied to a sub directory of <tt>/lib/modules/</tt>:
: {{RootCmd|rm -r /lib/modules/2.6.XY}}

<!--T:9-->
* The old files in <tt>/boot</tt> can also be removed:
: {{RootCmd|rm /boot/kernel-2.6.XY|rm /boot/System.map-2.6.XY|rm /boot/config-2.6.XY}}

<!--T:10-->
* Lastly, remove all leftover entries from your bootloader's config file.

<!--T:11-->
[[Category:Kernel]]
</translate>
