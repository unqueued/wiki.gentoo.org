'''/etc/portage/env''' and '''/etc/portage/package.env''' are used for modifying environmental variables, such as those in [[make.conf]], on a per-package basis.

* The <code>/etc/portage/env</code> directory contains files that have the same syntax as <code>make.conf</code>. The filename will be used as the key to override settings.
* The <code>/etc/portage/package.env</code> file describes which of these files will be used on a per-package basis.

==Example 1: Enable debug information for a specific package==
Suppose you would like to build GIMP with debug information because you are using a development version and you would like to report any crashes.
Create a file in /etc/portage/env that contains the desired changes:
{{Code|/etc/portage/env/debug.conf|<pre>
CFLAGS="${CFLAGS} -ggdb"
CXXFLAGS="${CXXFLAGS} -ggdb"
FEATURES="splitdebug"
</pre>}}

Next, add an entry to package.env followed by the name of the file you created:
{{Code|/etc/portage/package.env|<pre>
media-gfx/gimp  debug.conf
</pre>}}

==Example 2: Build certain packages in a different location==
Suppose your portage build directory is in [[tmpfs]], but some packages are too large, and run out of space. You can modify PORTAGE_TMPDIR for those packages.

Create an env file that modifies <tt>PORTAGE_TMPDIR</tt> and sets it to an on-disk directory:
{{Code|/etc/portage/env/no-tmpfs.conf|<pre>
PORTAGE_TMPDIR="/var/tmp/portage-ondisk"
</pre>}}

Add large packages to package.env:
{{Code|/etc/portage/package.env|<pre>
app-emulation/qemu-kvm  no-tmpfs.conf
app-office/libreoffice  no-tmpfs.conf debug.conf
www-client/firefox      no-tmpfs.conf
</pre>}}
Notice that it's possible to reference several env files for each package.
<small>(Tip originally blogged by [http://blog.jolexa.net/2011/09/16/gentoo-per-package-portage_tmpdir-settings/ Jeremy Olexa])</small>

==See also==
* [[:/etc/portage]]
* [http://dev.gentoo.org/~zmedico/portage/doc/man/portage.5.html Portage Manpage]
* [[Knowledge Base:Overriding environment variables per package]]

[[Category:Portage]]
