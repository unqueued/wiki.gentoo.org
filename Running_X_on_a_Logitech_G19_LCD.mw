[http://en.wikipedia.org/wiki/Logitech_G19 The Logitech G19] keyboard is a gaming keyboard that has extra keys and a built-in LCD color display. Its display is small and its resolution is rather low (320x240 pixels), but it's enough to do a lot of useful and cool things, considering it's connected with USB 2.0.

The following instructions describe the installation of the kernel driver and the setup of a secondary X server. While it should be possible to use your existing X server to handle the G19 LCD in addition to your screen(s), there are advantages on using a separate X server. For example, you can start/stop/restart the G19 X while your main X is running.

== Kernel Preparation ==
The official linux kernel does not have support for the G19 yet. However, you can get a working driver from github:

{{Cmd|git clone https://github.com/CMoH/lg4l.git}}

But before installing it you must make sure your kernel has CONFIG_FB_DEFERRED_IO set.

{{Cmd|grep CONFIG_FB_DEFERRED_IO /usr/src/linux/.config<pre>
CONFIG_FB_DEFERRED_IO<nowiki>=</nowiki>y</pre>}}

There isn't a way to directly set this from the kernel makemenu, but I did manage to enable it by enabling something that selects it:
{{Kernel||<pre> Device Drivers --->  
    HID Devices (HID_SUPPORT [=y]) --->  
       Special HID drivers --->
          <M> PicoLCD (graphic version)</pre>}}
Please note this driver isn't really needed, it's just a hackish way to select CONFIG_FB_DEFERRED_IO through makemenu. If you know of a better way, please add it here.

Now you will need to compile the new kernel image and install it. Making just the modules isn't enough as you have changed CONFIG_FB_DEFERRED_IO. Don't reboot yet.

== Installing the lg4l driver ==

{{Cmd|cd lg4l
|make
|su -c "make install"}}
If you haven't set CONFIG_FB_DEFERRED_IO as described above, you will get an error while compiling. If everything is ok, move on.

== Installing fbdev ==
You will also need fbdev to run X later:

{{RootCmd|emerge -uav xf86-video-fbdev}}
You may now reboot.



Before installing the
