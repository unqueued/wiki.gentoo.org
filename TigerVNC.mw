A client/server software package allowing remote network access to graphical desktops.

== Installation ==

=== USE flags ===

{{USEflag|package=net-misc/tigervnc}}

=== Emerge ===

Those using the package for the VNC server need to install the package with the <code>server</code> USE flag enabled. This can be added to the {{Path|[[:/etc/portage/package.use|package.use]]}} file (or directory), or specified one-shot-like on the command-line:

{{RootCmd|USE{{=}}"server" emerge --ask --update --newuse net-misc/tigervnc}}

{{Note|Setting <code>USE{{=}}"server"</code> as displayed in the example above ''will'' emerge the package with the specified USE flags, ''however'' the flags will not be preserved upon package upgrades. Be sure to set them in {{Path|package.use}} in order to make flags persist when applying system updates.}}

Those installing just the client can simply emerge the package:

{{Emerge|net-misc/tigervnc}}

== Configuration ==

Login as 'normal' user. The following steps should be take for any user who wishes to configure the VNC server for remote connection.

Set a password:

{{Cmd|vncpasswd}}

Start the server:

{{Cmd|vncserver}}

If desired, use a VNC client on either a local or remote machine to test the connection.

Once finished, kill the running vncserver:

{{Cmd|pkill Xvnc}}

=== Displays ===

Setup the displays. Substitute each '<code>user</code>' value below with the name of a user who will be running the VNS server on the machine:

{{FileBox|filename=/etc/conf.d/tigervnc|lang=bash|1=
DISPLAYS="user:1 user2:2"
}}

Typically the value of <code>0:</code> will be used for the server's own X display. This is why the example above starts by using the <code>:1</code> display handle.

=== Desktop environments ===

Each user who will be running a VNS server can configure an X startup script. This script can define which desktop environment will be used for the X server to run when connecting a client to the server. For example:

{{FileBox|filename=~/.vnc/xstartup|lang=bash|1=
#!/bin/sh
startkde &
#startxfce4 &
#startfluxbox &
#fvwm2 &
#icewm-session &
#startlxde &
#xfce4-panel &
}}

==== lxterminal ====

Edit the VNC startup script:

{{FileBox|filename=~/.vnc/xstartup|lang=bash|1=
#!/bin/sh
xrdb ${HOME}/.Xresources
xsetroot -solid black
lxterminal &
/usr/bin/lxsession -s LXDE &
}}

==== twm ====

Edit the VNC startup script:

{{FileBox|filename=~/.vnc/xstartup|lang=bash|1=
#!/bin/sh
xrdb ${HOME}/.Xresources
xsetroot -solid grey
xterm -geometry 80x24+10+10 -ls -title "$VNCDESKTOP Desktop" &
twm &
}}

Make sure the {{Path|xstartup}} file is executable:

{{Cmd|chmod +x ~/.vnc/xstartup}}

=== Services ===

==== OpenRC ====

Start the server:

{{RootCmd|service vnc start}}

== Usage ==

=== Connecting ===

{{Cmd|vncviewer server:1}}

==== Connect over ssh with high resolution ====

{{Cmd|vncviewer -truecolour -quality 9 -via user@remotehost localhost:1}}

{{Cmd|vncviewer -truecolour -quality 9 -via user2@remotehost localhost:2}}

== See also ==

* [[ssh]] - Secure shell.

[[Category:VNC]]
