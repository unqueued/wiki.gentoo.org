<languages />
이 페이지의 목적은 사용자에게, 약간의 새로운 기술과 도구로 자신 스스로게 젠투 설정 과정에서 문제를 찾고 해결할 수 있도록 하는 실마리 제공에 있습니다. 게다가 더 복잡한 문제에 있어서도, 이 게시글은 사용자로 하여금 문제를 해결하는 과정에서 자신 스스로에게 도움을 줄 정보를 수집하는 기법을 제공하려 내용을 살펴봅니다.

이 글에서는 [[Handbook:Main_Page|젠투 핸드북]]을 이미 읽었고 젠투 사용법의 기본을 이미 알고 있다고 가정합니다.

== 도움을 받을 곳 ==

젠투는 풍부한 정보를 가지고 있는 몇가지 위키 문서를 보유하고 있습니다. 일부 글이 오래되어 한물간 내용이 있음을 참고하셔야겠지만, 젠투를 사용할 때 위키 글을 쉽게 읽어내려가다보면 항상 어려운 단계에 부딪힙니다.

* [[Main Page|공식 젠투 위키]]<sup style="color:#ff0077">en</sup>
* [http://gentoo-en.vfose.ru/ 비공식 젠투 위키]<sup style="color:#ff0077">en</sup>
* [http://gentoo-wiki.info/ Gentoo-Wiki.com 게시글 모음]<sup style="color:#ff0077">en</sup>
* 일반 사례 및 문제를 다룬 [[:Category:Knowledge Base|지식 창고]]<sup style="color:#ff0077">en</sup>

{{IRC|#gentoo}}는 일반 문제를 다루는 추천 대화방입니다. 답변을 가장 빨리 얻을 수 있는 곳일지도 모릅니다.

IRC 대화방은 접속한 상태로 있어야 하기 때문에, 일부 사용자는 [https://forums.gentoo.org/ 포럼]<sup style="color:#ff0077">en</sup> 또는 브라우저를 닫아도 계속 살펴볼 수 있는 [http://www.gentoo.org/main/en/lists.xml 메일링 리스트]<sup style="color:#ff0077">en</sup>에 메시지를 남겨두는게 좋습니다.

When all else fails, and it appears something is broken with Gentoo, [https://bugs.gentoo.org/ Gentoo's bug tracker] is a great resource to see if something has already been reported, or to create new bugs if need be. This is a very effective way to reach the Gentoo Developers, which can then use the given feedback to improve the problematic situation and solve the problem.

== 프로그램 ==

This is a collection of tools that are ''highly'' recommended:

=== 꾸러미 관리 ===

{| class="table"
! Package
! Description
|-
| {{Package|app-portage/gentoolkit}}
| provides a collection of tools for interacting with Gentoo; it includes the valuable `equery`, `eclean`, `euse` and `eshowkw`, see their man pages for more information.
|-
| {{Package|app-portage/eix}}
| provides [[eix]], a tool for querying portage for packages
|-
| {{Package|app-portage/pfl}}
| provides e-file, a tool for querying what package contains a given file; it also works for packages that aren't installed since it uses an online lookup.
|-
| {{Package|app-portage/genlop}}
| provides genlop, a tool for parsing emerge logs; handy to figure out when certain packages were installed, updated and to see how long they took to compile.
|-
| {{Package|app-portage/elogv}}
| provides elogv, a ncurses based interface for browsing emerge logs.
|}

=== 하드웨어 ===

{| class="table"
! Package
! Description
|-
| {{Package|sys-apps/pciutils}}
| provides lspci, a tool for gathering information about PCI devices.
|-
| {{Package|sys-apps/usbutils}}
| provides lsusb, a tool for gathering information about USB devices.
|}

=== 감시 ===

{| class="table"
! Package
! Description
|-
| {{Package|sys-process/htop}}
| provides htop, a tool for monitoring processes.  Like top, but more advanced.
|-
| {{Package|sys-process/iotop}}
| provides iotop, a top-like tool for monitoring IO activity by process.
|-
| {{Package|net-analyzer/net-top}}
| provides net-top, a top-like tool for examining network traffic by protocol, port, and process.
|}

=== 기타 ===

{| class="table"
! Package
! Description
|-
| {{Package|app-text/wgetpaste}}
| provides wgetpaste, a tool for uploading text directly to a pastebin.
|-
| {{Package|net-irc/weechat}}
| provides weechat, a simple text based IRC client.
|}

== 첫 단계 ==

문제 상황을 해결 생황으로 이끌어내려면 우선 문제를 잘 이해해야합니다. 해결책을 끌어올리는게 불가능한 일이 아닌 상황에서 문제를 제대로 이해하지 못하면 어려워집니다.  분명하게 말해서, 문제를 자세하게 설명하면, 문제에 정확하게 맞는 해결책을 이끌어낼 수도 있습니다. 

=== 문제 인식 ===

이 부분은 무개념한 사용자들에게 도움을 주는 내용이겠지만, 이 부분이 없다면 문제 발견 과정에서 다음으로 넘어갈 수 없습니다.

몇가지를 참고해 두십시오:
# 하드웨어의 문제인가? 프로그램의 문제인가?
# 이 문제가 일어나기 전에 어떤 동작을 취해서 바뀐 것이 있는가?
# 문제에 대한 추가 정보를 모을 수 있는가?

자세한 내용, 기록,  다른 사람이 겪은 적이 있는지 여부 등의 정보를 제공한다면 문제를 살펴보기 편하게 해줍니다.

=== 하드웨어 문제 ===

==== 드라이버 ====

하드웨어의 드라이버 이슈는 IRC에서 종종 회자되는 일반적인 문제 중 하나입니다.

무엇보다도 먼저, 어떤 하드웨어가 문제를 일으키는지 확인하십시오. {{c|lspci}}와 {{c|lsusb}} 명령은 이 용도에 따른 멋진 도구입니다. 목적을 시연하기 위해 문제있는 이더넷 카드 장치를 찾아보겠습니다.

===== 적당한 드라이버 찾기 =====

First look with <tt>lspci</tt> and find the device information:
 
{{RootCmd|lspci|output=<pre>
 03:00.0 Ethernet controller: Marvell Technology Group Ltd. 88E8071 PCI-E Gigabit Ethernet Controller (rev 16)
</pre>}}

It is also possible to use the <code>-n</code> option to give a short-hand notation (which might be easier to search for on the Internet):

{{RootCmd|lspci -n|output=<pre>
 03:00.0 0200: 11ab:436b (rev 16)
</pre>}}

The model name (<code>0200</code>) and vendor/model (<code>11ab:436b</code>) can be used to look up the device on a place like [http://wikidevi.com/ WikiDevi] or [http://kmuto.jp/debian/hcl/ Debian HCL] to find the right driver to use in Linux.

===== 드라이버 불러오기 유무 확인 =====

드라이버를 가져오는 일은 반절의 사투도 채 안됩니다. 대부분 드라이버와 얽히는 문제는 제대로 불러와서 동작하는지 확인하는 과정입니다.

{{c|lspci}}에게 다시 기대보도록 하죠:

{{RootCmd|lspci -k|output=<pre>
 03:00.0 Ethernet controller: Marvell Technology Group Ltd. 88E8071 PCI-E Gigabit Ethernet Controller (rev 16)
 	Subsystem: Acer Incorporated [ALI] Device 014e
 	Kernel driver in use: sky2
</pre>}}

Note that here, an indicator is given that a driver is in use. If not, then no driver has claimed responsibility over this hardware. Assuming the driver was built as a module rather than built-in, try <tt>modprobe <modulename></tt> to attempt loading the right module. If the driver was built-in, consider making it a module, because modules can be loaded with <tt>modprobe</tt> and unloaded with <tt>modprobe -r</tt> which saves on number reboots while debugging the issue.

===== 드라이버 문제 해결 =====

Compile the driver as a module, then capture the output it generates when the module is loaded. Make sure to first remove all modules that depend on the driver (see <tt>lsmod</tt>).

The following command will compare the <tt>dmesg</tt> output after removing the module (in this example, <tt>r8169</tt>) with the output after adding the module again, effectively showing the messages that were added (lines starting with +).

{{RootCmd|diff -u <(modprobe -r r8169; dmesg) <(sleep 1; modprobe r8169; dmesg) &#124; grep ^+}}

The most common issue is missing firmware. If a message shows up that informs the administrator about missing firmware, grab either {{Package|sys-kernel/linux-firmware}} or a specific firmware package from Portage and install it. After the firmware installation, unload and load the kernel module again to see if this fixes the situation.

=== Software issues ===

==== Portage issues ====

===== Dependency graph slot conflicts =====

Occasionally, messages like this occur when trying to emerge a package:

{{CodeBox|title=Dependency graph error|1=
!!! Multiple package instances within a single package slot have been pulled
!!! into the dependency graph, resulting in a slot conflict:
}}

Generally, this means that the packages listed have multiple requested versions in the dependency graph.  And fortunately most, if not all, cases allow to resolve it by manually upgrading to the highest requested version.  So assuming that the following message was received:

{{CodeBox|title=Example of dependency graph error|1=
app-emulation/emul-linux-x86-xlibs:0 
(app-emulation/emul-linux-x86-xlibs-20120127::gentoo, installed) pulled in by 
~app-emulation/emul-linux-x86-xlibs-20120127 required by (app-emulation/emul-linux-x86-medialibs-20120127::gentoo, installed) 
(and 2 more with the same problem) 
 
(app-emulation/emul-linux-x86-xlibs-20120520::gentoo, ebuild scheduled for merge) pulled in by 
>=app-emulation/emul-linux-x86-xlibs-20120520 required by (net-im/skype-2.2.0.35-r99::gentoo, ebuild scheduled for merge) 
~app-emulation/emul-linux-x86-xlibs-20120520 required by (app-emulation/emul-linux-x86-medialibs-20120520::gentoo, ebuild scheduled for merge) 
}}

The most recent version desired is 20120520, so:

{{Emerge|params+=--oneshot|{{=}}app-emulation/emul-linux-x86-xlibs-20120520}}

Often, it's advantageous to one-shot (<code>--oneshot</code> or <code>-1</code>) all of the conflicts at once because they sometimes depend on one another.

Here is another example of a block:

{{CodeBox|title=Example of a block conflict|1=
app-text/poppler:0
 
 (app-text/poppler-0.24.5::gentoo, installed) pulled in by
   app-text/poppler:0/44=[xpdf-headers(+)] required by (dev-tex/luatex-0.76.0::gentoo, installed)
   app-text/poppler:0/44=[cxx,jpeg,lcms,tiff,xpdf-headers(+)] required by (net-print/cups-filters-1.0.43::gentoo, installed)
 
 (app-text/poppler-0.24.3::gentoo, ebuild scheduled for merge) pulled in by
   >=app-text/poppler-0.12.3-r3:0/43= required by (app-text/texlive-core-2013-r1::gentoo, installed)
   poppler:0/43
}}

There should be no problem changing poppler versions. Note that luatex and cups-filters don't require a specific version of poppler, but they need to be rebuild with whatever version is used:

{{Emerge|params+=--oneshot|{{=}}app-text/poppler-0.24.3 dev-tex/luatex net-print/cups-filters}}

=== 추가 정보 수집 ===

도움을 요청할 때, 단 한번도 어떤 내용을 요구받지 않는다기보다는 어떤 추가 정보든 명령 출력 내용 같은 걸 여러번 요구받습니다. 이 문제는 수십줄 내지는 백여줄의 텍스트가 있습니다. 프리노드의 젠투 지원 채널 같은 IRC 대화방에 적당히 붙여넣기에는 너무 많습니다. 때문에 이 문제를 간편하게 해주는 {{c|wgetpaste}}를 도입했습니다. 사용자로 하여금 긴 출력 내용을 간단한 링크로 어딘가에 게시할 수 있게 해줍니다.

{{Package|app-text/wgetpaste}}를 설치했는지 확인하십시오:

{{Emerge|wgetpaste}}

예를 들어 {{Path|/etc/conf.d/net}}의 내용을 보여주려면 {{c|wgetpaste}}를 활용하여 다음과 같이 단순화할 수 있습니다:

{{Cmd|wgetpaste /etc/conf.d/net}}

또는 {{c|lspci}} 명령의 자세한 출력을 누군가가 필요하다고 한다면:

{{RootCmd|lspci -nnk {{!}} wgetpaste}}

Sometimes it is necessary to redirect stderr to stdout so that error messages can be pasted as well. That can be done like this:

{{RootCmd|emerge -pv 2>&1 {{!}} wgetpaste}}

These return a link to a pastebin site page that can be easily shared with someone to get help.

붙여넣을때 고려해야 할 사항은:

하드웨어 문제 또는 커널 문제일 경우:
: {{Cmd|wgetpaste /usr/src/linux/.config}}

* 포티지 문제일 경우:
: {{Emerge|params=--verbose|--info {{!}} wgetpaste}}

* 꾸러미 설치 문제일 경우:
: {{RootCmd|wgetpaste /var/tmp/portage/<category>/<package>-<version>/temp/build.log}}

* Xorg 문제일 경우:
: {{Cmd|wgetpaste /var/log/Xorg.0.log}}

* 시스템에 설치한 모든 꾸러미를 제공해야 할 경우:
: {{RootCmd|eix-update && eix-installed all}}

==== Wrapping things together ====

Below is a shell function that can be used to have several commands executed and their output processed by a single <tt>wgetpaste</tt> command so that only one URL needs to be provided to the user or developer that wants to help out:

{{RootCmd|<pre>
execv(){ for cmd in "$@"; do echo -e "\n=== $cmd ===\n"; $cmd; done; }
(execv "cat /etc/*-release" "uname -a" "lspci -nnk" "lsusb" "eselect profile list"\
 "emerge --info" "cat /usr/src/*$(uname -r)/.config" "cat /var/log/Xorg.0.log" "dmesg"\
 "eix-update" "eix-installed all")\
 | wgetpaste
</pre>}}

==== Please do not use pastebin services on the gentoo-user mailing list ====

Most pastebin services expire old pastes periodically (not to mention that pastebin services are hardly profitable, and close down all the time) whereas mailing list messages are archived in multiple places and are referenced for years. If the relevant output is short, or can be trimmed, then copy and paste it into the body of the email - longer output can be directed into a text file and added as a plain attachment.

=== 해결책 정리 ===

문제 설명문을 알기 쉽게 작성하고, 동작에 대한 모든 기록, 모든 종류의 디버깅 데이터(세부 문제, 하드웨어 / 소프트웨어 정보, 로그, 백트레이스 등) 를 포함한 쓸만한 데이터 모음을 바람직하게 모아두면 해결책을 찾아볼 수 있습니다:

해결책을 찾으려면 다음 과정을 반복합니다:

* Get an idea where the problem might be, think about possible causes.
* If there are no obvious areas to look into, become more acquainted with the related areas or ask an expert more about it.
* Sometimes it is necessary to make assumptions to proceed. When assumptions are made, put it to the test: false assumptions should not make users and developers blind of other causes.
* Obtain additional debugging information in the area of a problem, or perform tests.

Often this will lead to multiple possible causes. It is important to test them (to verify it is the actual cause or not) and therefore test them individually; this is also known as "divide and conquer".

Let's say a problem like "my browser sometimes displays white pages when I boot" comes up and a lot of details are already known about it, then there may be number of possible causes:

* Is this because the browser was improperly closed when the system rebooted?
: Verify this by killing the process and pulling the plug several times, each time checking if the pages are white after booting again. If this is a cause, is it the actual cause or are there other causes?
* Is this the result of a specific browser version being broken?
: Try older or newer versions for a few days or reboots and see if they are broken as well.

등등... 

With the additional information, dare to think about more specific causes:

* Does a certain pinned tab X that loads plugin Y break the system?
: Unpin the tab so it doesn't open on launch anymore or disable the plugin, see if this keeps the problem away.
* Graphical issues were reported as well, might this maybe mean this is caused by the video drivers?
: Try a different version for those drivers, or alternative drivers if available.

As each possible cause is investigated, the actual cause of the problem might come closer and closer.

And in the end, if the cause is still not found, the [[#Where to Get Help|Where to get help]] resources at the top of this article yield a multitude of places with people that are looking forward to help; make them happy with a careful problem description and mentioning what has already been tried so far, it'll help them help out.
[[Category:Core system]]
[[Category:Software]]
