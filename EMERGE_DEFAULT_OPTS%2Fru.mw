{{DISPLAYTITLE:EMERGE_DEFAULT_OPTS}}<languages />
<!-- This page is transcluded, please keep the summary,example,more info structure through the onlyinclude -->
<onlyinclude>
Содержимое переменной <var>EMERGE_DEFAULT_OPTS</var> добавляется в командую строку emerge. Она часто используется для определения количества одновременно работающих задач с помощью параметров <code>--jobs <var>N</var></code> и <code>--load-average <var>X.Y</var></code>, которые сообщают Portage количество одновременно компилируемых пакетов и какая средняя нагрузка на систему (load average) может использоваться.

</onlyinclude>__TOC__

== Популярные примеры использования ==

=== Параллельная компиляция ===

С <code>--jobs <var>N</var></code> (короткое обозначение: <code>-j<var>N</var></code>), {{c|emerge}} запускает <var>N</var> задач одновременно (без аргумента, параметр <code>-j</code> займет все процессорное время, создавая задачи компиляции при малейшем появлении свободных ресурсов — это не рекомендуется). Типичное значение для <var>N</var> обычно равно количеству ядер.

<onlyinclude>Например, чтобы запустить 3 задачи параллельно:

{{FileBox|filename=/etc/portage/make.conf|title=Настройка для компиляции пакетов в 3 параллельных задачах|lang=bash|1=
EMERGE_DEFAULT_OPTS="--jobs 3"
}}<includeonly>

Для более подробной информации смотрите статью [[EMERGE_DEFAULT_OPTS/ru|EMERGE_DEFAULT_OPTS]].</includeonly></onlyinclude>

В случае использования <code>--load-average <var>X.Y</var></code> (короткое обозначение: <code>-l<var>X.Y</var></code>), emerge попытается держать среднюю нагрузку на систему меньше чем <var>X.Y</var>, число с плавающей точкой. Если еще используется <code>--jobs</code>, то также будет работать пределах, которые указаны в этом параметре.

Средняя величина нагрузки это тоже самое, что отображается в {{c|top}} и {{c|uptime}}. Для <var>N</var>-ядерных систем, средняя нагрузка в <code><var>N</var>.0</code> даст 100% нагрузку. Другое полезное правило установить <code><var>X.Y</var>=<var>N</var>*0.9</code>, что ограничит нагрузку на 90%, что тем самым сохранит отзывчивость системы.

{{Note|Когда <code>MAKEOPTS{{=}}"-jN"</code> используется вместе с <code>EMERGE_DEFAULT_OPTS{{=}}"--jobs K --load-average X.Y"</code> число возможно создаваемых задач может увеличится до <code>N*K</code>. Поэтому обе переменные должны быть заданы с учетом друг друга, так как вместе они создают K задач, каждая из которых может создать N задач make.}}

These two settings are suited for long emerges which include multiple source code files to make the most of the <code>--jobs</code> parameter. They can also cause emerge errors in some cases, so use with caution and be prepared to comment these out if problems arise.
[[Category:Portage]]
