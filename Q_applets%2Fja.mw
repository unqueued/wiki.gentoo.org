{{Lowercase title}}

<languages />


{{Metadata|abstract=QアプレットはCで書かれた小さくて素早い、portageのヘルパーツールです。このガイドはapp-portage/portage-utilsパッケージとしても知られる、これらのヘルパーツールを使う一般的なユーザー向けです。}}

QアプレットはCで書かれた小さくて素早い、portageのヘルパーツールです。このガイドは{{Package|app-portage/portage-utils}}としても知られる、これらヘルパーツールの基本的な使い方を説明します。

== クイックリファレンス ==

いつも通りにインストールできます:

{{Emerge|app-portage/portage-utils}}

短い説明文付きで利用可能なアプレットを見るには、こうします:

{{Cmd|q --help|output=<pre>
Usage: q <applet> <args>  : invoke a portage utility applet
  
Currently defined applets:
        q <applet> <args> : virtual applet
    qatom <pkg>           : split atom strings
   qcache <action> <args> : search the metadata cache
   qcheck <pkgname>       : verify integrity of installed packages
 qdepends <pkgname>       : show dependency info
    qfile <filename>      : list all pkgs owning files
    qglsa <action> <list> : check GLSAs against system
    qgrep <misc args>     : grep in ebuilds
    qlist <pkgname>       : list files owned by pkgname
     qlop <pkgname>       : emerge log analyzer
   qmerge <pkgnames>      : fetch and merge binary package
     qpkg <misc args>     : manipulate Gentoo binpkgs
  qsearch <regex>         : search pkgname/desc
    qsize <pkgname>       : calculate size usage
    qtbz2 <misc args>     : manipulate tbz2 packages
     quse <useflag>       : find pkgs using useflags
    qxpak <misc args>     : manipulate xpak archives
  
Options: -[irmM:vqChV]
  -i, --install        * Install symlinks for applets
  -r, --reinitialize   * Reinitialize ebuild cache
  -m, --metacache      * Reinitialize metadata cache
  -M, --modpath  <arg> * Module path
  -v, --verbose        * Make a lot of noise
  -q, --quiet          * Tighter output; suppress warnings
  -C, --nocolor        * Don't output color
  -h, --help           * Print this help and exit
  -V, --version        * Print version and exit</pre>
}} 

ルート権限でキャッシュを初期化する必要があるでしょう:

{{RootCmd|q -r}}

== イントロダクション ==

<code>portage-utils</code>はCで書かれたとても速いユーティリティの集まりで、<code>gentoolkit</code>と比較して機能を制限するかわりに速さを提供しています。<code>portage-utils</code>は<code>gentoolkit</code>を置きかえるものではないことを覚えていてください。 この効用は<code>gentoolkit</code>と較べてより高い効率をもたらし、Portageを繰り返し呼び出す必要があるスクリプトで使われることに適していますが、<code>portage-utils</code>は同じ機能性を提供するわけではありません。eclassを全く考慮しませんし、<code>revdep-rebuild</code>や<code>glsa-check</code>のようなものも提供しません。 

<code>gentoolkit</code>についてのより詳しい情報は[[Gentoolkit]]の中で見つけることができます。 

<code>man q</code>または<code>q --help</code>と入力することによって<code>portage-utils</code>に含まれているアプリケーションの完全なリストを見ることができます。このガイドでは最も役立つ機能について短く言及するだけにとどめ、それぞれのアプリケーションに関する情報全てを含めることはしませんので、それぞれのユーティリティについての説明はmanページをご覧ください。 

== 使い方 ==

=== あるファイルが含まれているパッケージを見つける方法 ===

<code>qfile</code>はファイルがどのパッケージに属しているか見付けます: 

{{Cmd|qfile /etc/fonts/fonts.conf|output=<pre>
media-libs/fontconfig (/etc/fonts/fonts.conf)
</pre>}}

{{Cmd|qfile /usr/share/keymaps/atari/atari-uk-falcon.map.gz|output=<pre>
sys-apps/kbd (/usr/share/keymaps/atari/atari-uk-falcon.map.gz)
</pre>}}

=== パッケージの完全性確認 ===

もしパッケージによってインストールされたファイルのMD5チェックサムやmtimeを確認したいのなら<code>qcheck</code>アプリケーションをお使いいただけます: 

{{Cmd|qcheck portage-utils|output=<pre>
Checking app-portage/portage-utils-0.1.13 ...
  * 36 out of 36 files are good
</pre>}}

もちろん、インストール後に変更された全てのファイルがここで報告されます。もしインストール後に手動で変更したファイルをアプリケーションが報告しても、心配することはありません。 

=== あるパッケージに依存しているパッケージの一覧表示 ===

もちらんこれはあるパッケージに依存しているパッケージ全てのリストを表示するアプリケーションです。<code>qdepends</code>としてお使いいただけます。<code>-a</code>フラグを使うことでパッケージ毎の全てのDEPEND、RDEPEND、PDEPEND情報を表示します。 

{{Cmd|qdepends -a pygtk|output=<pre>
 * DEPEND
dev-python/pygtk-2.8.2: >=dev-lang/python-2.3 >=x11-libs/gtk+-2.8.0
>=dev-libs/glib-2.8.0 >=x11-libs/pango-1.10.0 >=dev-libs/atk-1.8.0
>=gnome-base/libglade-2.5.0 >=dev-python/pycairo-0.9.0 dev-python/numeric
virtual/opengl dev-python/pyopengl >=x11-libs/gtkglarea-1.99
>=dev-util/pkgconfig-0.9 sys-devel/patch
 * RDEPEND
dev-python/pygtk-2.8.2: >=dev-lang/python-2.3 >=x11-libs/gtk+-2.8.0
>=dev-libs/glib-2.8.0 >=x11-libs/pango-1.10.0 >=dev-libs/atk-1.8.0
>=gnome-base/libglade-2.5.0 >=dev-python/pycairo-0.9.0 dev-python/numeric
virtual/opengl dev-python/pyopengl >=x11-libs/gtkglarea-1.99
 * PDEPEND
</pre>}}

=== あるebuildに属するファイルの一覧表示 ===

<code>qlist</code>はあるebuildに属するファイル全ての一覧を提供します。 

{{Cmd|qlist vim|output=<pre>
/usr/bin/gvim
/usr/bin/gvimdiff
/usr/bin/evim
/usr/bin/eview
/usr/bin/gview
/usr/bin/rgvim
[...]
</pre>}}

=== あるUSEフラグを使っているパッケージの検索 ===

<code>quse</code>をroot権限で実行してください。最初のebuildキャッシュ生成・更新時には時間がかかることがあります。 

{{Cmd|quse firefox|output=<pre>
app-misc/tracker/tracker-0.12.10-r1.ebuild applet doc eds elibc_glibc exif firefox-bookmarks flac flickr gif
[...]
</pre>}}

=== パッケージサイズの検索 ===

単に<code>qsize</code>アプリケーションを実行するだけです: 

{{Cmd|qsize vim|output=<pre>
app-editors/gvim-6.4: 10 files, 7 non-files, 2327.516 KB
app-editors/vim-6.4: 6 files, 2 non-files, 2058.14 KB
app-editors/vim-core-6.4: 1024 files, 68 non-files, 10950.984 KB
[...]
</pre>}}

=== Portageツリーの検索 ===

<code>portage-utils</code>の中で最も強力なツールのうちの一つが<code>qsearch</code>です。このツールは既存の<code>emerge -s</code>を実行するよりもかなり早くPortageツリーを検索できます。 

いくつか使い方の例を挙げます: 

{{Cmd|qsearch terminus|output=<pre>
media-fonts/terminus-font A clean fixed font for the console and X11
</pre>}}

I want to thank the guy who made them. What's his homepage?:
{{Cmd|qsearch -H terminus|output=<pre>
media-fonts/terminus-font http://www.is-vn.bg/hamster/jimmy-en.html
</pre>}}

Jabberクライアントが今すぐ必要です:

{{Cmd|qsearch -S "jabber client"|output=<pre>
app-emacs/emacs-jabber A Jabber client for Emacs.
net-im/gajim Jabber client written in PyGTK
net-im/gnome-jabber Gnome Jabber Client
net-im/gossip Lightweight Jabber client for GNOME
net-im/imcom Python commandline Jabber Client
net-im/psi QT 3.x Jabber Client, with Licq-like interface
net-im/tkabber Featureful Jabber client for tcl/tk.
x11-themes/psi-themes Iconsets for Psi, a QT 3.x Jabber Client
</pre>}}

=== emergeログからの情報抽出 ===

このツールはあなたの{{Path|emerge.log}}ファイルから役立つ情報を抽出します。このツールは<code>qlop</code>と呼ばれ、パッケージがコンパイルされた回数を推測したり、あなたのコンピュータと友人のコンピュータのどちらがより速くコンパイルするか比較したりするのに役立ちます。ある瞬間に何をコンパイルしていてどれくらい時間がかかるのか、コンソール上で作業していて他の手段をとりたくないときに手軽に確認することにも使えます。 

perlをemergeし始め、どのくらいかかるのか知りたいときには:

{{Cmd|qlop -tH perl|output=<pre>
perl: 7 minutes, 52 seconds for 4 merges
</pre>}}

今、何がemergeされているのか見てみましょう:

{{Cmd|qlop -c|output=<pre>
* perl-5.8.8-r23
    started: Mon May 21 12:41:11 2007
    elapsed: 19 seconds
</pre>}}

== 謝辞 ==

このガイドに対する以下の作者及び編集者の貢献にお礼申しあげます。


* Åukasz Damentko
* Joshua Saddler
* Marcelo Góes

[[Category:Portage tools]]
