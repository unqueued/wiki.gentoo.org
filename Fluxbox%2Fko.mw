<languages />


{{Metadata|abstract=X11용 플럭스박스 창 관리자 설치 방법을 알려 드릴 설명서입니다.}}

X11용 플럭스박스 창 관리자 설치 방법을 알려 드릴 설명서입니다.

== 도입부 ==

=== 플럭스박스 창 관리자 소개 ===

리눅스 데스크톱 모델에 익숙하지 않은 사용자를 위해 다른 그래픽 프로그램을 관리하려 X11에서 실행하는 창 관리자라는 프로그램이 있습니다. 창 관리자는 어디에 각각의 창을 두고 크기는 어떻게 할 것이며, 어떤 데스크톱에서 이 창으로 접근할지 관리합니다. 각각의 창 관리자에 따라 사용자가 지정한 규칙 모음을 통해 자동으로 처리하거나 키보드 단축키나 마우스를 통해 실시간으로 처리할 수 있습니다. 

Some WMs, however, take on more functionality than just window management. Fluxbox also provides a platform for launching applications, configuring keyboard shortcuts and background images, as well as displaying information with the slit. GNOME's default WM, Metacity, does not include these things, but they are available through other GNOME programs. Thus, one cannot truly say that Fluxbox is a lightweight WM. However, since Fluxbox includes everything necessary for a basic desktop, many people use it in place of larger desktop suites like [[GNOME]] or [[KDE]].

그런데 이런 사실을 더욱 혼동되게 만드는건, 플럭스박스가 그놈이나 KDE를 대체할 수 있는 기본 창 관리자라는 것입니다. 예컨대, 어떤 사람은 그놈의 창 관리자인 메타시티를 찾지만, 그 사람이 원하는 유연성은 없습니다. 다만, 플럭스박스에는 모든 프로그램을 내장하지 않고, 완벽한 데스크톱 환경에 원하는 기능을 통합했습니다. 따라서 창을 관리하는 목적으로 어떤 사람은 그놈을 사용할 수 있고 다른 어떤 사람은 플럭스박스를 쓸 수 있습니다. 이런 기능 조합을 중복하는 설치 과정으로 인해 약간의 문제가 있을 수도 있음을 참고하십시오. 

Fluxbox can also be expanded by third party software. This is often ideal in situations where hardware resources are limited, or as a matter of personal taste. 

This article is aimed at those who are new to Fluxbox, curious, or who are wanting to get more out of the Gentoo/Fluxbox experience. The article will also illustrate how to get more (yet quite optional) functionality by using third party programs that work well with Fluxbox. 

== 설치 ==

First, make sure a working X environment has been installed, as shown in the [https://wiki.gentoo.org/wiki/Xorg/Guide X Server's configuration article].

=== USE 플래그 ===

{{USEflag|package=x11-wm/fluxbox|desc={{Package|x11-wm/fluxbox}}용 추가 USE 플래그:
|bidi
|imlib+yes+yes
|nls+yes
|slit+yes
|systray+yes+yes+Enables the system tray in the Fluxbox toolbar
|toolbar+yes+yes
|truetype+yes+yes
|vim-syntax++yes
|xinerama
}}

=== Special instructions ===

Before installing Fluxbox take a look at some of the available USE flags (listed above). 

While the <code>gnome</code> and <code>kde</code> USE flags are provided to give compatibility with these environments, it has been the author's experience that these USE flags are unneeded. If qt, gtk+, or any KDE/GNOME utility is desired feel free to emerge and configure them independently. The <code>gnome</code> and <code>kde</code> flags simply add support for the respective protocols, and do not depend on external libraries. They so, however, increase the Fluxbox binary size. 

There is also a <code>vim-syntax</code> flag to make configuration easier later on. This flag will install <code>fluxbox-syntax</code>, a special Fluxbox color scheme for the <tt>vim</tt> text editor. This enables users to more readily see the contents of their keys and init files for Fluxbox. It is a tiny extension for vim and is highly recommended if Fluxbox is to be configured at all. 

Finally, there are three flags that customize the functionality of Fluxbox, <code>slit</code>, <code>systray</code> and <code>toolbar</code>. These flags are provided so that users who do not need the [http://old.fluxbox-wiki.org/index.php?title=Faqs#What_is_the_slit slit] or the [http://fluxbox.org/features/ toolbar] can compile Fluxbox without them. This is useful when needing to run an extremely minimal environment, or when planning to use different applications that provide these features, such as standalone panels or docks. 

Once the USE flags have been decided, add them to the {{Path|/etc/portage/package.use}} file. For example, the following command will setup Fluxbox to use <code>truetype</code> and <code>vim-syntax</code> but will keep the binary small by not pulling in support for KDE or GNOME protocols:

{{RootCmd|echo "x11-wm/fluxbox -gnome -kde truetype vim-syntax" >> /etc/portage/package.use}}

When dealing with WMs a ''must have'' is a program lock to the X display for preventing unauthorized system access. When installing Fluxbox it would be wise to emerge {{Package|x11-misc/xlockmore}} so the system can be locked. It is also advisable to enable autolocking of the screen when the system is idle. The package {{Package|x11-misc/xautolock}} can be used to execute <tt>xlock</tt> after a specified timeout. The vast majority of users will also want the ability to set their own background images on the desktop; emerging {{Package|x11-terms/eterm}} will make setting desktop background images a possibility. <tt>eterm</tt> also doubles as a nice X11 terminal. {{Package|media-gfx/feh}} is a more lightweight solution that doubles as a slimmed down image browser.

{{Emerge|x11-misc/xlockmore x11-misc/xautolock x11-terms/eterm media-gfx/feh}}

To enable autolocking add the following to the {{Path|~/.fluxbox/startup}} file above the <code>exec fluxbox</code> line:

{{FileBox|filename=~/.fluxbox/startup|
xautolock -time 15 -locker "xlock -mode blank" -secure &
}}

=== Emerge ===

{{Emerge|x11-wm/fluxbox}}

That is it; Fluxbox is now installed! However, it is likely it will not be used efficiently with just those tools. The following sections will help install other potentially necessary packages, and configure Fluxbox and the third party programs to work better for the user. Keep in mind that all these steps are optional, so feel free to pick and choose from what is presented as best suited.

== 플럭스박스 설정 ==

=== X11 준비 ===

Fluxbox is simply another program that runs on X11. If desired, one can <tt>startx</tt> and then type <tt>fluxbox</tt> at in an <tt>xterm</tt> window. However, to say the least, this is annoying. If one does not desire to boot to the GUI, but instead wants to start X11 manually, it is possible to have X automatically load Fluxbox by executing, as a normal (non-root) user: 

{{Cmd|echo "exec startfluxbox" > ~/.xinitrc}}

The above method is also not ideal for most users, as they want to have the desktop environment ''all'' the time; it is a pain to type <tt>startx</tt> when desiring to use a GUI every time the system boots. It also presents a security risk to the unaware. If the X11 display is locked using <tt>xlock</tt>, but run X11 from a console, then someone with physical access to the system can switch to that console, kill X11, and use whatever account is logged in. The only way to prevent this is to either background X11 or run it in <tt>screen</tt>, detach the <tt>screen</tt> session, then logout of the console. This tedious task should not have to be performed. When graphical login manager this problem does not exist. However, graphical login managers require running X11 as root, which may be a bad thing. There are, as of this writing, no exploits that the author is aware of for the current version, but if one is concerned, then do not use X11 at all or use the above method with <tt>screen</tt>. Note that this is not a Fluxbox issue; it is an issue with X11 itself. 

There are a number of graphical login managers to choose from; another manager can be chosen at discretion of the user, however [http://slim.berlios.de SLiM] will be used for the purpose of this article. SLiM works well for Fluxbox, as well as any other environments that may be installed (such as GNOME, KDE, or Xfce). 

{{Emerge|x11-misc/slim}}

{{RootCmd|rc-update add xdm default}}

{{Important|Be sure to emerge <tt>slim</tt> and add '''xdm''' to the bootscript, and not the other way around! Switching these will cause failure. One system-wide configuration file will need to be modified:}}

{{FileBox|filename=/etc/conf.d/xdm|title=Setting the display manager to SLiM|lang=bash|1=
DISPLAYMANAGER="slim"
}}

=== 테마와 아트워크 ===

This section can be skipped for a minimal footprint, however it is nice to allow users to customize their WM's appearance. Themes specific to Fluxbox, Gentoo artwork for any WM, and themes that can be used on any *box WM will be installed. 

{{Emerge|x11-themes/commonbox-styles x11-themes/commonbox-styles-extra x11-themes/fluxbox-styles-fluxmod x11-themes/gentoo-artwork}}

=== 플럭스박스 처음 실행하기 ===

Now Fluxbox ready to run for the first time. It will create a directory called {{Path|~/.fluxbox/}} in each user's home directory, which is where Fluxbox will store its settings and populate them with some default values. 

{{Cmd|startx}}

If SLiM or another display manager has been installed, be sure to start it by becoming root and running: 

{{RootCmd|/etc/init.d/xdm start}}

플럭스박스 세션을 선택하고 일반 사용자로 로그인 하십시오. 

플럭스박스를 처음 실행하면, 조금 휑하게 보일 것입니다. 도구 모음이 하단에 떠 있는 빈 데스크톱이 나타납니다. 데스크톱 아무데나 오른쪽 단추를 누르면 메뉴가 뜹니다. 이 환경에서 X 프로그램을 시작하거나 터미널을 통해 콘솔 프로그램을 열 수 있습니다. 

=== 플럭스박스 단축 키 ===

Fluxbox comes with a very weak set of default keysets. It enables a user to switch windows and desktops, and no more. Before changing it, there are a few things necessary to know. In the Fluxbox keys file, there are some strange modifiers. "Mod1" is commonly known as the {{Key|Alt}} key, and Mod4 is the unspeakable (windows) key. Control and Shift are {{Key|Ctrl}} and {{Key|Shift}}. However, it is usually best to use Alt/Windows keys because other X11 programs tend to use Control and Shift for their own shortcuts. 

All of these are independent, so feel free to leave out anything not desired, or to modify the given example to meet special needs. This guide uses what the author assumes to be the most common programs, so also substitute the name of the binary used if it differs from what appears. For more information, read the man page for Fluxbox (<kbd>man fluxbox</kbd>). 

With that out of the way, fire up a text editor (non-root user), point it to {{Path|~/.fluxbox/keys}}, and begin enhancing some shortcuts! 

{{FileBox|filename=~/.fluxbox/keys|title=키보드 단축키 수정|1=
# Locks the X11 display for the current user:
Mod4 l   :ExecCommand xlock
  
# Opens a number of programs with quickkeys. These are just examples, I am sure
# you get the point...
Mod1 f   :ExecCommand firefox
Mod1 t   :ExecCommand thunderbird
Mod1 o   :ExecCommand oowriter
Mod1 v   :ExecCommand gvim
  
# Fluxbox has no sound control; do a hack to get some
# (assumes alsa is being used; good luck if using oss :P )
Mod1 e   :ExecCommand Eterm -name alsa -e alsamixer
  
# This launches fbrun, which in turn launches other programs:
Mod1 r   :ExecCommand fbrun
  
# Program Control. It just makes life simpler...
Mod1 4   :Close
Mod1 m   :Minimize
  
# If using aterm (emerge x11-terms/aterm), the following opens a really nice
# transparent aterm with no borders, fitting nicely with 1024x768
# resolution, while still leaving room for conky. Once again, feel free to
# modify.
Mod1 a   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-15 -g 116x57
  
# Similar to the above, but opens a transparent rooted terminal.
# The root password must be known to use this:
Mod1 s   :ExecCommand aterm -name aterm -sl 3000 -tr +sb -sr -sk -bg black -fg \
white -fade 90 -bl -tn xterm -fn \
-misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-15 -g 116x57 -e su -
  
# Takes a screenshot using the print button, needs media-gfx/imagemagick
None 107 :Exec tm=$(date +%F,%T) && import -window root /tmp/screenshot$tm.png \
&& display /tmp/screenshot$tm.png
Mod1 107 :Exec tm=$(date +%F,%T) && import -frame -window $(xprop _NET_ACTIVE_WINDOW \
-root {{!}} awk '{print $5}') /tmp/screenshot$tm.png && display /tmp/screenshot$tm.png
}}

=== 시스템 감시 프로그램 ===

It is a common desire to setup a system monitor for X11 on desktop systems. Gkrellm ({{Package|app-admin/gkrellm}} is a commonly used monitor, but in the spirit of Fluxbox minimalism, a simpler monitor will be used. Welcome <tt>conky</tt>. If desired, use another monitor; there are plenty of instructions elsewhere on the wiki. 

{{Emerge|app-admin/conky}}

The default configuration file for Conky is rather weak, but more info can be found by reading the man page or the [[Conky/Guide|Gentoo Linux Conky Howto]].

=== 아이콘 ===

Fluxbox does not come with a utility or program to draw icons to the desktop; everything is handled by keyboard shortcuts, or the right-click menu. iDesk is a program that can be used to fulfill this need. It is aimed at users of minimal WMs like Fluxbox who want to display icons in the root window, and it even supports funky graphic effects like transparency! Despite its name, iDesk is not affiliated with Apple or Mac. Installing iDesk is as simple as: 

{{Emerge|x11-misc/idesk}}

Once installed, it will be necessary to configure iDesk so that it is able to display icons. Its configuration file can be found at {{Path|~/.ideskrc}}. This is a rather lengthy task, and can not be well covered in this article. The following resources might be useful in order to configure iDesk: <kbd>man idesk</kbd>, [http://idesk.sourceforge.net/wiki/index.php/Idesk-usage iDesk's Usage Guide] and this [https://forums.gentoo.org/viewtopic-t-87262.html thread in the Gentoo Forums].

=== 그래픽 파일 관리자 ===

It is important to note that Gentoo does not need a file manager. It is perfectly possible, and indeed simpler (in the author's humble opinion), to do file manipulation by command-line. However, not everyone agrees...

Many users who are new to Gentoo/Fluxbox are put off by the lack of a graphical file manager such as <tt>nautilus</tt> in GNOME. Fluxbox itself does not provide such a program, but, as always, one is simple to acquire. There are many choices, but this article will only present three, one for the [[#Gentoo File Manager - Minimalism|gentoo]] who likes text only and two for the user who likes [[#Rox File Manager - Includes Icons|rox]] to [[#Thunar File Manager|thunar]]. It is also possible to install all three and try each one.

=== 젠투 파일 관리자 ===

Gentoo is a minimalistic file manager which seeks to provide the benefits of a GUI interface without the bloat which is commonly associated. 

{{Emerge|app-misc/gentoo}}

{{Note/ko|젠투 파일 관리자는 젠투 리눅스 배포판과는 판이한 프로젝트입니다. 더 많은 내용을 보시려면 젠투 [http://www.gentoo.org//main/en/name-logo.xml#doc_chap4 이름과 로고 사용 지침서]를 보십시오.}}

The Gentoo file manager aims to be fully configurable via GUI, so feel free to tweak.

==== Rox File Manager ====

Rox is a file manager which uses icons as well as text and is much like Windows' Explorer. 

{{Emerge|rox-base/rox}}

Rox behaves much like "traditional" file managers, so its interface should be intuitive. If not, there always are man pages for further information.

=== 투나 파일 관리자 ===

[http://thunar.xfce.org/ Thunar] is a lightweight, fast file manager that, like Rox, behaves much like "traditional" file managers. It includes icons and text, and it is easy to use. Though originally designed for [http://www.xfce.org Xfce], it makes a nice complement to a Fluxbox-based system. 

{{Emerge|xfce-base/thunar}}

=== 그림 보기 ===

Many WMs come with utilities to view pictures (images) in a directory. These applications are small and lightweight, and do not allow for editing (which is assumed to be done by tools such as <tt>gimp</tt>). This is necessary when using command line, <tt>gentoo</tt>, or <tt>rox</tt> as file managers. Although <tt>thunar</tt> can display image thumbnails having a separate lightweight image viewer is still a good idea. 

{{Emerge|media-gfx/gqview}}

<tt>gqview</tt> can be launched in any directory, and can browse through any supported picture format. 

=== 테마, 배경, 시작 스크립트 설정 ===

Fluxbox has a number of themes that can be accessed via the right click menu. Navigate to {{Path|Fluxbox menu}} → {{Path|System Styles}}. These themes usually set their own background, which is either a single color or a gradient of some type. Most users prefer to set their own backgrounds, and to have those background persist no matter what theme has been chosen. To do so, another one of Fluxbox's configuration files must be modified, this one governs Fluxbox's startup behavior. Fire up that text editor again; this time point it to the {{Path|~/.fluxbox/startup}} file.

If this file was pre-existing then be sure to clear it. Add the following to the newly created file, uncommenting as needed, and filling in values for the CAPS:

{{FileBox|filename=~/.fluxbox/startup|title=Editing startup scripts for Fluxbox|lang=bash|1=
# Gentoo's Fluxbox startup script
  
# Programs which need to run constantly, as opposed to a one time execution,
# this means they need an "&" (ampersand) at the end of the command.
  
# Show the Fluxbox splash-screen
#fbsetbg -C /usr/share/fluxbox/splash.jpg
  
# This sets a desktop background image. A program must be setup
# to do this (x11-terms/eterm is recommended)
#fbsetbg -f PATH_TO_IMAGE
  
# Custom fonts directory
#xset +fp PATH_TO_FONT_DIRECTORY
  
# Starts the icons program
#idesk &
  
# This MUST be the last command!
exec /usr/bin/fluxbox -log ~/.fluxbox/log
}}

=== 메뉴 만들기 ===

The author uses a text editor to create menus. If this sounds appealing, please skip this section and proceed to [[#Editing Menus by Hand|Editing Menus by Hand]]. 

It is possible to edit {{Path|~/.fluxbox/menu}} by hand after using an automatic generator (see next section), to add packages or delete those which are not used. Note when something is deleted from this menu, it does not delete the package from the system; only a link is removed from the individual user's menu. The program can still be run by command-line or alternate methods (hotkeys, etc.). 

If Fluxbox has been installed then a program called <tt>fluxbox-generate_menu</tt> will be installed with it. This program can be used to generate menus. Run it with the following options as a non-root user to generate a menu: 

{{Cmd|fluxbox-generate_menu -is -ds}}

It is recommended <tt>fluxbox-generate_menu</tt> (listed above) is used instead of other programs that accomplish similar tasks. The reason for the recommendation is that other programs may not understand Gentoo's filesystem directory structure, where <tt>fluxbox-generate_menu</tt> does.

This can also be done from the Fluxbox menu itself. There is usually an entry in the {{Path|Fluxbox}} menu called {{Path|Regen Menu}} which will re-run this script, looking for any new applications that have been installed since the last time it was ran. 

{{Note|It is possible to use this method to auto-generate the menu and still have some manual control over it. Creating and editing a {{Path|~/.fluxbox/usermenu}} file by hand (see the next section for syntax) will give the user a personalized menu which will not be erased the next time the script has been run.}}

=== 직접 메뉴 편집하기 ===

Fluxbox's menu is a text file that follows a simple syntax that is described in this section. The default menu definition is present in the {{Path|~/.fluxbox/menu}} file. 

Menu entries for executing applications are defined by an <code>[exec]</code> element. Entries can be defined under the <code>[begin]</code> definition (the menu root), or between a <code>[submenu]</code> and its corresponding <code>[end]</code> line (submenu definitions). For example: 

{{FileBox|filename=~/.fluxbox/menu|title=Defining new menu entries|1=
# Custom fluxbox menu
[begin] (Fluxbox)
  (...)
  [exec] (XTerm White on Black) {xterm -ls -fg white -bg black}
  (...)
  [submenu] (More terminals)
    [exec] (Aterm default) {aterm}
    [exec] (Rxvt default) {rxvt}
  [end]
  (...)
[end]
}}

최상위 메뉴 정의는  <code>[begin]</code> 태그로 시작하며 그 다음 괄호 사이에 이름이 따라오고 각 메뉴 정의는 <code>[end]</code> 태그로 납니다. 모든 메뉴 명령 (여기서는 태그라고 하겠습니다) 은 각 괄호로 둘러쌓여 있으며 메뉴 이름은 소괄호로 둘러싸여있고, 실제 명령은 중괄호로 둘러싸여있습니다. 이 파일에서는 줄 시작 부분에 <code>#</code>으로 시작하는 주석을 허용합니다. 

In the example shown above, the first <code>[exec]</code> line defines a new entry named "XTerm White on Black", which will execute <tt>xterm -ls -fg white -bg black</tt> as if from a command line. Next is a submenu which is defined using the <code>[submenu]</code> tag, and after that a section called "More terminals", with two more <code>[exec]</code> commands. Any submenu definition must have its corresponding <code>[end]</code> tag. 

There are other menu commands that can be used in the {{Path|~/.fluxbox/menu}} file. Read the [http://fluxbox.org/docbook.php official documentation] available online for more information. 

=== 기본 프로그램 설정 ===

[[DefaultApplication|기본 프로그램]]을 참고하십시오

=== 요약 ===

고생하셨습니다! 플럭스박스를 설치하고 설정한 다음 사용할 준비가 되었습니다. 질문이 있거나 의견이 있으면 저자에게 전자메일을 보내거나, 관련 토론 페이지에 제안을 추가하든지, 젠투 [https://bugs.gentoo.org/ 버그질라]에 버그를 알려주십시오.

== 외부 자료 == 

* The [http://fluxbox-wiki.org Fluxbox wiki]
* Fluxbox developers and users in #fluxbox on chat.freenode.net


[[Category:Window manager]] {{Migrated|originalauthors=Jonathan Smith, Alin Dobre, Joshua Saddler, lack}}
