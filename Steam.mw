{{InfoBox stack
|{{InfoBox homepage|http://store.steampowered.com|header=true}}
|{{InfoBox wikipedia|Steam_(software)}}
}}

'''''Steam''' is an Internet-based digital distribution, digital rights management (DRM), multiplayer, and social networking platform developed by Valve Corporation. Steam provides the user with installation and automatic updating of games on multiple computers, and community features such as friends lists and groups, cloud saving, and in-game voice and chat functionality.'' - Wikipedia, the free encyclopedia

== Games ==

* [http://store.steampowered.com/search/?term=&sort_by=_ASC&os=linux&page=1 Official Steam Linux games list].
* [http://steamdb.info/linux/ SteamDB Linux games list].

== Prerequisites ==

{{Important|Steam is a 32-bit application and requires a [[multilib]] [[Profile_(Portage)|profile]] on {{Keyword|amd64}}, ''unless'' a [[Steam#Chroot|chroot]] is used.}}

=== Dependencies ===

{{Note|This section can be skipped when using the {{c|steam-launcher}} ebuild from an [[Steam#Overlay|overlay]].}}

{{Note|The following dependencies may be outdated and require verification. Some of the dependencies may be bundled by the Steam runtime, in which case the system libraries will ''not'' be used.}}

For '''Portage''', add the following file to create a set of required Steam dependencies:

{{FileBox|filename=/etc/portage/sets/steam|1=
# mandatory!
dev-libs/glib:2
dev-libs/libgcrypt
dev-libs/nspr
dev-libs/nss
gnome-base/gconf
media-libs/alsa-lib
media-libs/fontconfig
media-libs/freetype:2
media-libs/libjpeg-turbo
media-libs/libogg
media-libs/libpng:1.2
media-libs/libsdl
media-libs/libtheora
media-libs/libvorbis
media-libs/libtxc_dxtn
media-libs/openal
net-misc/curl
net-print/cups
sys-apps/dbus
>=sys-devel/gcc-4.6.0
>=sys-libs/glibc-2.15
>=sys-libs/zlib-1.2.4
virtual/libusb:1
virtual/opengl
x11-libs/cairo
x11-libs/gdk-pixbuf
x11-libs/gtk+:2
x11-libs/libX11
x11-libs/libXext
x11-libs/libXfixes
x11-libs/libXi
x11-libs/libXrandr
x11-libs/libXrender
x11-libs/pango
x11-libs/pixman

# optional
media-sound/pulseaudio
net-misc/networkmanager
x11-misc/xdg-user-dirs
}}

For '''Paludis''', add the following file to create a set of required Steam dependencies:

{{FileBox|filename=/etc/paludis/sets/steam.conf|1=
# mandatory!
* dev-libs/glib:2
* dev-libs/libgcrypt
* dev-libs/nspr
* dev-libs/nss
* gnome-base/gconf
* media-libs/alsa-lib
* media-libs/fontconfig
* media-libs/freetype:2
* media-libs/libjpeg-turbo
* media-libs/libogg
* media-libs/libpng:1.2
* media-libs/libsdl
* media-libs/libtheora
* media-libs/libvorbis
* media-libs/libtxc_dxtn
* media-libs/openal
* net-misc/curl
* net-print/cups
* sys-apps/dbus
* >=sys-devel/gcc-4.6.0
* >=sys-libs/glibc-2.15
* >=sys-libs/zlib-1.2.4
* virtual/libusb:1
* virtual/opengl
* x11-libs/cairo
* x11-libs/gdk-pixbuf
* x11-libs/gtk+:2
* x11-libs/libX11
* x11-libs/libXext
* x11-libs/libXfixes
* x11-libs/libXi
* x11-libs/libXrandr
* x11-libs/libXrender
* x11-libs/pango
* x11-libs/pixman

# optional
? media-sound/pulseaudio
? net-misc/networkmanager
? x11-misc/xdg-user-dirs
}}

Install the Steam set. For '''Portage''' do:

{{Emerge|@steam}}

For '''Paludis''' do:

{{RootCmd|cave resolve steam -x}}

=== USE flags ===

For '''Portage''', to enable the required USE flags for Steam dependencies under {{Keyword|amd64}}, add the the following file:
{{FileBox|filename=/etc/portage/package.use/steam|1=
dev-db/sqlite abi_x86_32
dev-libs/expat abi_x86_32
dev-libs/glib abi_x86_32
dev-libs/libffi abi_x86_32
dev-libs/libpthread-stubs abi_x86_32
dev-libs/nspr abi_x86_32
dev-libs/nss abi_x86_32
dev-util/pkgconfig abi_x86_32
media-libs/libtxc_dxtn abi_x86_32
media-libs/mesa abi_x86_32
sys-devel/llvm abi_x86_32
sys-fs/udev abi_x86_32
sys-libs/gpm abi_x86_32
sys-libs/ncurses abi_x86_32
sys-libs/readline abi_x86_32
sys-libs/zlib abi_x86_32
virtual/libffi abi_x86_32
virtual/libiconv abi_x86_32
virtual/libudev abi_x86_32
virtual/pkgconfig abi_x86_32
x11-libs/libdrm abi_x86_32
x11-libs/libpciaccess abi_x86_32
x11-libs/libX11 abi_x86_32
x11-libs/libXau abi_x86_32
x11-libs/libxcb abi_x86_32
x11-libs/libXdamage abi_x86_32
x11-libs/libXdmcp abi_x86_32
x11-libs/libXext abi_x86_32
x11-libs/libXfixes abi_x86_32
x11-libs/libxshmfence abi_x86_32
x11-libs/libXxf86vm abi_x86_32
x11-proto/damageproto abi_x86_32
x11-proto/dri2proto abi_x86_32
x11-proto/dri3proto abi_x86_32
x11-proto/fixesproto abi_x86_32
x11-proto/glproto abi_x86_32
x11-proto/inputproto abi_x86_32
x11-proto/kbproto abi_x86_32
x11-proto/presentproto abi_x86_32
x11-proto/xcb-proto abi_x86_32
x11-proto/xextproto abi_x86_32
x11-proto/xf86bigfontproto abi_x86_32
x11-proto/xf86driproto abi_x86_32
x11-proto/xf86vidmodeproto abi_x86_32
x11-proto/xproto abi_x86_32
}}

For '''Paludis''', to enable the required USE flags for Steam dependencies under {{Keyword|amd64}}, add the the following file:

{{FileBox|filename=/etc/paludis/use.conf.d/steam.conf|1=
dev-db/sqlite ABI_X86: 32
dev-libs/expat ABI_X86: 32
dev-libs/glib ABI_X86: 32
dev-libs/libffi ABI_X86: 32
dev-libs/libpthread-stubs ABI_X86: 32
dev-libs/nspr ABI_X86: 32
dev-libs/nss ABI_X86: 32
dev-util/pkgconfig ABI_X86: 32
media-libs/libtxc_dxtn ABI_X86: 32
media-libs/mesa ABI_X86: 32
sys-devel/llvm ABI_X86: 32
sys-fs/udev ABI_X86: 32
sys-libs/gpm ABI_X86: 32
sys-libs/ncurses ABI_X86: 32
sys-libs/readline ABI_X86: 32
sys-libs/zlib ABI_X86: 32
virtual/libffi ABI_X86: 32
virtual/libiconv ABI_X86: 32
virtual/libudev ABI_X86: 32
virtual/pkgconfig ABI_X86: 32
x11-libs/libdrm ABI_X86: 32
x11-libs/libpciaccess ABI_X86: 32
x11-libs/libX11 ABI_X86: 32
x11-libs/libXau ABI_X86: 32
x11-libs/libxcb ABI_X86: 32
x11-libs/libXdamage ABI_X86: 32
x11-libs/libXdmcp ABI_X86: 32
x11-libs/libXext ABI_X86: 32
x11-libs/libXfixes ABI_X86: 32
x11-libs/libxshmfence ABI_X86: 32
x11-libs/libXxf86vm ABI_X86: 32
x11-proto/damageproto ABI_X86: 32
x11-proto/dri2proto ABI_X86: 32
x11-proto/dri3proto ABI_X86: 32
x11-proto/fixesproto ABI_X86: 32
x11-proto/glproto ABI_X86: 32
x11-proto/inputproto ABI_X86: 32
x11-proto/kbproto ABI_X86: 32
x11-proto/presentproto ABI_X86: 32
x11-proto/xcb-proto ABI_X86: 32
x11-proto/xextproto ABI_X86: 32
x11-proto/xf86bigfontproto ABI_X86: 32
x11-proto/xf86driproto ABI_X86: 32
x11-proto/xf86vidmodeproto ABI_X86: 32
x11-proto/xproto ABI_X86: 32
}}

Update the system. Under '''Portage''' do:

{{Emerge
|@world
|params+=--changed-use --deep
}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -c world -x}}

=== Kernel ===

Steam expects that {{Path|/dev/shm}}, which requires kernel [[tmpfs]] support, is mounted prior to being started. {{Path|/dev/shm}} should be mounted automatically by [[OpenRC]] and [[systemd]] during boot, but can also be mounted explicitly via {{Path|/etc/fstab}}:

{{FileBox|filename=/etc/fstab|1=
# to limit the size add e.g. size=768M to opts (default is 50%)

#<fs>      <mountpoint>    <type>	<opts>		     <dump/pass>
shm        /dev/shm        tmpfs        nodev,nosuid,noexec  0 0
}}

== Installation ==

{{Note|Steam officially supports [[Wikipedia:Ubuntu_(operating_system)|Ubuntu]] 12.04+. Attempting to run Steam on any other Linux distribution may cause various issues. Refer to [[Steam#Client_troubleshooting|client]] and [[Steam#Games_troubleshooting|games]] troubleshooting for details.}}

The Steam installer downloads and installs the Steam client to the users home directory. This prevents Portage from managing the Steam client updates or the software installed by it. The Steam client is solely responsible for managing software installation and updates.

{{Important|The instructions throughout this page use the typical Steam installation directory {{Path|~/.local/share/Steam}}.}}

=== Manual ===

Fetch and extract the Steam installer:
{{Cmd
|wget http://repo.steampowered.com/steam/archive/precise/steam_latest.tar.gz
|tar -xvzpf steam_latest.tar.gz
}}

Run the Steam installer:

{{Cmd
|cd steam
|./steam
}}

Install the above Steam installer script:

{{RootCmd|cp steam /usr/local/bin}}

Steam can be started with:

{{Cmd|steam}}

{{Note|The following step is ''highly'' optional. It is recommend with a dedicated Steam user account, to prevent Steam (or the software it depends on) from interfering with the regular user account.}}

To avoid restarting or running two X servers in parallel, {{c|su}} to the Steam user, and use {{Package|x11-apps/xauth}} to give the Steam user access to the running X server. Refer to [https://github.com/jappeace/bash-steam-launcher bash-steam-launcher] for details.

=== Manual with alternative installer script ===

The following installation method is almost identical to the [[Steam#Manual|manual]] installation method, except that an alternative Steam installer script is used.

Fetch the Steam installer and extract the required files:

{{Cmd
|wget http://repo.steampowered.com/steam/archive/precise/steam_latest.tar.gz
|tar -xvzf steam_latest.tar.gz steam/bootstraplinux_ubuntu12_32.tar.xz
|tar -xvzf steam_latest.tar.gz steam/steam.desktop
}}

Fetch and run [https://gist.github.com/hasufell Julian Ospald's (hasufell)] Steam installer script:

{{Cmd
|cd steam
|wget https://gist.githubusercontent.com/hasufell/d02a93eccbe35be7a803/raw/987ea287dc81a60d2eb5fa1bb188eae0a5f1049f/steam
|chmod +x steam
|./steam
}}

If the installer script creates broken symbolic links when run with [[Dash]], run the installer script with [[Bash]] instead:
{{Cmd|bash ./steam}}

=== Overlay ===

The {{c|steam-launcher}} ebuild is available from the Gentoo [https://cgit.gentoo.org/proj/gamerlay.git Gamers overlay] or anyc's [https://github.com/anyc/steam-overlay Steam overlay].

=== Chroot ===

It is possible to run Steam in a 32-bit [[chroot]] on {{Keyword|amd64}} without relying on multilib.

Create the chroot directory:

{{RootCmd
|mkdir /usr/local/steam32
|cd /usr/local/steam32
}}

Fetch and extract the stage tarball:

{{RootCmd
|wget http://distfiles.gentoo.org/releases/x86/autobuilds/current-stage3-i686/stage3-i686-20150519.tar.bz2
|tar -xvjpf stage3*.tar.bz2
}}

Copy DNS information:

{{RootCmd
|cp -L /etc/resolv.conf etc
}}

Create the Portage directory:

{{RootCmd
|mkdir usr/portage
}}

Mount the necessary filesystems:

{{RootCmd
|mount -R /dev dev
|mount -R /sys sys
|mount -t proc proc proc
|mount -R /usr/portage usr/portage
}}

Chroot with {{c|linux32}}, which is provided by the {{Package|sys-apps/util-linux}} package, and update the environment:

{{RootCmd
|linux32 chroot .
|env-update && source /etc/profile
}}

Create the Steam user:

{{RootCmd
|useradd -m -G audio,video steam
}}

Next, install Steam from one of the above installation methods. When complete, create the following wrapper script to setup the chroot, {{c|su}} to the Steam user, and start Steam:

{{FileBox|filename=/usr/local/bin/steam32|lang=bash|1=
#!/bin/sh

CHROOT_DIR=/usr/local/steam32

mount -R /dev "${CHROOT_DIR}/dev"
mount -R /sys "${CHROOT_DIR}/sys"
mount -t proc proc "${CHROOT_DIR}/proc"
mount -R /usr/portage "${CHROOT_DIR}/usr/portage"

[ -f $CHROOT_DIR/var/run/dbus.pid ] {{!}}{{!}} chroot "${CHROOT_DIR}" dbus-launch
chroot "${CHROOT_DIR}" su steam -c "dbus-launch steam"

umount -l "${CHROOT_DIR}/dev"
umount -l "${CHROOT_DIR}/sys"
umount -l "${CHROOT_DIR}/proc"
umount -l "${CHROOT_DIR}/usr/portage"
}}

Although the above script uses [[D-Bus]], it is possible to run Steam without it, but a manual method is required to connect the X server from within the chroot.

== Client troubleshooting ==

=== Adobe Flash Player on amd64 ===

{{Note|Installing Adobe Flash Player on {{Keyword|amd64}} may no longer be necessary, as the Steam client supports playback of full screen [[Wikipedia:HTML5_video|HTML5 video]]<ref>Valve. [http://store.steampowered.com/news/14944 Steam Client Update Released], [http://store.steampowered.com/ Steam], November 12th, 2014. Retrieved on May 29th, 2015.</ref>.}}

* Installation by a package manager (recommended)

The following USE flags are ''required''.

Under '''Portage''' add/modify the following file:

{{FileBox|filename=/etc/portage/package.use/steam|1=
www-plugins/adobe-flash abi_x86_32
}}

Under '''Paludis''' add/modify the following file:

{{FileBox|filename=/etc/paludis/use.conf.d/steam.conf|1=
www-plugins/adobe-flash ABI_X86: 32
}}

Install the {{Package|www-plugins/adobe-flash}} package. Under '''Portage''' do:

{{Emerge|www-plugins/adobe-flash}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z www-plugins/adobe-flash -x}}

Create the {{Path|plugins}} directory:

{{Cmd|mkdir ~/.local/share/Steam/ubuntu12_32/plugins}}

Create a symbolic link to {{Path|libflashplayer.so}} in the {{Path|plugins}} directory:

{{Cmd|ln -s /usr/lib32/nsbrowser/plugins/libflashplayer.so ~/.local/share/Steam/plugins}}

* Manual installation

Create the {{Path|plugins}} directory:

{{Cmd|mkdir ~/.local/share/Steam/ubuntu12_32/plugins}}

[https://get.adobe.com/flashplayer Fetch] the 32-bit Linux Adobe Flash Player tarball, and then extract {{Path|libflashplayer.so}}:
{{Cmd|tar -xvzf install_flash_player_11_linux.i386.tar.gz -C ~/.local/share/Steam/ubuntu12_32/plugins libflashplayer.so}}

Set {{Path|libflashplayer.so}} as executable:

{{Cmd|chmod +x ~/.local/share/Steam/ubuntu12_32/plugins/libflashplayer.so}}

===  Direct rendering is not being used ===

If Steam starts with the following error:

<pre>
Error: OpenGL GLX context is not using direct rendering, which may cause performance problems.
</pre>

Confirm if direct rendering is enabled with {{c|glxinfo}}, which is provided by the {{Package|x11-apps/mesa-progs}} package:

{{RootCmd|glxinfo {{!}} grep "direct rendering"|output=<pre>
direct rendering: Yes
</pre>
}}

If direct rendering is not enabled, ensure that the correct OpenGL implementation is [[eselect|selected]]:

{{RootCmd|eselect opengl list}}

Next, ensure that the user running Steam has sufficient permissions to access direct rendering. If the <var>USE</var> variable is set to <code>acl</code> and [[ConsoleKit]] or [[systemd]] is being used, permissions will be handled automatically. Otherwise, add the user running Steam to the {{c|video}} group:

{{RootCmd|gpasswd -a ''user'' video}}

If direct rendering is enabled and the correct OpenGL implementation is selected, then this issue may be caused by {{Package|app-eselect/eselect-opengl}} 1.3*.<ref>Michał Górny. [https://github.com/anyc/steam-overlay/issues/121 steam-launcher likely broken with eselect-opengl-1.3*], [https://github.com/anyc/steam-overlay anyc's Steam Overlay], January 2nd, 2015. Retrieved on May 27th, 2015.</ref>. This issue has been fixed for users of the {{c|steam-launcher}} ebuild. Otherwise, run the following as a temporary workaround:

For ATI drivers:

{{Cmd|LD_LIBRARY_PATH{{=}}"$LD_LIBRARY_PATH:/usr/lib32/opengl/ati/lib" steam}}

For Nvidia drivers:

{{Cmd|LD_LIBRARY_PATH{{=}}"$LD_LIBRARY_PATH:/usr/lib32/opengl/nvidia/lib" steam}}

If direct rendering is ''still'' not enabled, refer to the Steam Knowledge Base [https://support.steampowered.com/kb_article.php?ref=9938-EYZB-7457 article] on direct rendering for possible solutions.

=== Hardened Gentoo ===

It seems that the Steam binary has <code>rwx</code> bits set, and needs to be PaX marked in order to work on a hardened system:

{{Cmd|paxctl-ng -m ~/.local/share/Steam/ubuntu12_32/steam}}

The binaries of most games should also be PaX marked:

{{Cmd|paxctl-ng -m ~/.local/share/Steam/SteamApps/common/World\ of\ Goo/WorldOfGoo}}
{{Cmd|paxctl-ng -m ~/.local/share/Steam/SteamApps/common/Uplink/uplink.bin.x86_64}}
{{Cmd|paxctl-ng -m ~/.local/share/Steam/SteamApps/common/Team\ Fortress\ 2/hl2_linux}}

Failure to perform PaX marking will result in the game failing to run, with little information given. To check if a game needs to be PaX marked, run the game's startup script or binary file (found in {{Path|~/.local/share/Steam/SteamApps}} or {{Path|~/.local/share/Steam/SteamApps/common}}) under a debugger. This can be accomplished with some of Valve's provided startup scripts by setting the <var>GAME_DEBUGGER</var> environment variable to <code>gdb</code>:

{{Cmd|env GAME_DEBUGGER{{=}}gdb ./hl2.sh}}

If a binary needs to be PaX marked, {{c|gdb}} should output something similar to:

<pre>warning: Cannot call inferior functions, Linux kernel PaX protection forbids return to non-executable pages!</pre>

and/or:

<pre>Cannot access memory at address 0x80486c6.</pre>

After an update in July 2013, Steam also needs a PaX marked {{Path|/bin/bash}} when the OpenGL libraries require <code>rwx</code> markings, otherwise games will fail to run from the Steam client<ref>Alex Efros. [https://github.com/ValveSoftware/steam-for-linux/issues/254 Compatibility with PaX/GrSecurity], [https://github.com/ValveSoftware/steam-for-linux Steam for Linux], December 22nd, 2012. Retrieved on May 28th, 2015.</ref>:

{{Cmd|sudo paxctl-ng -m /bin/bash}}

However, this results in Bash failing to run. It is also a security issue, and it is strongly recommended to try without PaX marking. If it works when using the proprietary Nvidia drivers, please make a note of it on this page.

=== libGL fails to load ===

The Steam runtime overrides the libgcc and libstdc++ libraries, which can cause problems with some graphics drivers<ref>jsa1983. [https://github.com/ValveSoftware/steam-runtime/issues/13 Problem with libstdc++.so.6 bundled with steam-runtime 2014-04-15], [https://github.com/ValveSoftware/steam-for-linux Steam for Linux], April 26th, 2014. Retrieved on December 26th, 2015.</ref>. To avoid disabling the Steam runtime, the libgcc and libstdc++ libraries can be deleted from the Steam runtime instead:

{{Cmd|find ~/.local/share/Steam/ \( -name "libgcc_s.so*" -o -name "libstdc++.so*" \) -print -delete}}

Unfortunately, the libraries will reappear after every Steam update.

If the above solution does not work, run the following as a temporary workaround:

For Nvidia drivers:

{{Cmd|LD_LIBRARY_PATH{{=}}"$LD_LIBRARY_PATH:/usr/lib32/opengl/nvidia/lib" steam}}

=== Memory corruption ===

If Steam starts with the following error:

<pre>
*** glibc detected *** zenity: malloc(): memory corruption: 0x00000000016cf020 ***
</pre>

Installing the {{Package|x11-libs/libXi}} package should fix the issue. Under '''Portage''' do:

{{Emerge|x11-libs/libXi}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z x11-libs/libXi -x}}

=== Missing fonts ===

If Steam is having issues with missing [[Fontconfig|fonts]], installing the {{Package|media-fonts/font-bitstream-100dpi}} and {{Package|media-fonts/corefonts}} packages may fix the issue. Under '''Portage''' do:

{{Emerge|media-fonts/font-bitstream-100dpi media-fonts/corefonts}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z media-fonts/font-bitstream-100dpi media-fonts/corefonts -x}}

If the X server does not recognize the newly installed fonts, run the following:

{{Cmd
|xset +fp /usr/share/fonts/100dpi
|xset +fp /usr/share/fonts/corefonts
|xset fp rehash
}}

=== Reset the installation ===

To reset (i.e. wipe) the Steam installation, including installed games, and reinstall Steam without losing data:

{{Cmd|steam --reset}}

=== Reversed X cursor ===

If an X cursor theme has not been set by the desktop environment or window manager, Steam will override the default X cursor theme. This can result in a reversed X cursor from left to right. The issue can be fixed by setting an X cursor theme, if one is available, or by installing an X cursor theme. Under '''Portage''' do:

{{Emerge|x11-themes/vanilla-dmz-xcursors}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z x11-themes/vanilla-dmz-xcursors -x}}

If the X cursor is still reversed, even after exiting Steam, run the following to fix the issue:

{{Cmd|xsetroot -cursor_name left_ptr}}

=== Segfault when remember my password is selected ===

Selecting the <code>Remember my password</code> option at the Steam login dialog, when Steam is running without D-Bus, will cause Steam to segfault the next time it is started<ref>Shished. [https://github.com/ValveSoftware/steam-for-linux/issues/3415 Steam segfaults when "remember my password" is checked], [https://github.com/ValveSoftware/steam-for-linux Steam for Linux], July 28th, 2014. Retrieved on May 25th, 2015.</ref>. This issue can be fixed by running the following:

{{Cmd|rm -fr ~/.local/share/Steam/config}}

=== Taskbar button persists even when closed or minimzed  ===

Depending on the desktop environment being used, the Steam taskbar button may persist even when the Steam window is closed or minimized to the system tray<ref>Kevin Cox. [https://github.com/ValveSoftware/steam-for-linux/issues/1025 Close to Tray], [https://github.com/ValveSoftware/steam-for-linux Steam for Linux], January 30th, 2013. Retrieved on May 27th, 2015.</ref>. To correct this behavior, force the Steam window to close instead of minimize:

{{Cmd|STEAM_FRAME_FORCE_CLOSE{{=}}1 steam}}

To set the <var>STEAM_FRAME_FORCE_CLOSE</var> [[Handbook:Parts/Working/EnvVar|environment variable]] permanently, add the following to the [[shell]] login initialization file:

{{FileBox|filename=~/.bash_profile|title=Setting a local environment variable with Bash|1=
export STEAM_FRAME_FORCE_CLOSE=1
}}

Log out and back in to have the changes take effect.

=== Use system libraries ===

Steam bundles many libraries which are used instead of the system libraries. To force Steam to use the system libraries, disable the Steam runtime:

{{Warning|It is '''''not''''' recommended to disable the Steam runtime, as it can lead to numerous problems, including runtime and missing 32-bit libraries.}}

{{Cmd|STEAM_RUNTIME{{=}}0 steam}}

To set the <var>STEAM_RUNTIME</var> [[Handbook:Parts/Working/EnvVar|environment variable]] permanently, add the following to the [[shell]] login initialization file:

{{FileBox|filename=~/.bash_profile|title=Setting a local environment variable with Bash|1=
export STEAM_RUNTIME=0
}}

Log out and back in to have the changes take effect.

=== Video drivers ===

* If ATI Legacy drivers are used, and a Valve game (Counter-Strike: Source, Team Fortress 2, etc.) fails to start with the following error:

<pre>
Required OpenGL extension "GL_EXT_texture_sRGB_decode" is not supported. Please update your OpenGL driver.
</pre>

Update the ATI Legacy drivers to the most recent version<ref>Mark Browning. [http://steamcommunity.com/app/221410/discussions/0/846938351012409765 &#91;WORKAROUND&#93; Allow TF2 to run with legacy ATI drivers 12.6.], [http://steamcommunity.com/app/221410 Steam for Linux Steam Community], December 4th, 2012. Retrieved on May 30th, 2015.</ref>.

== Games troubleshooting ==

==== Texture compression ====

Many games, especially those that use the [[Wikipedia:Source_(game_engine)|Source]] engine, require [[Wikipedia:S3_Texture_Compression|S3 Texture Compression (S3TC)]] support. Without S3TC support, these games will usually have black or missing textures, or fail to start.

* Enable S3TC support:

The following USE flags are ''required'' for {{Keyword|amd64}}:

{{FileBox|filename=/etc/portage/package.use/steam|1=
media-libs/libtxc_dxtn abi_x86_32
}}

Install the {{Package|media-libs/libtxc_dxtn}} package. Under '''Portage''' do:

{{Emerge|media-libs/libtxc_dxtn}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z media-libs/libtxc_dxtn -x}}

Next, confirm if S3TC support is enabled with {{c|glxinfo}}, which is provided by the {{Package|x11-apps/mesa-progs}} package:

{{RootCmd|glxinfo {{!}} grep GL_EXT_texture_compression_s3tc|output=<pre>
    GL_EXT_texture_compression_s3tc
</pre>}}

If S3TC support is not enabled, ensure that the <var>VIDEO_CARDS</var> variable in {{Path|/etc/portage/make.conf}} is set to the correct value, and update the video driver to most recent version.

If S3TC support is enabled, but games fail to start with the following error:

<pre>
This system does not support the OpenGL extension GL_EXT_texture_compression_s3tc
</pre>

Force enable S3TC support with:

{{Cmd|force_s3tc_enable{{=}}true steam}}

If [[nouveau]] drivers are being used, installing {{Package|x11-libs/gtkglarea}} may be required to fix the above error. Under '''Portage''' do:

{{Emerge|x11-libs/gtkglarea}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z x11-libs/gtkglarea -x}}

=== DiRT Showdown ===

* If an [[Intel]] GPU is being used and DiRT Showdown fails to start with the following error:

<pre>
Unfortunately your machine doesn't meet the full OpenGL 4.1 requirements so the game may not perform correctly
</pre>

Adding <code>MESA_GL_VERSION_OVERRIDE=4.1 MESA_GLSL_VERSION_OVERRIDE=410 %command%</code> to the launch options in <code>Library->DiRT Showdown->Properties->General->Set launch options..</code>, may fix the issue. Intel [[Wikipedia:Broadwell_(microarchitecture)|Broadwell]] and [[Wikipedia:Skylake_(microarchitecture)|Skylake]] based GPUs also require <code>INTEL_DEBUG=vec4</code> to be added to the launch options.<ref>mahdi1234. [https://forums.gentoo.org/viewtopic-t-1034742.html DRI_PRIME=1 and DiRT Showdown won't launch due to opengl 4.1], [https://forums.gentoo.org/ Gentoo Forums], January 17th, 2016. Retrieved on January 21st, 2016.</ref>

If DiRT Showdown still fails to start, ensure that [[Steam#Texture_compression|texture compression]] support is enabled.

=== Dota 2 ===

* If black textures are visible and an older (<9.1.6) {{Package|media-libs/mesa}} is installed, update {{Package|media-libs/mesa}} to a recent version<ref>Arkady Rost. <!--[https://github.com/ValveSoftware/Dota-2/issues/683 Black texture]-->Black texture, [https://github.com/ValveSoftware/Dota-2 Dota 2 Linux and Mac client], August 14th, 2013. Retrieved on May 26th, 2015.</ref>.

* If black textures are visible and a recent {{Package|media-libs/mesa}} is installed, building {{Package|media-libs/mesa}} with the <code>-bindist</code> USE flag may fix the issue<ref>michaelsudnick. <!--[https://github.com/ValveSoftware/Dota-2/issues/1434 Black ground texture on Gentoo amd64, radeonsi open source driver]-->Black ground texture on Gentoo amd64, radeonsi open source driver, [https://github.com/ValveSoftware/Dota-2 Dota 2 Linux and Mac client], July 12th, 2014. Retrieved on May 26th, 2015.</ref>.

* If a red screen is visible during startup and textures are missing in-game, refer to [[Steam#Texture_compression|texture compression]] for details<ref>proatx. <!--[https://github.com/ValveSoftware/Dota-2/issues/1061 Red-screen and no textures]-->Red-screen and no textures, [https://github.com/ValveSoftware/Dota-2 Dota 2 Linux and Mac client], December 16th, 2013. Retrieved on May 26th, 2015.</ref>.

* If some textures are not clickable (e.g. the character can not move at the fountain when the right mouse button is clicked), [https://support.steampowered.com/kb_article.php?ref=2037-QEUH-3335 verify the integrity of the game cache].

=== Left 4 Dead 2 ===

* If black textures are visible, refer to [[Steam#Texture_compression|texture compression]] for details.

=== Rust (legacy) ===

* If the launcher fails to start, adding <code>LD_LIBRARY_PATH="/usr/lib:$LD_LIBRARY_PATH" %command%</code> to the launch options in <code>Library->Rust->Properties->General->Set launch options..</code>, may fix the issue.

=== Sid Meier's Civilization V ===

* If a black screen is visible and the introduction music is audible during startup, changing the value of <var>FSResID</var> may fix this issue<ref>Nowaker. [http://steamcommunity.com/app/8930/discussions/1/540744299777007287 Linux: blank/black screen after start - windowed mode maybe?], [http://steamcommunity.com/app/8930 Sid Meier's Civilization V Steam Community], June 12th, 2014. Retrieved on May 28th, 2015.</ref>:

{{FileBox|filename=~/.local/share/Aspyr/Sid Meier's Civilization 5/GraphicsSettingsDX9.ini|1=
FSResID = 7
}}

The correct value for <var>FSResID</var> appears to be system dependent, and may require setting different values before working.

=== Starbound ===

* If the launcher fails to start with the following error:

<pre>
This application failed to start because it could not find or load the Qt platform plugin "xcb".

Available platform plugins are: xcb.

Reinstalling the application may fix this problem.
</pre>

Adding <code>$(dirname %command%)/starbound</code> to the launch options in <code>Library->Starbound->Properties->General->Set launch options..</code>, may fix the issue.

=== Stealth Bastard Deluxe ===

* If the {{Package|media-fonts/font-misc-misc}} package is not installed, Stealth Bastard Deluxe will segfault<ref>Dirk Meijer. [http://steamcommunity.com/app/209190/discussions/0/810923580565231302 Segmentation Fault in Linux], [http://steamcommunity.com/app/209190 Stealth Bastard Deluxe Steam Community], May 3rd, 2013. Retrieved on May 27th, 2015.</ref>. 

Under '''Portage''' do:

{{Emerge|media-fonts/font-misc-misc}}

Under '''Paludis''' do:

{{RootCmd|cave resolve -z media-fonts/font-misc-misc -x}}

Stealth Bastard Deluxe specifically requests the fonts <code>9x15</code>/<code>9x15b</code>, which can be checked for availability with {{Package|x11-apps/xlsfonts}}. Otherwise, add the fonts to the font path, or create a font alias:

{{FileBox|filename=/usr/share/fonts/misc/fonts.alias|1=
9x15 -misc-fixed-medium-r-normal--15-140-75-75-c-90-iso10646-1
9x15B -misc-fixed-bold-r-normal--15-140-75-75-c-90-iso10646-1
}}

=== Team Fortress 2 ===

* If a black screen is visible for 1-2 seconds, adding <code>-nojoy</code> to the launch options in <code>Library->Team Fortress 2->Properties->General->Set launch options..</code>, may fix the issue.

=== X<sup>3</sup>: Terran Conflict and X<sup>3</sup>: Albion Prelude ===

* If red, green and blue stripes are visible, or the launcher fails to start, refer to [[Steam#Texture_compression|texture compression]] for details<ref>timon37. [http://forum.egosoft.com/viewtopic.php?t=335500 X³: TC and AP - Linux support thread], [http://forum.egosoft.com X Universe Forums], April 13th, 2013. Retrieved on May 26th, 2015.</ref>.

== Asking for help ==

The best place to ask for help is the Steam [https://forums.gentoo.org/viewtopic-t-930354.html thread] on the Gentoo Forums. If a solution to an issue is confirmed by others, add it to this page. Please do not remove content without [[Talk:Steam|discussion]], ''unless'' it is obviously wrong.

== External resources ==

* [https://forums.gentoo.org/viewtopic-t-930354.html Gentoo Forums]
* [https://bugs.gentoo.org/show_bug.cgi?id=442176 Gentoo Bugzilla]
* [https://github.com/ValveSoftware/steam-for-linux Steam for Linux]
* [http://steamcommunity.com/linux Steam for Linux Community]
* [http://blogs.valvesoftware.com/linux Valve Linux Blog]
* [https://wiki.archlinux.org/index.php/Steam ArchLinux Wiki]

== References ==

{{reflist}}

[[Category:Games]]
