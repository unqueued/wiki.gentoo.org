<languages />

{{Metadata|abstract=This article describes the removal of old kernels.}}

Questo articolo descrive la rimozione dei vecchi [[kernel]].

== Rimozione dei sorgenti del kernel ==

Dopo aver installato un nuovo kernel che funge correttamente, il kernel vecchio può essere rimosso.
Per rimuovere dei vecchi sorgenti kernel, il comando emerge --depclean (oppure in forma breve "-c") può essere usato per rimuovere tutte le vecchie o inutilizzate versioni di uno specifico pacchetto, ad esempio per 
{{Package|sys-kernel/gentoo-sources}}.

{{Emerge|params+=--depclean|gentoo-sources}}

Bisogna però assicurarsi di non rimuovere i sorgenti del kernel attualmente in esecuzione (controllare [[Kernel/Upgrade/it |kernel upgrade]] l'articolo su come aggiornare il kernel)

=== Proteggere i sorgenti kernel ===

Se i nuovi sorgenti kernel sono stati scaricati con emerge e tu utilizzi "--depclean" prima di passare alla nuova versione del kernel, i sorgenti attuali verranno rimossi.Ma se si vuole rimanere con i sorgenti kernel attuali, la rimozione non è voluta, perché ad esempio i sorgenti in uso potrebbero essere necessari per aggiornare moduli esterni.È quindi buona norma passare al comando "--depclean" la versione specifica del kernel da rimuovere.

{{Emerge|params+=--noreplace|gentoo-sources:3.3.8}}

Note the slot notation, using a colon instead of a dash. Every kernel version is its own slot.

=== Rimuovere i kernel residui ===

=== Utilizzando eclean-kernel ===

{{Package|app-admin/eclean-kernel}} è un semplice tool per la pulizia/rimozione dei vecchi kernel.Esso rimuove sia i file del kernel sia le cartelle dove è stato compilato, ovviamene solo se esse non si riferiscono a kernel preservati.

Ad esempio, per far rimanere solo tre nuovi kernel nel sistema:

{{RootCmd|eclean-kernel -n 3}}

=== Rimozione manuale ===

Portage tuttavia rimuove solo i file del kernel installati, i file del generati durante la compilazione e l'installazione del kernel rimangono intatti.Essi possono essere rimossi in sicurezza.

* Quando il kernel viene compilato direttamente nella cartella sorgenti, i file generati durante il processo di compilazione rimangono, non vengono rimossi da Portage:

: {{RootCmd|rm -r /usr/src/linux-3.X.Y}}

* During kernel setup, the kernel modules are copied to a sub directory of {{Path|/lib/modules/}}:

: {{RootCmd|rm -r /lib/modules/3.X.Y}}

* The old files in {{Path|/boot}} can also be removed:

: {{RootCmd|rm /boot/kernel-3.X.Y|rm /boot/System.map-3.X.Y|rm /boot/config-3.X.Y}}

* Lastly, remove all leftover entries from your bootloader's config file.

[[Category:Kernel]]
