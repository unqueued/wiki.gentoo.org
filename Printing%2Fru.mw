<languages />


{{Metadata|abstract=Этот документ описывает установку и поддержку принтеров, использующих CUPS и Samba. Он охватывает локальную и сетевую установки, также содержит инструкции по использованию общих принтеров из других операционных систем.}}

Этот документ описывает установку и поддержку принтеров, использующих CUPS и Samba. Он охватывает локальную и сетевую установки, также содержит инструкции по использованию общих принтеров из других операционных систем. За информацией о использовании команд {{c|lp}} и {{c|lpr}} для печати документов смотрите [http://www.cups.org/documentation.php/options.html отличную документацию от CUPS].

== Печать и Gentoo Linux ==

=== Используйте правильные инструменты ===

Linux имеет отличную поддержку принтеров; правильным инструментом для работы является CUPS ([http://www.cups.org Common Unix Printing System]). С самого начала проекта, в 1999, установка и поддержка CUPS существенно улучшилась. 

В этом документе мы опишем как использовать CUPS для настройки локального или сетевого принтера. Не будем углубляться в подробности, так как проект имеет [http://www.cups.org/documentation.php отличную документацию], описывающий все тонкости использования. 

== Сконфигурируйте ядро ==

=== Введение ===

Когда пользователь хочет установить принтер в системе, сперва нужно узнать как принтер будет к ней подсоединен. Будет ли подключение осуществляться через локальный порт, например LPT или USB, или он будет подключен по сети? Если принтер сетевой, будет ли он использовать протокол межсетевой печати (Internet Printing Protocol (IPP)) или протокол Microsoft Windows CIFS (Microsoft Windows Sharing)? 

Следующие несколько разделов объясняют какая минимальная конфигурация ядра необходима для подключения принтера к Gentoo. Конечно же, это зависит от того, ''как'' принтер будет подключен к системе, поэтому для удобства инструкции разделены.

Перейдем к {{Path|/usr/src/linux}} и запустим {{c|make menuconfig}}, чтобы войти в меню конфигурации ядра. Если ранее использовался {{c|genkernel}} для конфигурации ядра, нужно все равно выполнить эти шаги, чтобы убедиться, что ничего не пропущено. Не полагайтесь на genkernel, чтобы настроить все в системе автоматически; печать - эта та область, где сложно автоматически определить верные настройки.

В следующих примерах конфигурации будет добавлена необходимая поддержка ''в'' ядро, а не в качестве модулей. Такая сборка ядра необязательна; если необходимо, можно с легкостью добавить поддержку модулей, но удостоверьтесь, что впоследствии не забыли загрузить необходимые модули! 

Теперь перейдите к соответствующему разделу для конфигурации (или проверки) ядра.

=== Локально подключенный принтер (LPT) ===

LPT порт обычно используется для идентификации параллельного порта принтера. Вам потребуется сначала включить поддержку параллельного порта, затем поддержку параллельного порта "PC-style" (если только не используется система SPARC), после чего включить поддержку принтера с параллельным интерфейсом. 

{{KernelBox|title=Конфигурация принтера с параллельным интерфейсом|<pre>
Device Drivers -->
  <*> Parallel port support
  <*> PC-style hardware
  [*] IEEE 1284 transfer modes
  Character Devices -->
    <*> Parallel printer support
</pre>
}}

{{Note|Некоторым пользователям может потребоваться включение других параметров в разделе конфигурации <code>Parallel port support</code>. Проверьте функцию конфигурации ядра <code>Help</code> для получения подробностей.}}

Вот и все! Выйдите из конфигурации ядра и [[Kernel/Rebuild|пересоберите ядро]].

Теперь переходите к CUPS.

=== Локально подключенный принтер (USB) ===

To print via USB, USB support must be enabled in the kernel. See [[Kernel/Gentoo_Kernel_Configuration_Guide#USB_host_controllers|USB host controllers]] in the [[Kernel/Gentoo_Kernel_Configuration_Guide|Gentoo kernel configuration guide]].

It is also recommended to compile {{Package|net-print/cups}} with USB support enabled as some printer drivers require the usblp kernel module.

{{KernelBox|title=Поддержка USB принтера|<pre>
Symbol: USB_PRINTER [=n]
Type  :tristate
Prompt: USB Printer support
  Location:
    -> Device Drivers
      -> USB support (USB_SUPPORT [=y])
(1)     -> Support for Host-side USB (USB [=y])
  Defined at drivers/usb/class/Kconfig:21
  Depends on: USB_SUPPORT [=y] && USB [=y]
</pre>
}}

=== Удаленно подключенный принтер (IPP и LDP) ===

Чтобы иметь возможность подсоединиться к удаленно подключенному принтеру через протокол межсетевой печати (IPP) или [[wikipedia:Line_Printer_Daemon_protocol|Line Printer Daemon protocol]], ядро должно иметь поддержку сети. Предполагая, что ядро уже имеет эту поддержку, перейдем к CUPS.

=== Удаленно подключенный принтер (CIFS) ===

Ядро должно [[Samba/Guide#Mounting_a_Windows_or_Samba_share_in_GNU.2FLinux|поддерживать CIFS]]: 

{{KernelBox|title=Конфигурация принтера CIFS|<pre>
File systems -->
  Network File Systems -->
    <*> CIFS support (advanced network filesystem, SMBFS successor) 
</pre>
}}

After configuration for CIFS is complete, exit the kernel configuration and rebuild the kernel. Do not forget to copy the new kernel image to the {{Path|/boot}} location (and don't forget to mount {{Path|/boot}} if needed) and update the boot loader configuration prior to rebooting the system. Note the root commands in the '''LPT Printer Configuration''' step above for how to perform these steps.

Теперь переходите к CUPS.

== Установка и конфигурация CUPS ==

=== Установка ===

Установка CUPS на Gentoo проще простого. CUPS имеет несколько дополнительных функций, которые могут быть интересными. Чтобы включить или отключить эти функции, используйте USE-флаги, связанные с ними.

{{USEflag|package=net-print/cups}}

Проверьте текущие настройки USE-флагов. Чтобы отклониться от текущих настроек USE-флагов только для CUPS, добавьте подходящие USE-флаги в файл {{Path|/etc/portage/package.use}}. 

{{RootCmd|emerge -pv cups|output=<pre>
[ebuild N     ] net-print/cups-1.7.3  USE="X acl dbus pam ssl threads usb -debug -gnutls -java -kerberos -lprng-compat -python (-selinux) -static-libs -systemd -xinetd -zeroconf" ABI_X86="(64) (-32) (-x32)" LINGUAS="ca es fr it ja pt_BR ru" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" 0 kB
</pre>}}

Если результат устраивает, установим CUPS. 

{{Emerge|cups}}

Чтобы включить поддержку SAMBA, пакет {{Package|net-fs/samba}} должен быть установлен с поддержкой CUPS. Отредактируйте файл или каталог {{Path|/etc/portage/package.use}}, чтобы задействовать USE-флаг <code>cups</code>:

{{FileBox|filename=/etc/portage/package.use|title=Включение USE флаг cups для samba|1=
net-fs/samba cups
}}

Затем (пере)установим Samba:

{{Emerge|net-fs/samba}}

{{Important/ru|Все пользователи, которым требуется печатать документы, должны быть добавлены в группу <code>lp</code>:

{{RootCmd|gpasswd -a username lp}}

Все пользователи, которым требуется добавлять или редактировать принтеры через веб-интерфейс CUPS, должны быть добавлены в группу <code>lpadmin</code>:

{{RootCmd|gpasswd -a username lpadmin}}
}}

Если принтер подключен к системе локально, и необходимо, чтобы принтер был доступен сразу же после загрузки, нужно загружать демон CUPS автоматически при запуске системы. Убедитесь, что принтер подключен к компьютеру и включен до запуска демона CUPS. 

{{RootCmd|/etc/init.d/cupsd start
|rc-update add cupsd default}}

=== Конфигурация ===

Конфигурация сервера CUPS расположенная в {{Path|/etc/cups/cupsd.conf}} является для большинства пользователей достаточной. Однако, некоторым пользователям может понадобиться сделать некоторые изменения в конфигурации CUPS.

В следующем разделе описывается несколько изменений, которые часто бывают необходимы: 

* Разрешить другим системам использовать принтер, подключенный к этой рабочей станции Linux.
* Предоставить доступ к администрированию CUPS с удаленных систем.
* Настроить CUPS, чтобы поддерживать драйверы Windows PCL. Это рекомендуется, чтобы Windows системы могли использовать общий SAMBA принтер, так как большинство драйверов Windows — PCL драйверы.
* Настроить систему для использование принтера, подключенного к другой системе (не общему ресурсу Windows).

=== Удаленный доступ к принтеру ===

For other systems to use the printer through IPP, explicit access to the printer must be granted in the {{Path|/etc/cups/cupsd.conf}} file. To share the printer using SAMBA, this change is not needed. 

Откройте {{Path|/etc/cups/cupsd.conf}} в любимом текстовом редакторе и добавьте строку <code>Allow</code> для систем(ы), которым необходимо получить доступ к принтеру. В следующем примере доступ предоставлен к принтеру с localhost и с любой другой системы, чей IP-адрес начинается с <code>192.168.0</code>. 

{{FileBox|filename=/etc/cups/cupsd.conf|title=Разрешение удаленного доступа к принтеру|lang=apache|1=
<Location />
  Order allow,deny
  Allow localhost
  Allow from 192.168.0.*
</Location>
}}

This line broadcasts browsing information to the clients on the network; it will let network users know when the printer is available:

{{FileBox|filename=/etc/cups/cupsd.conf|title=Широковещательная рассылка информации|lang=apache|1=
BrowseAddress 192.168.0.*:631
}}

The port CUPS listens to will also need to be specified so that it will respond to printing requests from other machines on the network:

{{FileBox|filename=/etc/cups/cupsd.conf|title=Конфигурация порта|lang=apache|1=
Listen *:631
#Listen localhost:631
}}

{{Note|Если используется CUPS 1.1 (который в данный момент устарел), то необходимо использовать другой синтаксис для удаленных запросов печати:
{{CodeBox|title=Устаревшая конфигурация CUPS 1.1|1=
Port 631
(Убедитесь, что следующие две строки закомментированы)
#Listen 127.0.0.1:631
#Listen localhost:631
}}
}}

=== Удаленное администрирование CUPS ===

If remote administration is needed, then access to the CUPS administration will need to be granted from more systems than the localhost. Edit the {{Path|/etc/cups/cupsd.conf}} file and have explicit access granted to each system that requires access. For instance, to grant access to a system with an IP address of 192.168.0.3: 

{{FileBox|filename=/etc/cups/cupsd.conf|title=Разрешение удаленного доступа|lang=apache|1=
<Location /admin>
(...)
  Encryption Required
  Order allow,deny
  Allow localhost
  Allow 192.168.0.3
</Location>
}}

Do not forget to restart the CUPS daemon after making changes to {{Path|/etc/cups/cupsd.conf}} by issuing the {{c|/etc/init.d/cupsd restart}} command. 

=== Включение поддержки Windows PCL драйверов ===

PCL drivers send raw data to the print server. To enable raw printing on CUPS, edit {{Path|/usr/share/cups/mime/mime.types}} and uncomment the <code>application/octet-stream</code> line if it is not already uncommented. Then edit {{Path|/usr/share/cups/mime/mime.convs}} and do the same, if it is not already uncommented. 

{{FileBox|filename=/usr/share/cups/mime/mime.types|title=Включение печати без обработки данных|1=
application/octet-stream
}}

{{FileBox|filename=/usr/share/cups/mime/mime.convs|1=
application/octet-stream     application/vnd.cups-raw    0    -
}}

Do not forget to restart the CUPS daemon after making these changes by running {{c|/etc/init.d/cupsd restart}}. 

=== Установка удаленного принтера ===

If the printers are attached to a remote CUPS-powered server the system can be easily configured to use the remote printer by modifying the {{Path|/etc/cups/client.conf}} file. 

Assuming the printer is attached to a system called <code>printserver.mydomain</code>, open up {{Path|/etc/cups/client.conf}} with a favorite text editor and set the <code>ServerName</code> directive: 

{{FileBox|filename=/etc/cups/client.conf|1=
# (Замените printserver.mydomain на имя вашего сервера печати)
ServerName printserver.mydomain
}}

The remote system will have a default printer setting which will be used. To change the default printer, use the {{c|lpoptions}} command.

Сначала перечислите доступные принтеры:

{{RootCmd|lpstat -a|output=<pre>
hpljet5p accepting requests since Jan 01 00:00
hpdjet510 accepting requests since Jan 01 00:00
</pre>}}

Установите HP LaserJet 5P в качестве принтера по умолчанию:

{{RootCmd|lpoptions -d hpljet5p}}

== Конфигурация принтера ==

=== Введение ===

If the printer to be configured is remotely available through a different print server (running CUPS) then the following instructions are not needed. Instead, read [[#Setting up a remote printer|Setting up a Remote Printer]]. 

=== Обнаружение принтера ===

If a USB printer or parallel port printer was powered on when the Linux system booted, it might be possible to retrieve information from the kernel stating successful detection of the printer. This is merely an indication of print detection and not a requirement. 

{{Cmd|dmesg {{!}} grep -i print|output=<pre>
parport0: Printer, Hewlett-Packard HP LaserJet 2100 Series
</pre>}}

Для USB принтера:

{{Cmd|lsusb|output=<pre>
(...)
Bus 001 Device 007: ID 03f0:1004 Hewlett-Packard DeskJet 970c/970cse
</pre>
}}

==== lpinfo ====

{{:Printing/lpinfo}}

To list all available drivers, execute the following command:

{{RootCmd|lpinfo -m}}

{{c|lpinfo}} is not chatty and can be a little tricky to use. If any issue arises, see {{c|man lpinfo}} for more information.

=== Установка принтера ===

Чтобы установить принтер на систему, запустите браузер и направьте его на [http://localhost:631 http://localhost:631]. Будет отображен веб-интерфейс CUPS, из которого можно выполнить все задачи администрирования. 

{{Note|Если используется HTTPS-соединение для CUPS, в первый раз когда обращаетесь к интерфейсу, может пройти довольно ''длительное'' время перед тем как отобразится страница. Это потому, что первый запрос запускает генерирование сертификатов CUPS SSL, что может быть весьма не простой задачей.}}

Go to {{Path|Administration}} and enter the root login and password information of the box. Then, when the administrative interface has been reached, click on {{Path|Add Printer}}. A new screen will be displayed allowing the following information to be entered: 

* The ''spooler name'', a short but descriptive name used on the system to identify the printer. This name should not contain spaces or any special characters. For instance, for the HP LaserJet 5P could be titled <code>hpljet5p</code>.
* The ''location'', a description where the printer is physically located (for instance "bedroom", or "in the kitchen right next to the dish washer", etc.). This is to aid in maintaining several printers.
* The ''description'', a full description of the printer. A common use is the full printer name (like "HP LaserJet 5P").

The next screen requests the device the printer listens to. The choice of several devices will be presented. The next table covers a few possible devices, but the list is not exhaustive.

{| class="table table-condensed table-striped" style="text-align: left;"
|- 
! Устройство
! Описание
|- 
| AppSocket/HP JetDirect
| Это специальное устройство делает возможным доступ к сетевым принтерам через сокет HP JetDirect. Поддержка этой опции есть только у определенных принтеров.
|- 
| Internet Printing Protocol (IPP или HTTP)
| Используйте это для того, чтобы получить доступ к удаленному принтеру через IPP протокол, либо напрямую (IPP) или через HTTP.
|- 
| LPD/LPR Host или Printer
| Выберите эту опцию, если принтер является удаленным и подключен к серверу LPD/LPR.
|- 
| Parallel Port #1
| Выберите, если принтер подключен локально к параллельному порту (LPT). Когда принтер обнаружен автоматически, его имя будет добавлено к устройству.
|- 
| USB Printer #1
| Выберите в том случае, когда принтер подключен локально к USB порту. Имя принтера должно быть автоматически добавлено к имени устройства.
|-
|}

Если устанавливаете удаленный принтер, URL путь к принтеру может быть запрошен: 

* Сервер принтера LPD требует синтаксис <code>lpd://hostname/queue</code>.
* Принтер HP JetDirect требует синтаксис <code>socket://hostname</code>.
* Принтер IPP требует синтаксис <code>ipp://hostname/printers/printername</code> или <code><nowiki>http://hostname:631/printers/printername</nowiki></code>.

Next, select the printer manufacturer in the adjoining screen along with the model type and number in the subsequent screen. For many printers multiple drivers will be available. Select one now or search on [http://www.openprinting.org/printer_list.cgi OpenPrinting Printer List] for a good driver. Drivers are easily able to be changed later. 

Once the driver is selected, CUPS will inform that the printer has been added successfully to the system. Navigate to the printer management page on the administration interface and select {{Path|Configure Printer}} to change the printer's settings (resolution, page format, ...).

=== Тестирование и повторная конфигурация принтера ===

To verify if the printer is working correctly, go to the printer administration page, select the printer and click on {{Path|Print Test Page}}. 

If the printer does not seem to work correctly, click on {{Path|Modify Printer}} to reconfigure the printer. The same screens as during the first installation will appear but the defaults will now be the current configuration. 

If the printer does not function, clues may be found by looking at the CUPS error log located at {{Path|/var/log/cups/error_log}} In the next example a permission error is discovered, probably due to a wrong {{Path|Allow}} setting in the {{Path|/etc/cups/cupsd.conf}} file.

{{RootCmd|tail /var/log/cups/error_log|output=<pre>
(...)
E [11/Jun/2005:10:23:28 +0200] [Job 102] Unable to get printer status (client-error-forbidden)!
</pre>
}}

=== Установка наилучшего драйвера ===

Many printer drivers exist; to find out which one has the best performance the job, visit the [http://www.openprinting.org/printer_list.cgi OpenPrinting Printer List]. Select the brand and type/model of the printer to find out what driver the site recommends. For instance, for the HP LaserJet 5P, the site recommends the <code>ljet4</code> driver. 

Download the PPD file from the site and place it in {{Path|/usr/share/cups/model}} then run {{c|/etc/init.d/cupsd restart}} as root. This will make the driver available through the CUPS web interface. Now reconfigure the printer as described above.

== Использование специальных драйверов принтера ==

=== Введение ===

Some printers require specific drivers or provide additional features that are not enabled through the regular configuration process (described above). This chapter will discuss a selection of printers and how they are made to work with Gentoo Linux. 

=== Драйвер Gutenprint ===

The [http://gutenprint.sourceforge.net gutenprint] drivers are high-quality, open source printer drivers for various Canon, Epson, HP, Lexmark, Sony, Olympus and PCL printers supporting CUPS. They also support ghostscript, The Gimp, and other applications. 

Gentoo's Portage tree contains an ebuild for the gutenprint drivers. Run {{c|emerge gutenprint}} to install them. Note the ebuild requests to quite a few USE flags. At minimum <code>cups</code> and <code>ppds</code> must enabled for gutenprint drivers to work properly.

{{Emerge|net-print/gutenprint}}

Когда процесс сборки завершится, драйвера gutenprint будут доступны через веб-интерфейс CUPS.

=== Драйвер HPLIP ===

См. [[HPLIP|Драйвер HPLIP]].

=== Драйвер PNM2PPA ===

PPA is an HP technology that focuses on sending low-level processing to the system instead of the printer which makes the printer cheaper but more resource consuming. 

If the [http://www.openprinting.org/printer_list.cgi OpenPrinting] site informs the [http://pnm2ppa.sourceforge.net/ pnm2ppa] driver is the best option, then the <code>pnm2ppa</code> filter will need to be installed on the system: 

{{Emerge|net-print/pnm2ppa}}

Once installed, download the PPD file for the printer [http://www.openprinting.org/printer_list.cgi OpenPrinting] and put it in the {{Path|/usr/share/cups/model}} folder. Then configure the printer using the steps explained above.

=== Драйвер SpliX ===

[http://splix.ap2c.org/ SpliX] is a set of CUPS printer drivers for SPL (Samsung Printer Language) printers. While SpliX drivers are available through [http://www.openprinting.org/printer_list.cgi OpenPrinting] as well, the {{Package|net-print/splix}} package allows for quick portage-managed installation of these drivers. To install, run:

{{Emerge|net-print/splix}}

и перезагрузите <code>cupsd</code>.

=== Brother printer drivers ===

See [[Brother networked printer]].

=== Canon CAPT driver ===

See [[Canon_CAPT_Printer|Canon CAPT Driver]].

== Печать на и с Microsoft Windows ==

{{Note|Read the [[Samba/Guide|Samba/CUPS Guide]] for more detailed information on setting up CUPS with Samba.}}

=== Конфигурация Windows клиента для использования IPP ===

Microsoft Windows поддерживает IPP (пользователи Windows 9x и ME должны [http://support.microsoft.com/default.aspx?scid=kb;en-us;294439 установить] это отдельно). Чтобы установить принтер на Windows, который подключен к машине с Linux, запустите мастер добавления принтера{{Path|Добавить принтер}} и выберите {{Path|Сетевой принтер}}. Когда запросится URI, используйте синтаксис <code><nowiki>http://hostname:631/printers/queue</nowiki></code>. 

=== Configuring a Windows client for a Samba shared printer ===

To share the printer on the CIFS network SAMBA must be installed and configured correctly. Doing this is beyond the scope of this article, however a quick configuration of SAMBA for shared printers will be covered. 

Откройте {{Path|/etc/samba/smb.conf}} в любимом текстовом редакторе и добавьте в него раздел <code>[printers]</code>: 

{{CodeBox|title=Добавление раздела [printers]|1=
[printers]
  comment      = All printers
  path         = /var/spool/samba
  browseable   = no
  guest ok     = no
  writable     = no
  printable    = yes
  public       = yes
  printer name = hpljet5p
}}

Направляйтесь вверх файла {{Path|smb.conf}} до тех пор, пока не дойдете до раздела <code>[global]</code>. Найдите <code>printcap name</code> и <code>printing</code> и установите каждую из них в <code>cups</code> (смотрите пример ниже):

{{CodeBox|title=Изменение раздела [global] в smb.conf|1=
[global]
  (...)
  printcap name = cups
  printing      = cups
}}

Убедитесь, что включили поддержку [[#Включение_поддержки_драйверов_Windows_PCL|windows pcl]] в CUPS. Затем, перезапустите службу smb, чтобы изменения вступили в силу.

=== Конфигурация Linux клиента для сервера печати Windows ===

First make sure the printer is shared on Windows systems and that <code>samba</code> has been emerged with the <code>cups</code> USE flag enabled (as instructed above).

To find the desired printer's URI, run the following command, substituting <code>server</code> with the computer that is to probe for samba-shared printers:

{{Cmd|smbclient -N '\\server\'}}

В веб-интерфейсе CUPS настройте принтер, как описано ранее. Заметьте, что CUPS добавил другой драйвер под названием <code>Windows Printer via SAMBA</code>. Выберите его и используйте URI вида <code>smb://username:password@workgroup/server/printername</code> или <code>smb://server/printername</code>.

{{Important|Все специальные символы в URI выше должны быть должным образом кодированы. Например:

<code>smb://BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6</code>
  
кодируется как
  
<code>smb://BEN-DESKTOP/HP%20Color%20LaserJet%20CP1510%20series%20PCL6</code>
  
  
Такую строку можно получить с помощью следующей команды:

{{Cmd|python2 -c 'import urllib; print "smb://" + urllib.quote("BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6")'}}
}}

== Приложения, связанные с печатью ==

=== Введение ===

Существует много инструментов помогающих настроить принтер, использовать дополнительные фильтры печати, добавить функции к возможностям принтера, и т.д. Эта глава перечислит некоторые из них.  Имейте в виду, этот список не является исчерпывающим и не предназначен для обсуждения каждого инструмента в мельчайших подробностях. 

=== Gtk-LP — инструмент настройки принтера, основанный на GTK ===

С {{Package|net-print/gtklp}} установку, изменение и настройку принтера можно сделать из автономного приложения Gtk. Оно использует CUPS и также предоставляет все стандартные возможности CUPS. Это определенно стоит проверить, если не нравится веб-интерфейс CUPS или хочется автономное приложение для повседневных задач печати. 

Установите с помощью: 

{{Emerge|net-print/gtklp}}

=== Printer configuration tool for KDE 4 ===

KDE 4 also has a printer config tool called {{Package|kde-apps/print-manager}}. It works with CUPS and provides a user-friendly interface to configure printers. Install it as follows:

{{Emerge|kde-apps/print-manager}}

== Устранение проблем ==

=== Error: Unable to convert file 0 to printable format ===

Если есть проблемы с печатью и {{Path|/var/log/cups/error_log}} показывает это сообщение: 

{{CodeBox|title=Ошибка в логе|1=
Unable to convert file 0 to printable format
}}

Перекомпелируйте {{Package|app-text/ghostscript-gpl}} с USE-флагом <code>cups</code>. Вы также можете добавить <code>cups</code> к системным USE-флагам в {{Path|/etc/portage/make.conf}}, или включить его только для ghostscript-gpl, как показано ниже: 

{{RootCmd|echo "app-text/ghostscript-gpl cups" >> /etc/portage/package.use}}

Затем запустите {{c|emerge app-text/ghostscript-gpl}}. После того как компиляция будет завершена, не забудьте перезапустить <code>cupsd</code> после этого: 

{{RootCmd|/etc/init.d/cupsd restart}}

== Ссылки ==

* [http://www.cups.org/documentation.php/network.html Using Network Printers] - Documentation at CUPS.org.
* [http://www.cups.org/documentation.php/options.html Command-Line Printing and Options] - Documentation at CUPS.org.


{{Migrated|originalauthors=swift, nightmorph}}
