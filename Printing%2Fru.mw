<languages />


{{Metadata|abstract=Этот документ описывает установку и поддержку принтеров, использующих CUPS и Samba. Он охватывает локальную и сетевую установки. Вы также найдете инструкции по использованию общих принтеров из других операционных систем.}}

Этот документ описывает установку и поддержку принтеров, использующих CUPS и Samba. Он охватывает локальную и сетевую установки. Вы также найдете инструкции по использованию общих принтеров из других операционных систем.

== Печать в Gentoo Linux ==

=== Используйте правильные инструменты ===

Linux имеет отличную поддержку принтеров; правильным инструментом для работы является CUPS ( [http://www.cups.org Common Unix Printing System] ). С самого начала проекта, в 1999, установка и поддержка CUPS существенно улучшилась. 

В этом документе мы опишем как использовать CUPS для настройки локального или сетевого принтера. Мы не будем углубляться в подробности, так как проект имеет [http://www.cups.org/documentation.php отличную документацию], доступную для расширенного использования. 

== Сконфигурируйте ядро ==

=== Введение ===

Когда вы хотите установить принтер на систему, вам требуется знать как принтер будет к ней подсоединен. Будет ли подключение осуществляться через локальный порт, например LPT или USB, или он будет подключен по сети? И если это так, будет ли использован протокол межсетевой печати (Internet Printing Protocol (IPP)) или протокол Microsoft Windows CIFS (Microsoft Windows Sharing)? 

Следующие несколько разделов объясняют какая минимальная конфигурация ядра вам нужна. Конечно же, это зависит от того, как ваш принтер будет подключен к системе, поэтому для вашего удобства мы разделили инструкции.

Итак, перейдите к {{Path|/usr/src/linux}} и запустите <code>make menuconfig</code>, чтобы войти в меню конфигурации ядра. Если вы использовали <code>genkernel</code> для конфигурации ядра, вы все же должны выполнить эти шаги, чтобы убедиться, что ничего не пропущено. Вы не можете полагаться только на <code>genkernel</code>, чтобы настроить все на вашей системе; печать - эта та область, где сложно автоматически определить верные настройки, если их вообще можно определить.

В следующих примерах конфигурации мы добавим необходимую поддержку ''в'' ядро, а не в качестве модулей. Такая сборка ядра необязательна; если вы хотите, вы можете с легкостью использовать поддержку модулей, но удостоверьтесь, что впоследствии вы не забыли загрузить необходимые модули. 

Теперь перейдите к соответствующему разделу для конфигурации (или проверки) вашего ядра.

=== Локально подключенный принтер (LPT) ===

LPT порт обычно используется для идентификации параллельного порта принтера. Вам потребуется сначала включить поддержку параллельного порта, затем поддержку параллельного порта "PC-style" (если только вы не пользователь SPARC), после чего включить поддержку принтера с параллельным интерфейсом. 

{{Kernel|Конфигурация принтера с параллельным интерфейсом|<pre>
Device Drivers -->
  <*> Parallel port support
  <*> PC-style hardware
  [*] IEEE 1284 transfer modes
  Character Devices -->
    <*> Parallel printer support
</pre>
}}

{{Note/ru|Некоторым пользователям может потребоваться включение других параметров в разделе конфигурации <code>Parallel port support</code>. Проверьте функцию конфигурации ядра <code>Help</code> для получения подробностей.}}

Дело сделано; выйдите из конфигурации ядра и соберите ядро заново:

{{RootCmd|make && make modules_install}}

Не забудьте скопировать новый образ ядра в {{Path|/boot}} (и не забудьте смонтировать {{Path|/boot}} при необходимости) и обновите конфигурацию загрузчика перед перезагрузкой системы. Например, при использовании Grub2, это можно сделать, выполнив следующие команды:

{{RootCmd|make install}}
{{RootCmd|grub2-mkconfig -o /boot/grub.grub.cfg}}

Теперь переходите к CUPS.

=== Локально подключенный принтер (USB) ===

Чтобы включить печать через USB, вам требуется поддержка USB ядром: 

{{Kernel|Конфигурация принтера с USB портом|<pre>
Device Drivers -->
  USB Support -->
    <*> Support for Host-side USB
    (...)
    --- USB Host Controller Drivers
    (Select the HCD that your system uses. If you do not know which one
     to select, run "lspci -v | grep HCI" from another terminal)
    <*> EHCI HCD (USB 2.0) support ( or )
    <*> OHCI HCD support           ( or )
    <*> UHCI HCD (most Intel and VIA) support
</pre>
}}

Дело сделано; выйдите из конфигурации ядра и соберите ядро заново. Не забудьте скопировать новый образ ядра в {{Path|/boot}} (и не забудьте смонтировать {{Path|/boot}} при необходимости) и обновите конфигурацию загрузчика перед перезагрузкой системы. Посмотрите на команды в вышеприведенном шаге '''Конфигурация LPT-принтера''', если вы не уверены, что нужно делать на этих двух шагах.

Теперь продолжайте с CUPS.

=== Удаленно подключенный принтер (IPP) ===

Чтобы иметь возможность подсоединиться к удаленно подключенному принтеру через протокол межсетевой печати (IPP), ядро должно иметь поддержку сети. Предполагая, что ядро уже имеет эту поддержку, переходите к CUPS. 

=== Удаленно подключенный принтер (CIFS) ===

Ядро должно поддерживать CIFS: 

{{Kernel|CIFS Printer Configuration|<pre>
File systems -->
  Network File Systems -->
    <*> CIFS support (advanced network filesystem, SMBFS successor) 
</pre>
}}

That's it; quit the kernel configuration and rebuild your kernel. Don't forget to copy the new kernel image to the {{Path|/boot}} location (and don't forget to mount {{Path|/boot}} if needed) and update your boot loader configuration prior to rebooting your system. Note the root commands in the '''LPT Printer Configuration''' step above if you're unsure how to perform these two steps.

Теперь переходите к CUPS.

== Установка и конфигурация CUPS ==

=== Установка ===

Установка CUPS на Gentoo проще простого. CUPS имеет несколько дополнительных функций, которые могут вас заинтересовать. Чтобы включить или отключить эти функции, используйте USE-флаги, связанные с ними. 

{{USEflag|package=net-print/cups
|X+++Allows you to use your desktop menu to load the CUPS configuration webpage into your preferred browser.
|dbus+++Adds support for the <code>dbus</code> system message bus.
|pam+++If you need print job authentication through the Pluggable Authentication Modules, this will activate PAM support for CUPS.
|ssl+++If you want remote authentication and/or privacy, you need support for the Secure Socket Layer, allowing for encrypted printing sessions. Support for SSL must be available on all participating systems in your network.
|usb+++Support for working with printers connected via USB.
}}

Check the current USE settings. If you want to deviate from your current USE settings for CUPS alone, add the appropriate USE flags to {{Path|/etc/portage/package.use}}. 

{{RootCmd|emerge -pv cups|output=<pre>
[ebuild N     ] net-print/cups-1.7.3  USE="X acl dbus pam ssl threads usb -debug -gnutls -java -kerberos -lprng-compat -python (-selinux) -static-libs -systemd -xinetd -zeroconf" ABI_X86="(64) (-32) (-x32)" LINGUAS="ca es fr it ja pt_BR ru" PYTHON_SINGLE_TARGET="python2_7" PYTHON_TARGETS="python2_7" 0 kB
</pre>}}

Если результат вас устроит, установим CUPS. 

{{Emerge|cups}}

{{File|/etc/portage/package.use/cups||<pre>
net-print/cups samba
</pre>
}}

{{File|/etc/portage/package.use|Enabling cups USE flag for samba|
<pre>net-fs/samba cups</pre>
}}

Затем (пере)установим Samba:

{{Emerge|net-fs/samba}}

{{Important|Any user that needs to print should be added to the <code>lp</code> group:
{{RootCmd|gpasswd -a username lp}}
  
In order to be able to add printers and edit them via CUPS's web interface, any system user that is allowed to edit these settings should be in the <code>lpadmin</code> group:
  
{{RootCmd|gpasswd -a username lpadmin}}
}}

If the printer is attached to your system locally, and you want your printer to be available each time you boot you will need to load the CUPS daemon automatically on start-up. Make sure your printer is attached and powered on before you start the CUPS daemon. 

Если принтер подсоединен к системе локально, вам нужно загружать CUPS автоматически при запуске системы. Убедитесь, что принтер подключен к компьютеру и сети перед запуском CUPS.

=== Конфигурация ===

The default CUPS server configuration in {{Path|/etc/cups/cupsd.conf}} is sufficient for most users. However, some users might need to make changes to the CUPS configuration.

In the next section we cover a few changes that are often needed: 

* Allow other systems to use the printer attached to this Linux workstation.
* Grant access to the CUPS administration from remote systems
* Configure CUPS to support Windows PCL drivers. This is advised if you want Windows systems to be able to use a SAMBA-shared printer as most Windows drivers are PCL drivers.
* Configure this system to use a printer attached to another system (not Windows share).

=== Удаленный доступ к принтеру ===

Если вы хотите чтобы другие системы использовали ваш принтер через IPP, вам нужно явно предоставить доступ к принтеру в {{Path|/etc/cups/cupsd.conf}} . Если вы хотите предоставить общий доступ к принтеру, используя SAMBA, эти изменения не требуются. 

Open up {{Path|/etc/cups/cupsd.conf}} in your favorite editor and add in an <code>Allow</code> line for the system(s) that should be able to reach to your printer. In the next example, you can grant access to the printer from localhost and from any system whose IP address starts with <code>192.168.0</code> . 

{{File|/etc/cups/cupsd.conf|Разрешение удаленного доступа к принтеру|<pre>
<Location />
  Order allow,deny
  Allow localhost
  Allow from 192.168.0.*
</Location>
</pre>}}

This broadcasts browsing information to the clients on the network; it will let network users know when the printer is available:

{{File|/etc/cups/cupsd.conf|Broadcast info|<pre>
BrowseAddress 192.168.0.*:631
</pre>
}}

Also, you will need to specify which port CUPS listens to, so that it will respond to printing requests from other machines on your network:

{{File|/etc/cups/cupsd.conf|Конфигурация порта|<pre>
Listen *:631
#Listen localhost:631
</pre>
}}

{{Note/ru|Если вы все еще пользуетесь CUPS 1.1 (который в данный момент устарел), то вам будет нужно использовать другой синтаксис для удаленных запросов печати:
{{Code|Устаревшая конфигурация CUPS 1.1|<pre>
Port 631
(Убедитесь, что следующие две строки закомментированы)
#Listen 127.0.0.1:631
#Listen localhost:631
</pre>
}}
}}

=== Удаленное администрирование CUPS ===

Если вы заинтересованы в удаленном администрировании, вам нужно предоставить доступ из других систем, а не только с localhost, для администрирования CUPS. Отредактируйте {{Path|/etc/cups/cupsd.conf}} и явно предоставьте доступ тем системам, которым хотите. Например, чтобы предоставить доступ системе с IP-адресом 192.168.0.3: 

{{File|/etc/cups/cupsd.conf|Разрешение удаленного доступа|<pre>
<Location /admin>
(...)
  Encryption Required
  Order allow,deny
  Allow localhost
  Allow 192.168.0.3
</Location>
</pre>
}}

Do not forget to restart the CUPS daemon after making changes to {{Path|/etc/cups/cupsd.conf}} by running <code>/etc/init.d/cupsd restart</code> . 

=== Включение поддержки драйверов Windows PCL ===

Драйвера PCL отправляют данные на сервер печати "в сыром виде". Чтобы включить печать без обработки данных (raw printing) на CUPS, вы должны отредактировать {{Path|/usr/share/cups/mime/mime.types}} и раскомментировать строчку <code>application/octet-stream</code>, если она еще не раскомментирована. Затем вам нужно отредактировать {{Path|/usr/share/cups/mime/mime.convs}} и сделать то же самое, если строчка еще не раскомментирована. 

{{File|/usr/share/cups/mime/mime.types|Включение печати без обработки данных|<pre>
application/octet-stream
</pre>}}

{{File|/usr/share/cups/mime/mime.convs||<pre>
application/octet-stream     application/vnd.cups-raw    0    -
</pre>
}}

Do not forget to restart the CUPS daemon after making these changes by running <code>/etc/init.d/cupsd restart</code> . 

=== Установка удаленного принтера ===

Если принтеры подключены к удаленному серверу с CUPS, вы легко можете настроить вашу систему на использование удаленного принтера изменением файла {{Path|/etc/cups/client.conf}} . 

Предполагая, что принтер подключен к системе, называемой <code>printserver.mydomain</code>, откройте {{Path|/etc/cups/client.conf}} вашим любимым редактором и установите директиву <code>ServerName</code> : 

{{File|/etc/cups/client.conf||<pre>
# (Замените printserver.mydomain на имя вашего сервера печати)
ServerName printserver.mydomain
</pre>
}}

Удаленная система будет иметь настройки принтера по умолчанию, которые вы будете использовать. Если вы хотите изменить принтер по умолчанию, используйте <code>lpoptions</code> : 

Сначала перечислите доступные принтеры:

{{RootCmd|lpstat -a|output=<pre>
hpljet5p accepting requests since Jan 01 00:00
hpdjet510 accepting requests since Jan 01 00:00
</pre>}}

Установите HP LaserJet 5P в качестве принтера по умолчанию:

{{RootCmd|lpoptions -d hpljet5p}}

== Конфигурация принтера ==

=== Введение ===

If the printer you want to configure is remotely available through a different print server (running CUPS) you do not need to follow these instructions. Instead, read [[#Setting_Up_a_Remote_Printer|Setting Up a Remote Printer]]. 

=== Обнаружение принтера ===

Если у Вас USB принтер или принтер с параллельным портом был включен когда вы загрузили систему с Linux, у вас есть возможность получить информацию из ядра, подтверждающую, что принтер был успешно обнаружен. Однако, это просто указание, а не требование. 

{{Cmd|dmesg {{!}} grep -i print|output=<pre>
parport0: Printer, Hewlett-Packard HP LaserJet 2100 Series
</pre>}}

Для USB принтера:

{{Cmd|lsusb|output=<pre>
(...)
Bus 001 Device 007: ID 03f0:1004 Hewlett-Packard DeskJet 970c/970cse
</pre>
}}

=== Установка принтера ===

Чтобы установить принтер на систему, запустите ваш браузер и направьте его на [http://localhost:631 http://localhost:631]. Вы будете встречены веб-интерфейсом CUPS, из которого вы сможете выполнить все задачи администрирования. 


{{Note/ru|Если вы используете HTTPS-соединение для CUPS, в первый раз когда вы обращаетесь к интерфейсу, может пройти довольно длительное время перед тем как появится сайт. Это потому, что первый запрос запускает генерирование сертификатов CUPS SSL, что может быть очень времязатратным заданием.}}

Перейдите к ''Administration'' и введите логин администратора и пароль в поле ввода. Затем, когда вы дошли до интерфейса управления, нажмите на ''Add Printer'' . Вы будете встречены новым экраном, позволяющим ввести следующую информацию: 

*''spooler name'', короткое, но информативное имя, используемое на вашей системе для идентификации принтера. Это имя не должно содержать пробелов или любых других специальных символов. Например, для HP LaserJet 5P вы можете поставить <code>hpljet5p</code> .
*''location'', описание того где принтер расположен физически (например, в вашей комнате, или на кухне прямо рядом с посудомоечной машиной, ...). Это чтобы помочь в поддержке и сопровождении нескольких принтеров.
*''description'', в котором вы должны поместить полное описание принтера. Широко используется полное имя принтера (например, "HP LaserJet 5P").

Следующий экран спрашивает вас устройство, где принтер будет слушать запросы. У вас будет выбор из нескольких устройств. Следующая таблица описывает некоторые возможные устройства, но список не является исчерпывающим. 

{| class="wikitable" style="text-align: left;" 
|- 
! Устройство
! Описание
|- 
| AppSocket/HP JetDirect
| Это специальное устройство позволяет доступ к сетевым принтерам через сокет HP JetDirect. Только определенные принтеры это поддерживают.
|- 
| Internet Printing Protocol (IPP или HTTP)
| Используйте это для того, чтобы получить доступ к удаленному принтеру через IPP протокол или прямо (IPP), или через HTTP.
|- 
| LPD/LPR Host или Printer
| Выберите это если принтер является удаленным и подключен к серверу LPD/LPR.
|- 
| Parallel Port #1
| Выберите это если принтер подключен локально к параллельному порту (LPT). Когда принтер обнаружится автоматически, его имя будет также добавлено к устройству.
|- 
| USB Printer #1
| Выберите это в том случае, когда принтер подключен локально к USB порту. Имя принтера должно быть автоматически добавлено к имени устройства.
|-
|}

Если вы устанавливаете удаленный принтер, у вас будет запрошен URI принтера: 

* Сервер принтера LPD требует синтаксис <code>lpd://hostname/queue</code>
* Принтер HP JetDirect требует синтаксис <code>socket://hostname</code>
* Принтер IPP требует синтаксис <code>ipp://hostname/printers/printername</code> или <code>http://hostname:631/printers/printername</code>

Next, select the printer manufacturer in the adjoining screen and the model type and number in the subsequent one. For many printers you will find multiple drivers. You can either select one now or search on [http://www.openprinting.org/printer_list.cgi OpenPrinting Printer List] for a good driver. You can change drivers easily later on. 

Как только драйвер выбран, CUPS проинформирует вас что принтер успешно добавлен в систему. Теперь вы можете перейти к странице управления принтером на интерфейсе управления и выбрать <code>Configure Printer</code> чтобы изменить настройки принтера (разрешение, формат страницы, ...).

=== Тестирование и повторная конфигурация принтера ===

Чтобы проверить, работает ли принтер правильно, перейдите к странице управления принтером, выберите ваш принтер и нажмите на <code>Print Test Page</code> . 

Если кажется что принтер не работает верно, нажмите на <code>Modify Printer</code>, чтобы его повторно настроить. Вы будете встречены теми же самыми экранами, как и в течение первой установки, но значениями по умолчанию теперь будет ваша текущая конфигурация. 

Если вы не имеете представления почему принтер не работает, вы можете догадаться что происходит, посмотрев в {{Path|/var/log/cups/error_log}} . В следующем примере мы узнаем что у нас имеется ошибка разрешений, возможно вследствие ошибочных настроек <code>Allow</code> в {{Path|/etc/cups/cupsd.conf}} . 

{{RootCmd|tail /var/log/cups/error_log|output=<pre>
(...)
E [11/Jun/2005:10:23:28 +0200] [Job 102] Unable to get printer status (client-error-forbidden)!
</pre>
}}

=== Установка наилучшего драйвера ===

Many printer drivers exist; to find out which one has the best performance for your printer, visit the [http://www.openprinting.org/printer_list.cgi OpenPrinting Printer List]. Select your brand and type to find out what driver the site recommends. For instance, for the HP LaserJet 5P, the site recommends the <code>ljet4</code> driver. 

Загрузите PPD файл с сайта и поместите его в {{Path|/usr/share/cups/model}}, затем запустите <code>/etc/init.d/cupsd restart</code> под учетной записью администратора. Это сделает драйвер доступным через веб-интерфейс CUPS. Теперь настройте ваш принтер заново, как описано выше.

== Использование специальных драйверов принтера ==

=== Введение ===

Некоторые принтеры требуют специальные драйвера или предоставляют дополнительные функции, которые не включаются через обычный процесс конфигурации, который описан выше. Эта глава обсудит подборку принтеров и как их заставить работать с Gentoo Linux. 

=== Драйвер Gutenprint ===

Драйверы [http://gutenprint.sourceforge.net gutenprint] — это высококачественные драйверы с открытым исходным кодом для различных принтеров Canon, Epson, HP, Lexmark, Sony, Olympus и PCL, поддерживающие CUPS, ghostscript, The Gimp и другие приложения. 

Gentoo's Portage Tree contains an ebuild for the gutenprint drivers. Just use <code>emerge gutenprint</code> to install them. Note that the ebuild listens to quite a few USE flags (such as <code>cups</code> and <code>ppds</code> ). You must have enabled at least these two flags! 

{{Emerge|gutenprint}}

Когда процесс сборки завершится, драйвера gutenprint будут доступны через веб-интерфейс CUPS.

=== Драйвер HPLIP ===

См. [[HPLIP|Драйвер HPLIP]].

=== Драйвер PNM2PPA ===

PPA — это технология HP, которая фокусируется на отправке низкоуровневой обработки системе вместо принтера, что делает принтер более дешевым, но более требовательным к ресурсам. 

If the [http://www.openprinting.org/printer_list.cgi OpenPrinting] site informs you that the [http://pnm2ppa.sourceforge.net/ pnm2ppa] driver is your best option, you need to install the <code>pnm2ppa</code> filter on your system: 

{{Emerge|pnm2ppa}}

Once installed, download the PPD file for your printer from the [http://www.openprinting.org/printer_list.cgi OpenPrinting] site and put it in {{Path|/usr/share/cups/model}} . Next, configure your printer using the steps explained above.

== Печать с и на Microsoft Windows ==

{{Note/ru|Прочитайте наше [[Samba/HOWTO Руководство по Samba/CUPS]] для более подробной информации по настройке CUPS с Samba.}}

=== Конфигурация Windows клиента для использования IPP ===

Microsoft Windows поддерживает IPP (пользователи Windows 9x и ME должны [http://support.microsoft.com/default.aspx?scid=kb;en-us;294439 установить] это отдельно). Чтобы установить принтер, который подключен к вашей машине с Linux на Windows, запустите мастер добавления принтера <code>Add Printer</code> и выберите <code>Network Printer</code> . Когда у вас запросят URI, используйте синтаксис <code>http://hostname:631/printers/queue</code> . 

=== Конфигурация Windows клиента для принтера с общим доступом с помощью Samba ===

To share the printer on the CIFS network, you must have SAMBA installed and configured correctly. How to do this is beyond the scope of this document, but we will quickly deal with the configuration of SAMBA for shared printers. 

Откройте {{Path|/etc/samba/smb.conf}} в вашем любимом редакторе и добавьте в него раздел <code>[printers]</code> : 

{{Code|Добавление раздела [printers]|<pre>
[printers]
  comment      = All printers
  path         = /var/spool/samba
  browseable   = no
  guest ok     = no
  writable     = no
  printable    = yes
  public       = yes
  printer name = hpljet5p
</pre>
}}

Теперь направляйтесь вверх файла {{Path|smb.conf}} до тех пор, пока вы не будете на разделе <code>[global]</code> . Далее определите где находятся настройки <code>printcap name</code> и <code>printing</code> и установите каждую из них в <code>cups</code> : 

{{Code|Изменение раздела [global]|<pre>
[global]
  (...)
  printcap name = cups
  printing      = cups
</pre>
}}

Убедитесь, что вы включили поддержку [[#Включение_поддержки_драйверов_Windows_PCL|windows pcl]] в CUPS. Затем перезапустите службу <code>smb</code> , чтобы изменения вступили в силу.

=== Конфигурация Linux клиента для сервера печати Windows ===

Прежде всего, убедитесь, что в системе Windows открыт общий доступ к принтеру.

Затем, в веб-интерфейсе CUPS настройте принтер как описано ранее. Вы заметите, что CUPS добавил другой драйвер под названием <code>Windows Printer via SAMBA</code> . Выберите его и используйте для URI синтаксис <code>smb://username:password@workgroup/server/printername</code> или <code>smb://server/printername</code> .

{{Cmd|smbclient -N '\\server\'}}

Затем настройте принтер в веб-интерфейсе как описано ранее. Вы заметите, что CUPS добавил другой драйвер под названием <code>Windows Printer via SAMBA</code> . Выберите его и используйте URI вида <code>smb://username:password@workgroup/server/printername</code> или <code>smb://server/printername</code> .

{{Important/ru|Все специальные символы в URI выше должны быть должным образом кодированы. Например,
<code>smb://BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6</code>
  
кодируется как
  
<code>smb://BEN-DESKTOP/HP%20Color%20LaserJet%20CP1510%20series%20PCL6</code>
  
  
Такую строку можно получить с помощью следующей команды:
{{Cmd|python2 -c 'import urllib; print "smb://" + urllib.quote("BEN-DESKTOP/HP Color LaserJet CP1510 series PCL6")'}}
}}

== Приложения, связанные с печатью ==

=== Введение ===

Существует много инструментов, которые помогут настроить принтер, использовать дополнительные фильтры печати, добавить функции к возможностям вашего принтера, и т. д. Эта глава перечисляет некоторые из них. Список не является исчерпывающим и не предназначен для обсуждения каждого инструмента в мельчайших подробностях. 

=== Gtk-LP — инструмент настройки принтера, основанный на Gtk ===

С [http://gtklp.sourceforge.net/index.shtml Gtk-LP] вы можете установить, изменить и настроить принтер из автономного приложения Gtk. Оно использует CUPS и также предоставляет все стандартные возможности CUPS. Это определенно стоит проверить, если вам не нравится веб-интерфейс CUPS или хочется автономное приложение для повседневных задач печати. 

Чтобы его установить, скомпилируйте <code>gtklp</code> : 

{{Emerge|gtklp}}

== Устранение проблем ==

=== Error: Unable to convert file 0 to printable format ===

Если у вас проблемы с печатью и {{Path|/var/log/cups/error_log}} показывает это сообщение: 

{{Code|Лог-файл сообщений об ошибках|<pre>
Unable to convert file 0 to printable format
</pre>
}}

Вам необходимо заново установить <code>ghostscript-gpl</code> с USE-флагом <code>cups</code>. Вы также можете добавить <code>cups</code> к USE-флагам в {{Path|/etc/portage/make.conf}} , или можете включить его только для <code>ghostscript-gpl</code> , как показано ниже: 

{{RootCmd|echo "app-text/ghostscript-gpl cups" >> /etc/portage/package.use}}

Затем установите <code>ghostscript-gpl</code>. После того как компиляция завершена, перезапустите <code>cupsd</code> : 

{{RootCmd|/etc/init.d/cupsd restart}}

== Благодарности ==

Мы хотели бы поблагодарить следующих авторов и редакторов за их вклад в это руководство:


* swift
* nightmorph
