<languages />
{{InfoBox stack
|{{InfoBox wikipedia|Dynamic frequency scaling|text=Dynamic frequency scaling|header=true}}
|{{InfoBox homepage|https://01.org/powertop/|text=PowerTOP homepage}}
|{{InfoBox wikipedia|PowerTOP|text=PowerTOP}}
}}

이 게시물은 [[:Category:Processors|프로세서]]<sup style="color: #ff0077">en</sup>의 [[power management/ko|전원 관리]] 설정을 설명합니다.

== CPU 주파수 조절 ==

CPU 주파수 조절은 "동작중" 전원을 절약하고 칩에서 발생하는 열의 양을 줄이려는 목적으로 자동으로 조절할 수 있는 주파수를 다루는 기술입니다.

=== 설치 ===

==== BIOS ====

일부 기능은 [[BIOS]]에서 켜고 끌 수 있습니다. 다음 기능을 켰는지 확인하십시오:
* "Processor C1E support"
* "Enhanced Speedstep (EIST)"

==== 커널 ====

다음 커널 옵션을 활성화하십시오:

{{KernelBox|title=CPU 전원 관리 옵션 활성화|1=
Power management and ACPI options  --->
     [*] ACPI (Advanced Configuration and Power Interface) Support  --->
         <*>   Processor
     CPU Frequency scaling  --->
         [*] CPU Frequency scaling
             Default CPUFreq governor (ondemand)  --->
                 Select a default governor; see below table
                 Default is:
                 ondemand
             x86 CPU frequency scaling drivers  --->
                 Select a driver, see below table
}}

이 프로파일에 기반하여 주파수를 바꾸는 역할을 담당하는 정책 설정이 필요합니다:

{| class="table"
|+ 기본 CPUFreq 정책
|-
! 옵션
! 모듈
! 지원 프로세서
! 참고
|-
| 'performance' 정책
| {{ta|cpufreq_performance}}
| CPU 주파수를 최대한 높게 설정합니다.
|
|-
| 'powersave' 정책
| {{ta|cpufreq_powersave}}
| CPU 주파수를 최대한 낮출 수 있는 만큼 낮춰 고정 설정합니다.
| 기본 정책으로 설정할 수 없음
|-
| 사용자 영역 주파수 제어용 'userspace' 정책
| {{ta|cpufreq_userspace}}
| CPU 주파수를 직접 설정하려 하거나 사용자 프로그램에서 CPU 주파수를 동적으로 설정할 수 있게 합니다.
|
|-
| 'ondemand' cpufreq 정책
| {{ta|cpufreq_ondemand}} 
| CPU 가용성을 기반으로 주기적 폴링을 수행하거나 주파수를 바꿉니다.
| 추천
|-
| 'conservative' cpufreq 정책
| {{ta|cpufreq_conservative}}
| ondemand와 비슷합니다. 속도가 필요할 때는 주파수를 100% 수준으로 설정하기보단 점진적으로 올리거나 줄입니다.
|
|}

{| class="table"
|+ x86 CPU 주파수 조절 드라이버
|-
! 옵션
! 모듈
! 지원 프로세서
! 참고
|-
| Processor Clocking Control interface driver
| {{ta|pcc-cpufreq}}
|
|
|-
| ACPI Processor P-States driver
| {{ta|acpi-cpufreq}}
| Intel Core, [[Intel Core 2]], Intel Atom, Intel Pentium M
|
|-
| AMD Opteron/Athlon64 PowerNow!
| {{ta|powernow-k8}}
| AMD Opteron, AMD Athlon 64, AMD Turion 64
|
|-
| Intel 고급 SpeedStep (오래된 기능)
| {{ta|speedstep_centrino}}
| Intel Pentium M (Centrino), Intel Xeon
| 오래된 기능이므로, 대신 '''ACPI Processor P-States driver''' 를 사용하십시오.
|-
| Intel Pentium 4 클록 변조
| {{ta|p4-clockmod}}
| Intel Pentium 4, Intel XEON
| 상당히 느려지며 눈에 띄도록 레이턴시 증가를 야기합니다
|}

== 클록 신호 ==

프로세서가 전원 절약 상태에서 오래 머물러 있을 때 대부분의 전력 사용량을 절약하며, 프로세서를 동작 상태로 복귀할 때 사용하는 클록 신호 수를 최대한 줄입니다.

=== 설치 ===

==== BIOS ====

일부 기능은 [[BIOS]]에서 켜거나 끌 수 있습니다. 다음 기능을 켰는지 확인하십시오:
* "HPET"
* "Multimedia timer"

==== 커널 ====

다음 커널 옵션을 활성화하십시오:

{{KernelBox|title=커널에서 클록 최적화 기능 활성화 |1=
Processor type and features  --->
   [*] Tickless System (Dynamic Ticks)
   [*] High Resolution Timer Support
   [*] HPET Timer Support
}}

{{Note|이 옵션은 "General setup" -> "Timers subsystem"에 있습니다.}}

== PowerTOP ==

[[PowerTOP]]은 컴퓨터의 전기 전원 소모량을 측정하고 보여주고 최소화하도록 설계한 유틸리티입니다.

=== 설치 ===

==== 커널 ====

더 자세한 내용은 [[PowerTOP]] 게시글의 [[PowerTOP#Kernel|커널을 다루는 부분]]을 참고하십시오.

{{KernelBox|title=powertop 기능 활성화|1=
Power management and ACPI options  --->
   [*] Power Management Debug Support
   [*]   Extra PM attributes in sysfs for low-level debugging/testing
Kernel hacking  --->
   [*] Kernel debugging
   [*] Collect kernel timers statistics
}}

==== 프로그램 ====

{{Package|sys-power/powertop}}을 설치하십시오:

{{USEflag
|unicode+yes
|X
}}

{{Emerge|sys-power/powertop}}

{{Important|For kernel 3.3 onwards, one will need to enable the following kernel options (maybe incomplete list) to get proper support. Some of the following config are already enabled in the previous graphical kernel configuration. One can use the following to quickly check if the required options are set or not. The last two options are not mandatory.}}
{{FileBox|filename=/usr/src/linux/.config|1=
CONFIG_NO_HZ
CONFIG_HIGH_RES_TIMERS
CONFIG_HPET_TIMER
CONFIG_CPU_FREQ_GOV_ONDEMAND
CONFIG_USB_SUSPEND
CONFIG_SND_AC97_POWER_SAVE
CONFIG_TIMER_STATS
CONFIG_PERF_EVENTS
CONFIG_PERF_COUNTERS
CONFIG_TRACEPOINTS
CONFIG_TRACING
# These do not seem to be mandatory:
CONFIG_EVENT_POWER_TRACING_DEPRECATED
CONFIG_ACPI_PROCFS_POWER}}

==== 사용법 ====

When [[PowerTOP|powertop]] is ran, it sorts the running processes in order of how often they cause the processor to wake up.

== Hprofile ==

It is possible to change the active CPU governer using a simple command:

{{RootCmd|for c in $(ls -d /sys/devices/system/cpu/cpu[0-9]*); do
echo ondemand >$c/cpufreq/scaling_governor; done}}

Read {{Path|/etc/local.d/README}} to learn how to execute this command on startup.

Applications such as {{Package|sys-power/cpupower}} do little more than the above but with some interface on top of it. However, having to run certain commands as root depending on the system usage is not efficient for most users. It is better to automate some of the decisions of governing CPU frequency. For instance, when not wired to AC power, most users would like to have the system in a power saving mode.

This is where [[Hprofile]] comes into play. Please refer to its article for more information and configuration.

[[Category:Power management]]
