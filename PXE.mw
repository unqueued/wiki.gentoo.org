This page is about using Gentoo as a PXE server to boot just about any operating system or bootable tool. Please extend it with your own experience. The primary focus is to boot live images and the page can get renamed once we have a better name for it.

== Bootloaders ==

=== GRUB2 ===

=== PXELINUX ===

=== iPXE ===

== TFTP servers ==

So far I have best experience with {{Package|net-ftp/tftp-hpa}}.

{{Emerge|net-ftp/tftp-hpa}}

To run it temporarily, you can use the following command line.

{{RootCmd|in.tftpd -L --secure /tftproot}}

== Bootable images ==

=== Gentoo installation ===

See:

* [[Installation_alternatives#Diskless_install_using_PXE_and_kernel.2Finitrd.2Fsquashfs_from_the_LiveCD]]

=== Fedora installation ===

{{FileBox|filename=~/bin/fedora-pxe-install|1=<nowiki>
#!/bin/bash -xe

# Mirror URL
mirror="http://mirrors.nic.cz/fedora/linux/"
# Releases
[ $# -eq 0 ] && releases="22 21/Server 21-Alpha/Workstation 20/Fedora" || releases="$*"
# Release and product
# Architecture: x86 | x86_64 | ...
arch=x86_64
# TFTP directory path
prefix=/tftproot

test -n "$prefix"

menuentry() { cat << EOF
menuentry "Install Fedora $release $arch $product ($state)" {
    linux /boot/$kernel repo=$repo
    initrd /boot/$initrd
}
EOF
}

grub2-mknetdir --net-directory "$prefix"
> "$prefix/boot/grub/grub.cfg"
for release in $releases; do
    check() { state="$1"; repo="$mirror$state/$release/$arch/os"; curl --fail -I "$repo"; }
    check releases || check development || check releases/test

    kernel="fedora-$(echo "$release" | tr / -)-$arch-kernel"
    initrd="fedora-$(echo "$release" | tr / -)-$arch-initrd"
    pxerepo="$repo/images/pxeboot"

    download() { curl --fail -o "$1" "$2"; }
    download "$prefix/boot/$kernel" "$pxerepo/vmlinuz"
    download "$prefix/boot/$initrd" "$pxerepo/initrd.img"
    menuentry >> "$prefix/boot/grub/grub.cfg"
done
</nowiki>}}

{{RootCmd|fedora-pxe-install}}
