<languages />


{{Metadata|abstract=Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e dos canais do Gentoo no Internet Relay Chat (IRC) da rede Freenode.}}

Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e dos canais do Gentoo no Internet Relay Chat (IRC) da rede Freenode.

__TOC__

=== Introdução ===

Por favor note que muitas destas perguntas são respondidas na documentação e nos guias oficiais do Gentoo. Está é apenas uma lista das questões mais frequentes. Por favor leia a documentação do Gentoo e as páginas de manual (man pages) para obter um maior entendimento de como o Gentoo e o GNU/Linux funcionam, e para obter respostas para questões que possam não estar respondidas aqui. 

== Iniciando ==

=== Como se pronuncia Gentoo e o que significa? ===

''Gentoo'' é pronunciado "gen-tu" (o "g" de "Gentoo" é pronunciado como o "g" em "gentil" e "oo" como um longo "u"). É o nome de uma espécie de pinguim. O nome científico do  [https://en.wikipedia.org/wiki/Gentoo_penguin pinguim Gentoo ] é ''Pygoscelis papua''. Esse nome foi dado ao pinguim pelos habitantes das [https://en.wikipedia.org/wiki/Falkland_Islands Ilhas Falkland (Malvinas)].

=== O que faz do Gentoo diferente? ===

O Gentoo usa um sistema similar aos "portes" do BSD chamado [[Project:Portage|Portage]]. O Portage é um sistema de gerenciamento de pacotes de software que permite grande flexibilidade em instalar e manter o software de um sistema Gentoo. Ele provê suporte para opções em tempo de compilação (através das [[Handbook:AMD64/Working/USE|"USE flags"]]), dependências condicionais, sumarização pré-instalação de pacotes, instalação segura (através do uso de "caixas de areia" (sandboxing)) e desinstalação de software, perfis de sistema, [[Handbook:AMD64/Portage/Variables#Configuration_file_protection|proteção de arquivo de configuração]] entre muitos outros [[Handbook:AMD64/Working/Features|recursos]].

Com o Gentoo o sistema inteiro pode ser construído a partir do código-fonte, permitindo ao usuário escolher suas otimizações. O usuário tem controle completo sobre quais pacotes são ou não são instalados. O Gentoo o provê com um grande número de escolhas, de modo pode pode instalar o Gentoo de acordo com suas próprias preferências, o que faz o Gentoo ser chamado de "meta-distribuição". 

O Gentoo é ativamente desenvolvido. A distribuição toda usa um estilo rápido de desenvolvimento: correções (''patches'') de pacotes são rapidamente integradas na "árvore" principal, a documentação é atualizada com base diária, novos recursos do Portage são adicionados com frequencia, e lançamentos oficiais ocorrem duas vezes por ano.

== Instalação ==

=== Tudo está muito instável usando otimizações -O9 -ffast-math -fomit-frame-pointer. O que acontece? ===

Não se dê ao trabalho de usar otimizações acima de <code>-O3</code> uma vez que não são suportadas pelas versões atuais do GCC. Otimizações muito agressivas às vezes fazem com que o compilador "enxugue" o código assembly ao ponto de ele não fazer mais o mesmo. 

Por favor tente compilar com as CFLAGS <code>-O2 -march=<arquitetura></code> antes de reportar um bug. 

=== Como troco a senha do root (ou de outro usuário)? ===

Use the {{c|passwd}} command to change the password for the user that is logged in. The root user can change user's password by issuing the command {{c|passwd username}}. For extra options and settings see {{c|passwd}}'s manual page ({{c|man passwd}}).

=== Como adiciono um usuário normal? ===

The command {{c|useradd larry}} will add a user called "larry". However, this method does not give the user many of the rights needed to work properly on the system, so the following command is preferred:

{{RootCmd|useradd -m -G users,audio,wheel bob}}

This will add a user called "larry". The <code>-G</code> option adds the user to a number of groups:
* <code>users</code> which is the standard group for interactive users on the system
* <code>audio</code> which allows the user to access sound devices
* <code>wheel</code> which allows the user to execute the {{c|su}} command to gain root privileges (if he knows the root password)

=== Por que um usuário não pode fazer <code>su</code> para root? ===

For security reasons, users may only {{c|su}} to root if they belong to the wheel group. To add a username to the wheel group, issue the following command as root: 

{{RootCmd|gpasswd -a <nome_usuario> wheel}}

=== Posso atualizar o Gentoo de uma versão para outra sem reinstalar? ===

In fact, there is no difference between the various releases after they have been installed. Gentoo 1.4 and later are <code>glibc-2.3.x</code> (or higher) based. As such, running {{c|emerge --sync && emerge -uDN @world}} will bring the entire system up to speed with the "latest Gentoo". The differences between individual releases lie in the installation medium and pre-compiled packages. See the [[Upgrading Gentoo|Gentoo Upgrading Guide]] for more information about profiles and their role in upgrading. 

Also note that the {{c|emerge -uDN world}} command updates the installed packages as well as their dependencies, but not the build-time dependencies (packages needed during builds but not when the software is installed). To update those as well, add the <code>--with-bdeps=y</code> option.

=== Meu kernel não dá boot, que devo fazer? ===

Não é obrigatório refazer todos os passos da instalação. Entretanto, é necessário investigar o kernel e todos os passos relacionados a ele. Suponha que o Gentoo foi instalado em {{Path|/dev/sda1}} ({{Path|/boot}}) e {{Path|/dev/sda3}} ({{Path|/}}) com {{Path|/dev/sda2}} sendo área de swap.

Dê boot com o CD de instalação e espere até apareça o prompt de comando.

First {{c|mount}} all the partitions:

{{RootCmd|mount /dev/sda3 /mnt/gentoo
|mount /dev/sda1 /mnt/gentoo/boot
|swapon /dev/sda2
|mount -t proc none /mnt/gentoo/proc}}

Then {{c|chroot}} into the Gentoo environment and configure the kernel:

{{RootCmd|chroot /mnt/gentoo /bin/bash
|env-update && source /etc/profile
|cd /usr/src/linux
|make menuconfig}}

Agora (de)selecione tudo que foi (de)selecionado erroneamente na tentativa anterior. Então salve sua configuração e compile o kernel:

{{RootCmd|make && make modules_install}}

Now copy the {{Path|bzImage}} file, overwriting the previous one:

{{RootCmd|cp arch/i386/boot/bzImage /boot/<nome_do_kernel>}}

If LILO has been used as the bootloader, rerun {{c|lilo}} - GRUB users should skip this step:

{{RootCmd|/sbin/lilo}}

Exit the {{c|chroot}} and reboot the system.

{{RootCmd|exit
|umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo
|reboot}}

Se, por outro lado, o problema for com o gerenciador de boot, siga os mesmos passos, mas em vez de configurar/compilar o kernel, reconfigure o gerenciador de boot (não é necessária recompilação).

=== Meu proxy requer autenticação, o que devo fazer? ===

Para o Portage usar automaticamente esse esquema, defina-o em {{Path|/etc/portage/make.conf}}: 

{{FileBox|filename=/etc/portage/make.conf|title=Configurando o proxy|1=
http_proxy="http://usuario:senha@servidor:porta"
ftp_proxy="ftp://usuario:senha@servidor:porta"
RSYNC_PROXY="rsync://usuario:senha@servidor:porta"
}}

Keep in mind that the proxy server must support the <tt>CONNECT</tt> method for the rsync port(s).

=== Como gravo um arquivo ISO? ===

Arquivos ISO devem ser gravados em "modo bruto" (raw mode). Isso significa que o arquivo ISO não deve ser apenas gravado como um arquivo no CD, mas interpretado como um CD completo. 

Existem muitas ferramentas de gravação disponíveis; explicar todas elas seria um "trabalho de Sísifo". Entretanto, descrever umas poucas ferramentas mais populares não machuca: 

* Com o EasyCD Creator selecione {{Path|File}}, {{Path|Record CD from CD image}}. Então troque o {{Path|Files of type}} para {{Path|ISO image file}}. Depois localize o arquivo ISO e clique em {{Path|Open}}. Depois de clicar em  <code>Start recording</code> a imagem ISO será gravada corretamente no CD/DVD.

* Com o Nero Burning ROM, cancele o wizard (ajudante) que aparece automaticamente e selecione {{Path|Burn Image}} do menu {{Path|File}}. Selecione a imagem que você quer gravar e clique em {{Path|Open}}. Agora clique no botão {{Path|Burn}} e assista seu novíssimo CD do Gentoo Live sendo gravado.

* With {{c|cdrecord}}, simply type {{c|cdrecord dev{{=}}/dev/cdrom}} (replace {{Path|/dev/cdrom}} with the CDROM drive's device path) followed by the path to the ISO file.

* Com o K3B, selecione {{Path|Tools}} → {{Path|CD}} → {{Path|Burn CD Image}}. Então selecione o arquivo ISO na área 'Image to Burn'. Clique {{Path|Start}} para iniciar o processo de gravação.

* Com o Mac OS X Panther, selecione <tt>Disk Utility</tt> do {{Path|Applications/Utilities}}, selecione {{Path|Open}} do menu {{Path|Images}}, selecione a imagem de disco montada na janela principal e selecione {{Path|Burn}} no menu {{Path|Images}}.

* Com o Mac OS X Jaguar, selecione o <tt>Disk Copy</tt> do {{Path|Applications/Utilities}}, selecione {{Path|Burn Image}} do menu {{Path|File}}, selecione o arquivo ISO e clique no botão {{Path|Burn}}.

=== Qual CD/stage devo usar para minha CPU? ===

Primeiro você precisa saber em que tipo de CPU o Gentoo será instalado (por exemplo, um Pentium-M). Então você precisa descobrir com o que ela é compatível, a nível de instruções, para assim escolher o CD de instalação ou stages adequados. Consultar o site do fabricante normalmente funciona, embora fazer uma pesquisa na web normalmente é mais eficiente.

Caso não tenha certeza, pegue o CD/stage "menor", por exemplo i686 ou mesmo o x86 genérico (ou o equivalente da arquitetura do seu sistema). Isso vai assegurar que o sistema funcionará, mas não será tão rápido por não utilizar otimizações. 

Por favor note que existem muitas outras opções além dessas para o qual o Gentoo cria estágios binários. Veja por favor o [http://gcc.gnu.org/onlinedocs/gcc-4.7.3/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options guia GCC] para escolher a flag <code>-march</code>.

=== A Internet não funciona depois de reiniciar o sistema. O que está errado? ===

First verify that the network card is discovered properly by the kernel. Run {{c|ifconfig -a}} and look for network interfaces. Something such as eth0, eno1, enp2s0, enp0s8, wlan0 (in case of certain wireless network cards) should be present. Specific kernel modules may be required for the kernel to properly detect the network card. If that is the case, make sure that the required kernel modules are listed in the {{Path|/etc/conf.d/modules}} file.

Se o suporte para a placa de rede do sistema não foi incluido no kernel, será necessário reconfigurar e, em alguns casos, reconfigurar o kernel. 

If the network card ''is'' found by the kernel, but the network configuration has been set to use DHCP, a DHCP client might not have been installed on the system. There are many DHCP clients available in Gentoo, a common one being {{c|dhcpcd}}. If necessary to get the connection to the Internet working reboot to the installation CD and {{c|emerge -a dhcpcd}}.

Informação sobre como recuperar o sistema usando o CD de instalação está disponível [[#My kernel doesn't boot, what should I do now?|aqui]].

=== Ao tentar inicializar o Windows usando o GRUB ou LILO é mostrada apenas uma tela preta. O que devo fazer? ===

Esse é um problema conhecido. O Windows se nega a dar boot quando ele não é instalado no primeiro disco rígido e mostra uma tela em branco (ou preta). Para resolver isso é necessário "enganar" o Windows para ele acreditar que está instalado no primeiro disco rígido com um pequeno truque na configuração no gerenciador de boot. Por favor note no exemplo abaixo que o Gentoo está instalado no {{Path|/dev/sda}} (primeiro disco) e o Windows no {{Path|/dev/sdb}} (segundo disco). Ajuste a configuração conforme necessário.

{{FileBox|filename=/boot/grub/grub.conf|title=Exemplo de dual boot para Windows no grub.conf|1=
title Windows XP
     map (hd1) (hd0)
     map (hd0) (hd1)
     rootnoverify (hd1,0)
     chainloader +1
}}

{{Note/pt-br|O exemplo acima é para o gerenciador de boot [[GRUB|GRUB Legacy]], não o GRUB2. Para informação sobre como fazer dual boot do Windows com o GRUB2 veja o [[GRUB2|artigo do GRUB2]].}}

{{FileBox|filename=/etc/lilo.conf|title=Exemplo de dual boot para Windows no lilo.conf|1=
other=/dev/sdb1
     label=WindowsXP
     table=/dev/sdb
     map-drive = 0x80
     to = 0x81
     map-drive = 0x81
     to = 0x80
}}

This will make Windows believe it is installed on the first hard drive and boot without problems. More information can be found in official [http://www.gnu.org/software/grub/ GRUB documentation] and in {{c|man lilo.conf}}.

=== Como instalo o Gentoo usando o arquivo tar do stage1 ou stage2  ===

O Manual do Gentoo apenas descreve a instalação do Gentoo usando um arquivo tar do stage3. Porém, o Gentoo ainda provê arquivos tar do stage1 e stage2 para uso no desenvolvimento do Gentoo (a equipe de Engenharia de Lançamento parte do stage1 para obter o stage3) mas eles não devem ser usados por usuários: o stage3 pode perfeitamente ser utilizado para inicializar o sistema. Uma conexão de Internet funcionando é necessária. 

Bootstrapping significa compilar a cadeia de ferramentas (o compilador e biblioteca C) para o sistema após o que todos os pacotes principais do sistema são instalados. Para fazer o bootstrap do sistema, faça a instalação do stage3. Antes de iniciar o capítulo "Configurando o Kernel", pode ser necessário modificar o script {{Path|bootstrap.sh}} de acordo necessidades pessoais:

{{RootCmd|cd /usr/portage/scripts
|vi bootstrap.sh}}

Depois das modificações, execute o script.

{{RootCmd|./bootstrap.sh}}

Em seguida recompile todos os pacotes do núcleo principal com cadeia de ferramentas recém compilada. É necessário recompilá-los uma vez que o arquivo tar stage3 já os oferece. 

{{RootCmd|emerge -e system}}

Agora prossiga em "Configurando o kernel".

== Gerenciamento de pacotes ==

=== Em que formato os pacotes são armazenados? ===

Pacotes não são "armazenados". Em vez disso, o Gentoo provê um conjunto de scripts que pode resolver dependências, baixar o código fonte e compilar uma versão de um pacote específica para as necessidades do usuário. Geralmente o Gentoo apenas cria binários para lançamentos e snapshots. O [http://devmanual.gentoo.org/ebuild-writing/index.html Manual do Desenvolvedor Gentoo] aborda o conteúdo de um script ebuild em detalhes. 

For full ISO releases, a full suite of binary packages will be created using an enhanced {{Path|.tbz2}} format, which is {{Path|.tar.bz2}} compatible with meta-information attached to the end of the file. These can be used to install a working (though not fully optimized) version of the package quickly and efficiently.

É possível criar RPMs (arquivos do gerenciador de pacotes do Red Hat) usando o Portage do Gentoo, mas atualmente não é possível usar RPMs já existentes para instalar pacotes no Gentoo.

=== Eu quero fazer o passo ./configure eu mesmo. Posso? ===

Sim, mas não é trivial, nem recomendado. Uma vez que o método para fazer isso requer bom entendimento do funcionamento interno do Portage e comandos, é recomendado que o ebuild seja alterado para fazer o que o usuário quiser e o coloque em um overlay do Portage (pois é para isso que existe o overlay). Isso é ''muito'' melhor para a mantenabilidade e geralmente é mais facil. Veja o [http://devmanual.gentoo.org/ebuild-writing/index.html Manual do Desenvolvedor Gentoo] para mais informações.

=== E se o rsync não funcionar para mim? ===

When behind a firewall that does not permit rsync traffic through port 873, the {{c|emerge-webrsync}} command can be used to fetch and install a Portage snapshot through regular HTTP. See [[#My proxy requires authentication, what do I have to do?|this section]] for information on downloading source files and Portage snapshots via a proxy.

=== Eu tenho uma conexão lenta (ou nenhuma conexão) de Internet em casa. Posso baixar os fontes em outro lugar e copiá-los para meu computador? ===

Definitely. Run {{c|emerge --pretend package/atom}} to see what programs are going to be installed. To find out the sources for those packages and where to download the sources from, run {{c|emerge -fp package/atom}}. Download sources and bring them on any media home. Put the sources into the {{Path|/usr/portage/distfiles/}} folder and then simply run {{c|emerge package/atom}}. Be warned: this can be a ''very'' tedious process.

===  Arquivos tar de fontes estão acumulando em /usr/portage/distfiles/. É seguro apagar esses arquivos? ===

Apagar esses arquivos não trará impacto negativo no desempenho do seu sistema. Entretanto, pode ser interessante manter as versões mais recentes dos arquivos; frequentemente vários ebuilds são lançados para a mesma versão de algum software específico. Se o arquivo for apagado e depois for necessário atualizar ou reinstalar o software, será necessário baixá-los da Internet novamente. 

Use the {{c|[[eclean]]}} script from {{Package|app-portage/gentoolkit}} to manage the contents of {{Path|/usr/portage/distfiles/}} and a few other locations. Please read {{c|man eclean}} to learn more about its usage, as well as the [[Gentoolkit|Gentoolkit article]].

=== O que fica em /var/tmp/portage? É seguro apagar os arquivos e diretórios em /var/tmp/portage? ===

During compilation, Gentoo saves the sources of the package in {{Path|/var/tmp/portage}}. These files and folder are usually deleted upon a successful merge, but this sometimes fails. It is safe to clean out all contents of this directory ''if'' the {{c|emerge}} command is not running. Be sure to always {{c|pgrep emerge}} before cleaning out this directory.

== Uso ==

=== Como Configuro um Layout Internacional de Teclado? ===

Edit the <code>keymap</code> variable in {{Path|/etc/conf.d/keymaps}}. To have console working correctly with extended characters in the keymap, it might be necessary to set up the variables <code>consolefont</code> and <code>consoletransation</code> in the {{Path|/etc/conf.d/consolefont}} file (for further information on localizing the environment, refer to the [[Localization/Guide|localization guide]]). Then, issue a {{c|reboot}}, or restart the keymaps and consolefont scripts: 

{{RootCmd|/etc/init.d/keymaps restart
|/etc/init.d/consolefont restart}}

=== A resolução de nomes pelo DNS funciona apenas para o root ===

{{Path|/etc/resolv.conf}} has the wrong permissions; {{c|chmod}} it as follows: 

{{RootCmd|chmod 0644 /etc/resolv.conf}}

=== Por que meu usuário não pode ter o próprio crontab? ===

Adicione o usuário ao grupo cron:

{{RootCmd|gpasswd -a <username> cron}}

=== Como faço para que o numlock fique ligado após o boot? ===

O comando a seguir adicionará o serviço numlock ao nível de execução default, habilitando o numlock no boot:

{{RootCmd|rc-update add numlock default
|/etc/init.d/numlock start}}

Cada interface gráfica fornece diferentes ferramentas para esse tipo de coisa; por favor consulte a seção de ajuda ou manuais online da interface gráfica para assistência.

=== Como ter meu terminal limpo quando faço logout? ===

To have the terminal cleared, add the {{c|clear}} command to the user's {{Path|~/.bash_logout}} script: 

{{Cmd|echo clear >> ~/.bash_logout}}

Para que isso aconteça automaticamente para novos usuários adicionados, faça o mesmo com o arquivo {{Path|/etc/skel/.bash_logout}}: 

{{RootCmd|echo clear >> /etc/skel/.bash_logout}}

== Manutenção ==

=== ReiserFS e problemas de corrupção do sistema de arquivo -- como corrigir, etc ===

If the ReiserFS partition is corrupt, try booting the Gentoo Install CD and run {{c|reiserfsck --rebuild-tree}} on the corrupted filesystem. This should make the filesystem consistent again, although there may be some lost files or directories due to the corruption. 

== Desenvolvimento ==

=== Onde posso reportar bugs? ===

Use the [https://bugs.gentoo.org Bugzilla] site to report bugs. Visit {{IRC|gentoo}} on the Freenode IRC network and ask around if it is unclear whether an issue is really a bug or not.

=== Com que frequencia novas versões são lançadas? ===

Gentoo's packages are usually updated shortly after the upstream authors release new code. As for when Gentoo itself makes new stage/profile/ISO releases, check the [[Project:RelEng|Release Engineering Project]] page. New releases are announced on the [https://www.gentoo.org/get-involved/mailing-lists/ gentoo-announce] mailing list. See [[#Can I upgrade Gentoo from one release to another without reinstalling?|this section]] for more information.

=== Meu altofalante bipa como louco. Como desabilito os bips do console? ===

Console beeps can be turned off using {{c|setterm}}, like this: 

{{RootCmd|setterm -blength 0}}

Para desligar os bips de console no boot, coloque o seguinte comando no arquivo {{Path|/etc/conf.d/local.start}}. Entretanto, isso apenas desliga os bips no terminal atual. Para desabilitar os bips de outros terminais, direcione a saída do comando para o terminal alvo, assim: 

{{RootCmd|setterm -blength 0 > /dev/vc/1}}

Substitua {{Path|/dev/vc/1}} pelo terminal que o bip precisa ser desabilitado.

== Recursos ==

=== Onde posso encontrar mais informações sobre o Gentoo Linux? ===

Much of the official Gentoo documentation can be found here on the Wiki.

=== Posso comprar um CD do Gentoo Linux? ===

Usuários que não forem capazes de baixar e gravar o CD de instalação podem obtê-lo um em uma das nossas lojas licenciadas. Porém, a maioria das lojas abandonou a oferta de CDs e DVDs porque essas mídias de instalação rapidamente tornam-se obsoletas. 

As lojas licenciadas estão listadas na  [https://www.gentoo.org/inside-gentoo/stores/ página de lojas].

=== Esta FAQ não respondeu minha pergunta. Que faço agora? ===

A good first step is to browse through the relevant [https://www.gentoo.org/support/documentation/ documentation], failing that, the various Gentoo Linux mailing lists listed [https://www.gentoo.org/get-involved/mailing-lists/ here]. If all else fails, or to just hang out with Gentoo folks, visit us on the {{IRC|gentoo}} Freenode IRC channel.

[[Category:Core system]] {{Migrated|originalauthors=Daniel Robbins, Colin Morey, John P. Davis, Eric Stockbridge, Stoyan Zhekov, Carl Anderson, Jorge Paulo, Sven Vermeulen, Benny Chuang, Jonathan Smith, nightmorph}}
