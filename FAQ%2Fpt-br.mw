<languages />


{{Metadata|abstract=Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e dos canais do Gentoo no Internet Relay Chat (IRC) da rede Freenode.}}

Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e dos canais do Gentoo no Internet Relay Chat (IRC) da rede Freenode.

__TOC__

=== Introdução ===

Por favor note que muitas destas perguntas são respondidas na documentação e nos guias oficiais do Gentoo. Está é apenas uma lista das questões mais frequentes. Por favor leia a documentação do Gentoo e as páginas de manual (man pages) para obter um maior entendimento de como o Gentoo e o GNU/Linux funcionam, e para obter respostas para questões que possam não estar respondidas aqui. 

== Iniciando ==

=== Como se pronuncia Gentoo e o que significa? ===

''Gentoo'' é pronunciado "gen-tu" (o "g" de "Gentoo" é pronunciado como o "g" em "gentil" e "oo" como um longo "u"). É o nome de uma espécie de pinguim. O nome científico do  [https://en.wikipedia.org/wiki/Gentoo_penguin pinguim Gentoo ] é ''Pygoscelis papua''. Esse nome foi dado ao pinguim pelos habitantes das [https://en.wikipedia.org/wiki/Falkland_Islands Ilhas Falkland (Malvinas)].

=== O que faz do Gentoo diferente? ===

O Gentoo usa um sistema similar aos "portes" do BSD chamado [[Project:Portage|Portage]]. O Portage é um sistema de gerenciamento de pacotes de software que permite grande flexibilidade em instalar e manter o software de um sistema Gentoo. Ele provê suporte para opções em tempo de compilação (através das [[Handbook:AMD64/Working/USE|"USE flags"]]), dependências condicionais, sumarização pré-instalação de pacotes, instalação segura (através do uso de "caixas de areia" (sandboxing)) e desinstalação de software, perfis de sistema, [[Handbook:AMD64/Portage/Variables#Configuration_file_protection|proteção de arquivo de configuração]] entre muitos outros [[Handbook:AMD64/Working/Features|recursos]].

Com o Gentoo o sistema inteiro pode ser construído a partir do código-fonte, permitindo ao usuário escolher suas otimizações. O usuário tem controle completo sobre quais pacotes são ou não são instalados. O Gentoo o provê com um grande número de escolhas, de modo pode pode instalar o Gentoo de acordo com suas próprias preferências, o que faz o Gentoo ser chamado de "meta-distribuição". 

O Gentoo é ativamente desenvolvido. A distribuição toda usa um estilo rápido de desenvolvimento: correções (''patches'') de pacotes são rapidamente integradas na "árvore" principal, a documentação é atualizada com base diária, novos recursos do Portage são adicionados com frequencia, e lançamentos oficiais ocorrem duas vezes por ano.

== Instalação ==

=== Tudo está muito instável usando otimizações -O9 -ffast-math -fomit-frame-pointer. O que acontece? ===

Não se dê ao trabalho de usar otimizações acima de <code>-O3</code> uma vez que não são suportadas pelas versões atuais do GCC. Otimizações muito agressivas às vezes fazem com que o compilador "enxugue" o código assembly ao ponto de ele não fazer mais o mesmo. 

Por favor tente compilar com as CFLAGS <code>-O2 -march=<arquitetura></code> antes de reportar um bug. 

=== Como troco a senha do root (ou de outro usuário)? ===

Use o comando <code>passwd</code> para trocar a senha do usuário atual. O usuário root pode trocar a senha de qualquer outro usuário usando o comando  <code>passwd usuario</code>. Para outras opções e usos veja a página de manual do <tt>passwd</tt> (<code>man passwd</code>).

=== Como adiciono um usuário normal? ===

O comando <tt>useradd bob</tt> criará um usuário chamado "bob". Entretanto, esse método não dá ao usuário muitos dos direitos necessários para usar adequadamente o sistema, então, o comando a seguir é preferido:

{{RootCmd|useradd -m -G users,audio,wheel bob}}

Isso vai criar um usuário chamado "bob". A opção <code>-G</code> adiciona o usuário em vários grupos:
*<code>users</code> que é o grupo padrão para usuários interativos do sistema
*<code>audio</code> que permite ao usuário acessar dispositivos de som
*<code>wheel</code> que permite ao executar o comando <tt>su</tt> para ganhar privilégios de root (após fornecer a senha).

=== Por que um usuário não pode fazer <code>su</code> para root? ===

Por razões de segurança, os usuários podem apenas fazer <tt>su</tt> para root se eles pertencerem ao grupo ''wheel''. Para adicionar um usuário ao grupo wheel, execute o seguinte comando como root: 

{{RootCmd|gpasswd -a <nome_usuario> wheel}}

=== Posso atualizar o Gentoo de uma versão para outra sem reinstalar? ===

Na verdade, não há diferença entre as diversas versões depois delas estarem instaladas. O Gentoo versão 1.4 e as mais recentes são baseadas no <code>glibc-2.3.x</code> (ou maior). Dessa forma, executando <tt>emerge --sync && emerge -uDN @world</tt> irá atualizar o sistema inteiro com o "último Gentoo". As diferenças entre as versões individuais ficam nas midias de instalação e nos pacotes pré-compilados. Veja o [[Upgrading Gentoo|Guia de Atualização do Gentoo]] para maiores informações sobre perfis e seu papel na atualização. 

Note também que o comando <tt>emerge -uDN world</tt> atualiza os pacotes instalados bem como suas dependências, mas não as dependências de compilação (pacotes que são necessários durante a compilação mas não quando o software é instalado). Para atualizar esses também, adicione a opção <code>--with-bdeps=y</code> option.

=== Meu kernel não dá boot, que devo fazer? ===

Não é obrigatório refazer todos os passos da instalação. Entretanto, é necessário investigar o kernel e todos os passos relacionados a ele. Suponha que o Gentoo foi instalado em {{Path|/dev/sda1}} ({{Path|/boot}}) e {{Path|/dev/sda3}} ({{Path|/}}) com {{Path|/dev/sda2}} sendo área de swap.

Dê boot com o CD de instalação e espere até apareça o prompt de comando.

Primeiro monte todas as partições:

{{RootCmd|mount /dev/sda3 /mnt/gentoo
|mount /dev/sda1 /mnt/gentoo/boot
|swapon /dev/sda2
|mount -t proc none /mnt/gentoo/proc}}

Depois faça chroot no ambiente do Gentoo e configure o kernel:

{{RootCmd|chroot /mnt/gentoo /bin/bash
|env-update && source /etc/profile
|cd /usr/src/linux
|make menuconfig}}

Agora (de)selecione tudo que foi (de)selecionado erroneamente na tentativa anterior. Então salve sua configuração e compile o kernel:

{{RootCmd|make && make modules_install}}

Agora copie o arquivo bzImage, sobrescrevendo o arquivo anterior:

{{RootCmd|cp arch/i386/boot/bzImage /boot/<nome_do_kernel>}}

Se o LILO foi instalado como gerenciador de boot, reexecute <tt>lilo</tt> -- usuários do GRUB devem pular iste passo:

{{RootCmd|/sbin/lilo}}

Saia do chroot e reinicialize o sistema.

{{RootCmd|exit
|umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo
|reboot}}

Se, por outro lado, o problema for com o gerenciador de boot, siga os mesmos passos, mas em vez de configurar/compilar o kernel, reconfigure o gerenciador de boot (não é necessária recompilação).

=== Meu proxy requer autenticação, o que devo fazer? ===

Para o Portage usar automaticamente esse esquema, defina-o em {{Path|/etc/portage/make.conf}}: 

{{FileBox|filename=/etc/portage/make.conf|title=Configurando o proxy|1=
http_proxy="http://usuario:senha@servidor:porta"
ftp_proxy="ftp://usuario:senha@servidor:porta"
RSYNC_PROXY="rsync://usuario:senha@servidor:porta"
}}

=== Como gravo um arquivo ISO? ===

Arquivos ISO devem ser gravados em "modo bruto" (raw mode). Isso significa que o arquivo ISO não deve ser apenas gravado como um arquivo no CD, mas interpretado como um CD completo. 

Existem muitas ferramentas de gravação disponíveis; explicar todas elas seria um "trabalho de Sísifo". Entretanto, descrever umas poucas ferramentas mais populares não machuca: 

* Com o EasyCD Creator selecione {{Path|File}}, {{Path|Record CD from CD image}}. Então troque o {{Path|Files of type}} para {{Path|ISO image file}}. Depois localize o arquivo ISO e clique em {{Path|Open}}. Depois de clicar em  <code>Start recording</code> a imagem ISO será gravada corretamente no CD/DVD.

* Com o Nero Burning ROM, cancele o wizard (ajudante) que aparece automaticamente e selecione {{Path|Burn Image}} do menu {{Path|File}}. Selecione a imagem que você quer gravar e clique em {{Path|Open}}. Agora clique no botão {{Path|Burn}} e assista seu novíssimo CD do Gentoo Live sendo gravado.

* Com o <tt>cdrecord</tt>, digite apenas <tt>cdrecord dev=/dev/cdrom</tt> (troque {{Path|/dev/cdrom}} pelo nome do seu dispositivo CDROM), seguido do nome do seu arquivo ISO.

* Com o K3B, selecione {{Path|Tools}} → {{Path|CD}} → {{Path|Burn CD Image}}. Então selecione o arquivo ISO na área 'Image to Burn'. Clique {{Path|Start}} para iniciar o processo de gravação.

* Com o Mac OS X Panther, selecione <tt>Disk Utility</tt> do {{Path|Applications/Utilities}}, selecione {{Path|Open}} do menu {{Path|Images}}, selecione a imagem de disco montada na janela principal e selecione {{Path|Burn}} no menu {{Path|Images}}.

* Com o Mac OS X Jaguar, selecione o <tt>Disk Copy</tt> do {{Path|Applications/Utilities}}, selecione {{Path|Burn Image}} do menu {{Path|File}}, selecione o arquivo ISO e clique no botão {{Path|Burn}}.

=== Qual CD/stage devo usar para minha CPU? ===

Primeiro você precisa saber em que tipo de CPU o Gentoo será instalado (por exemplo, um Pentium-M). Então você precisa descobrir com o que ela é compatível, a nível de instruções, para assim escolher o CD de instalação ou stages adequados. Consultar o site do fabricante normalmente funciona, embora fazer uma pesquisa na web normalmente é mais eficiente.

Caso não tenha certeza, pegue o CD/stage "menor", por exemplo i686 ou mesmo o x86 genérico (ou o equivalente da arquitetura do seu sistema). Isso vai assegurar que o sistema funcionará, mas não será tão rápido por não utilizar otimizações. 

Por favor note que existem muitas outras opções além dessas para o qual o Gentoo cria estágios binários. Veja por favor o [http://gcc.gnu.org/onlinedocs/gcc-4.7.3/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options guia GCC] para escolher a flag <code>-march</code>.

=== A Internet não funciona depois de reiniciar o sistema. O que está errado? ===

Primeiro certifique-se que sua placa de rede foi detectada corretamente pelo kernel. Use <tt>ifconfig -a</tt> e procure pelas interfaces de rede. Algo como eth0, eno1, enp2s0, enp0s8 ou wlan0 (no caso de certos tipos de placas de rede sem fio) deve estar presente. Algum módulo específico do kernel pode ser necessário para que a placa seja detectada adequadamente. Se for esse o caso, certifique-se que os módulos necessários estejam listados no arquivo {{Path|/etc/conf.d/modules}}.

Se o suporte para a placa de rede do sistema não foi incluido no kernel, será necessário reconfigurar e, em alguns casos, reconfigurar o kernel. 

Se a placa de rede ''é'' detectada pelo kernel mas a configuração de rede foi feita para usar DHCP, um cliente DHCP pode não ter sido instalado no sistema. Existem vários clientes disponíveis no Gentoo, sendo um bastante comum o <tt>dhcpcd</tt>. Se for necessário para ter a conexão com a Internet funcionando, reinicie usando o CD de instalação e faça <tt>emerge -a dhcpcd</tt>.

Informação sobre como recuperar o sistema usando o CD de instalação está disponível [[#My kernel doesn't boot, what should I do now?|aqui]].

=== Ao tentar inicializar o Windows usando o GRUB ou LILO é mostrada apenas uma tela preta. O que devo fazer? ===

Esse é um problema conhecido. O Windows se nega a dar boot quando ele não é instalado no primeiro disco rígido e mostra uma tela em branco (ou preta). Para resolver isso é necessário "enganar" o Windows para ele acreditar que está instalado no primeiro disco rígido com um pequeno truque na configuração no gerenciador de boot. Por favor note no exemplo abaixo que o Gentoo está instalado no {{Path|/dev/sda}} (primeiro disco) e o Windows no {{Path|/dev/sdb}} (segundo disco). Ajuste a configuração conforme necessário.

{{FileBox|filename=/boot/grub/grub.conf|title=Exemplo de dual boot para Windows no grub.conf|1=
title Windows XP
     map (hd1) (hd0)
     map (hd0) (hd1)
     rootnoverify (hd1,0)
     chainloader +1
}}

{{Note|The above example is for [[GRUB|GRUB Legacy]] bootloader, not GRUB2. For information on how to dual boot Windows with GRUB2 see the [[GRUB2|GRUB2 article]].}}

{{FileBox|filename=/etc/lilo.conf|title=Exemplo de dual boot para Windows no lilo.conf|1=
other=/dev/sdb1
     label=WindowsXP
     table=/dev/sdb
     map-drive = 0x80
     to = 0x81
     map-drive = 0x81
     to = 0x80
}}

Isso fará o Windows acreditar que está instalado no primeiro disco rígido e dar boot sem problemas. Maiores informações podem ser encontradas na [http://www.gnu.org/software/grub/ documentação oficial do GRUB] e em <tt>man lilo.conf</tt>.

=== Como instalo o Gentoo usando o arquivo tar do stage1 ou stage2  ===

O Manual do Gentoo apenas descreve a instalação do Gentoo usando um arquivo tar do stage3. Porém, o Gentoo ainda provê arquivos tar do stage1 e stage2 para uso no desenvolvimento do Gentoo (a equipe de Engenharia de Lançamento parte do stage1 para obter o stage3) mas eles não devem ser usados por usuários: o stage3 pode perfeitamente ser utilizado para inicializar o sistema. Uma conexão de Internet funcionando é necessária. 

Bootstrapping significa compilar a cadeia de ferramentas (o compilador e biblioteca C) para o sistema após o que todos os pacotes principais do sistema são instalados. Para fazer o bootstrap do sistema, faça a instalação do stage3. Antes de iniciar o capítulo "Configurando o Kernel", pode ser necessário modificar o script {{Path|bootstrap.sh}} de acordo necessidades pessoais:

{{RootCmd|cd /usr/portage/scripts
|vi bootstrap.sh}}

Depois das modificações, execute o script.

{{RootCmd|./bootstrap.sh}}

Em seguida recompile todos os pacotes do núcleo principal com cadeia de ferramentas recém compilada. É necessário recompilá-los uma vez que o arquivo tar stage3 já os oferece. 

{{RootCmd|emerge -e system}}

Now continue with ''Configuring the Kernel''.

== Gerenciamento de pacotes ==

=== Em que formato os pacotes são armazenados? ===

Pacotes não são "armazenados". Em vez disso, o Gentoo provê um conjunto de scripts que pode resolver dependências, baixar o código fonte e compilar uma versão de um pacote específica para as necessidades do usuário. Geralmente o Gentoo apenas cria binários para lançamentos e snapshots. O [http://devmanual.gentoo.org/ebuild-writing/index.html Manual do Desenvolvedor Gentoo] aborda o conteúdo de um script ebuild em detalhes. 

Para lançamentos de ISOs completos, uma suite completa de pacotes binários será criada usando um formato <code>.tbz2</code> aprimorado, que é compatível com o {{Path|.tar.bz2}} e com metainformação anexada ao final do arquivo. Podem ser usados para instalar uma versão funcional (embora não totalmente otimizada) de um pacote de forma rápida e eficiente.

É possível criar RPMs (arquivos do gerenciador de pacotes do Red Hat) usando o Portage do Gentoo, mas atualmente não é possível usar RPMs já existentes para instalar pacotes no Gentoo.

=== Eu quero fazer o passo ./configure eu mesmo. Posso? ===

Sim, mas não é trivial, nem recomendado. Uma vez que o método para fazer isso requer bom entendimento do funcionamento interno do Portage e comandos, é recomendado que o ebuild seja alterado para fazer o que o usuário quiser e o coloque em um overlay do Portage (pois é para isso que existe o overlay). Isso é ''muito'' melhor para a mantenabilidade e geralmente é mais facil. Veja o [http://devmanual.gentoo.org/ebuild-writing/index.html Manual do Desenvolvedor Gentoo] para mais informações.

=== E se o rsync não funcionar para mim? ===

Quando estiver atrás de um firewall que não permite tráfego rsync pela porta 873, então você pode usar o comando <tt>emerge-webrsync</tt>, o que irá baixar e instalar um instantâneo através de HTTP regular. Veja [[#Meu proxy requer autenticação, o que devo fazer?|esta seção]] para informação sobre baixar código fonte e snapshots do Portage através de um proxy.

=== Eu tenho uma conexão lenta (ou nenhuma conexão) de Internet em casa. Posso baixar os fontes em outro lugar e copiá-los para meu computador? ===

Com certeza. Execute <tt>emerge --pretend package/atom</tt> para ver que programas serão instalados. Para saber quais são os fontes para esses pacotes e de onde baixar os fontes, execute <tt>emerge -fp package/atom</tt>. Baixe os fontes e leve-os em qualquer tipo de mídia para casa. Coloque os fontes no diretório {{Path|/usr/portage/distfiles/}} e então apenas execute <tt>emerge package/atom</tt>. Esteja avisado, porém, que esse pode ser é um processo ''muito'' tedioso.

===  Arquivos tar de fontes estão acumulando em /usr/portage/distfiles/. É seguro apagar esses arquivos? ===

Apagar esses arquivos não trará impacto negativo no desempenho do seu sistema. Entretanto, pode ser interessante manter as versões mais recentes dos arquivos; frequentemente vários ebuilds são lançados para a mesma versão de algum software específico. Se o arquivo for apagado e depois for necessário atualizar ou reinstalar o software, será necessário baixá-los da Internet novamente. 

Use o script <tt>eclean</tt> do pacote {{Package|app-portage/gentoolkit}} para gerenciar o conteúdo do diretório {{Path|/usr/portage/distfiles/}} e alguns outros diretórios. Por favor leia o <tt>man eclean</tt> para conhecer seu uso, bem como o [[Gentoolkit|artigo do Gentoolkit]].

=== O que fica em /var/tmp/portage? É seguro apagar os arquivos e diretórios em /var/tmp/portage? ===

Durante a compilação, o Gentoo salva os fontes do pacote em {{Path|/var/tmp/portage}}. Esses arquivos e diretórios são normalmente apagados após a instalação, mas isso as vezes falha. É seguro limpar o conteúdo desse diretório ''se'' o comando <tt>emerge</tt> não estiver em execução. Sempre use <tt>pgrep emerge</tt> antes de limpar esse diretório.

== Uso ==

=== Como Configuro um Layout Internacional de Teclado? ===

Edite a variável <code>keymap</code> em {{Path|/etc/conf.d/keymaps}}. Para o console funcionar corretamente com caracteres estendidos do mapa de caracteres pode ser necessário ajustar as variáveis <code>consolefont</code> e <code>consoletransation</code> no arquivo {{Path|/etc/conf.d/consolefont}} (para maiores informações sobre como configurar a localização do seu ambiente, consulte o [[Localization/HOWTO|guia sobre localização]]). Depois ou reboote ou restarte os scripts de mapa de caracteres e fontes de console: 

{{RootCmd|/etc/init.d/keymaps restart
|/etc/init.d/consolefont restart}}

=== A resolução de nomes pelo DNS funciona apenas para o root ===

O arquivo {{Path|/etc/resolv.conf}} está com as permissões errradas; use o <tt>chmod</tt> como a seguir: 

{{RootCmd|chmod 0644 /etc/resolv.conf}}

=== Por que meu usuário não pode ter o próprio crontab? ===

Adicione o usuário ao grupo cron:

{{RootCmd|gpasswd -a <username> cron}}

=== Como faço para que o numlock fique ligado após o boot? ===

O comando a seguir adicionará o serviço numlock ao nível de execução default, habilitando o numlock no boot:

{{RootCmd|rc-update add numlock default
|/etc/init.d/numlock start}}

Cada interface gráfica fornece diferentes ferramentas para esse tipo de coisa; por favor consulte a seção de ajuda ou manuais online da interface gráfica para assistência.

=== Como ter meu terminal limpo quando faço logout? ===

Para ter o terminal limpo, adicione o comando <tt>clear</tt> no script {{Path|~/.bash_logout}} do usuário: 

{{Cmd|echo clear >> ~/.bash_logout}}

To have this happen automatically when adding a new user, do the same for the {{Path|/etc/skel/.bash_logout}} file: 

{{RootCmd|echo clear >> /etc/skel/.bash_logout}}

== Manutenção ==

=== ReiserFS and filesystem corruption issues - how to fix them, etc ===

If the ReiserFS partition is corrupt, try booting the Gentoo Install CD and run <tt>reiserfsck --rebuild-tree</tt> on the corrupted filesystem. This should make the filesystem consistent again, although there may be some lost files or directories due to the corruption. 

== Desenvolvimento ==

=== Onde posso reportar bugs? ===

Use the [https://bugs.gentoo.org Bugzilla] site to report bugs. Visit #gentoo on the Freenode IRC network and ask around if it is unclear whether an issue is really a bug or not.

=== Com que frequencia novas versões são lançadas? ===

Gentoo's packages are usually updated shortly after the upstream authors release new code. As for when Gentoo itself makes new stage/profile/ISO releases, check the [http://www.gentoo.org/proj/en/releng Release Engineering Project] page. New releases are announced on the [http://www.gentoo.org/main/en/lists.xml gentoo-announce] mailing list. See [[#Can I upgrade Gentoo from one release to another without reinstalling?|this section]] for more information.

=== Meu altofalante bipa como louco. Como desabilito os bips do console? ===

Bips do console podem ser desligados usando setterm, assim: 

{{RootCmd|setterm -blength 0}}

To turn off the console beeps on boot, put the following command in the {{Path|/etc/conf.d/local.start}} file. However, this only disables beeps for the current terminal. To disable beeps for other terminals, pipe the command output to the target terminal, like this: 

{{RootCmd|setterm -blength 0 > /dev/vc/1}}

Replace {{Path|/dev/vc/1}} with the terminal for which console beeps need to be disabled.

== Recursos ==

=== Onde posso encontrar mais informações sobre o Gentoo Linux? ===

Much of the official Gentoo documentation can be found here on the Wiki. Some older documenation is still available at [http://wwwold.gentoo.org/doc/en/ http://wwwold.gentoo.org/doc/en/].

=== Posso comprar um CD do Gentoo Linux? ===

Users who are not able to download and burn installation CDs personally might find one through one of our licensed stores. However, most stores have dropped offering CDs and DVDs as these installation media quickly become obsolete. 

The licensed stores are listed on the [http://wwwold.gentoo.org/main/en/where.xml Get Gentoo!] page.

=== This FAQ has not answered my question. What do I do now? ===

A good first step is to browse through the relevant [http://www.gentoo.org/doc/en/index.xml documentation], failing that, the various Gentoo Linux mailing lists listed on [https://www.google.com/ Google]. To search through the Gentoo mailing lists, enter "site:lists.gentoo.org foo" to search for "foo". If all else fails, or to just hang out with Gentoo folks, visit us on the #gentoo Freenode IRC channel.

[[Category:Core]] {{Migrated|originalauthors=Daniel Robbins, Colin Morey, John P. Davis, Eric Stockbridge, Stoyan Zhekov, Carl Anderson, Jorge Paulo, Sven Vermeulen, Benny Chuang, Jonathan Smith, nightmorph}}
