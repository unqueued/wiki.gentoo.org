<languages />


{{Metadata|abstract=Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e IRC.}}

Esta FAQ é uma coleção de perguntas e respostas coletadas da lista de discussão gentoo-dev e IRC.

=== Introdução ===

Por favor note que muitas destas perguntas são respondidas na documentação e nos guias oficiais do Gentoo. Está é apenas uma lista das questões mais frequentes. Por favor leia a documentação e/ou as páginas de manual (man pages) para obter um maior entendimento de como o Gentoo e o GNU/Linux funcionam, e para obter respostas para questões que possam não estar respondidas aqui. 

== Iniciando ==

=== Como se pronuncia Gentoo e o que significa? ===

''Gentoo'' é pronunciado "gen-tu" (o "g" de "Gentoo" é pronunciado como o "g" em "gentil" e "oo" como um longo "u"). É o nome de uma espécie de pinguim. O nome científico do  [https://en.wikipedia.org/wiki/Gentoo_penguin pinguim Gentoo ] é ''Pygoscelis papua''. Esse nome foi dado ao pinguim pelos habitantes das [https://en.wikipedia.org/wiki/Falkland_Islands Ilhas Falkland (Malvinas)].

=== O que faz do Gentoo diferente? ===

O Gentoo usa um sistema similar aos "portes" do BSD chamado [[Project:Portage|Portage]]. O Portage é um sistema de gerenciamento de pacotes de software que permite grande flexibilidade em instalar e manter o software de um sistema Gentoo. Ele provê suporte para opções em tempo de compilação (através das [[Handbook:X86/Working/USE|"USE flags"]]), dependências condicionais, sumarização pré-instalação de pacotes, instalação segura (através do uso de "caixas de areia" (sandboxing)) e desinstalação de software, perfis de sistema, [[Handbook:X86/Portage/Variables#Configuration_file_protection|proteção de arquivo de configuração]] entre muitos outros [[Handbook:X86/Working/Features|recursos]].

Com o Gentoo você pode construir seu sistema inteiro a partir do código-fonte, escolhendo suas próprias otimizações. Você tem controle completo sobre quais pacotes são ou não são instalados. O Gentoo o provê com um grande número de escolhas, de modo que você pode pode instalar o Gentoo de acordo com suas próprias preferências, o que faz o Gentoo ser chamado de "meta-distribuição". 

O Gentoo é ativamente desenvolvido. A distribuição toda usa um estilo rápido de desenvolvimento: correções (''patches'') de pacotes são rapidamente integradas na "árvore" principal, a documentação é atualizada com base diaria, novos recursos do Portage são adicionados com frequencia, e lançamentos oficiais ocorrem duas vezes por ano.

== Instalação ==

=== Tudo está muito instável e eu estou usando otimizações -O9 -ffast-math -fomit-frame-pointer. O que acontece? ===

Não se dê ao trabalho de usar nada acima de <code>-O3</code> uma vez que não são suportadas pelas versões atuais do gcc. Otimizações muito agressivas as vezes fazem com que o compilador "enxugue" o código assembly ao ponto de ele não fazer mais o mesmo. 

Por favor tente compilar com as CFLAGS <code>-O2 -march=<sua_arquitetura></code> antes de reportar um bug. 

=== Como troco a senha do root (ou de outro usuário)? ===

Você pode usar <code>passwd</code> para trocar a senha do usuário com o qual você está logado. Como root, você pode trocar a senha de qualquer outro usuário usando o comando  <code>passwd usuario</code>. Para outras opções e usos, por favor use <code>man passwd</code>.

=== Como adiciono um usuário normal? ===

O comando <code>useradd nome_usuario</code> criará um usuário chamado "nome_usuario". Entretanto, esse método não dá ao usuário vários dos direitos que você pode querer dar a ele, então, o comando a seguir é preferido:

{{RootCmd|useradd -m -G users,audio,wheel nome_usuario}}

Isso vai criar um usuário chamado "nome_usuario". A opção <code>audio</code> adiciona o usuário ao grupo <code>audio</code> e assim o permite acessar dispositivos de som. A opção <code>wheel</code> adiciono o usuário ao grupo <code>wheel</code>, o que permite ao usuário executar o comando <code>su</code>. Isso, por sua vez, permite ao usuário ganhar privilegios de <code>root</code>.

=== Por que um usuário não pode fazer <code>su</code> para root? ===

Por razões de segurança, os usuários podem apenas fazer <code>su</code> para root se eles pertencerem ao grupo ''wheel''. Para adicionar um usuário ao grupo wheel, execute o seguinte comando como root: 

{{RootCmd|gpasswd -a nome_usuario wheel}}

=== Posso atualizar o Gentoo de uma versão para outra sem reinstalar? ===

Na verdade, não há diferença entre as diversas versões depois delas estarem instaladas. O Gentoo versão 1.4 e as mais recentes são baseadas no <code>glibc-2.3.x</code> (ou maior). Dessa forma, executando <code>emerge --sync && emerge -uDN @world</code> irá atualizar seu sistema inteiro com o "último Gentoo". As diferenças entre as versões individuais ficam nas midias de instalação e nos pacotes pré-compilados. Veja o [[Upgrading Gentoo|Guia de Atualização do Gentoo]] para maiores informações sobre perfis e seu papel na atualização. 

Note também que o comando <code>emerge -uDN world</code> atualiza os pacotes que você instalou bem como suas dependências, mas não as dependências de compilação (pacotes que são necessários durante a compilação mas não quando o software é instalado). Para atualizar esses também, adicione a opção <code>--with-bdeps=y</code> option.

=== Meu kernel não dá boot, que devo fazer? ===

Você não precisa refazer todos os passos da instalação, mas é necessário investigar o kernel e todos os passos relacionados a ele. Suponha que você instalou o Gentoo em {{Path|/dev/sda1}} (/boot) e {{Path|/dev/sda3}} (/) com {{Path|/dev/sda2}} sendo área de swap.

Dê boot com o CD de instalação e espere até que você receba o prompt.

Agora primeiro monte todas as partições:
{{RootCmd|mount /dev/sda3 /mnt/gentoo
|mount /dev/sda1 /mnt/gentoo/boot
|swapon /dev/sda2
|mount -t proc none /mnt/gentoo/proc}}

Depois fazemos chroot no nosso ambiente do Gentoo e configuramos o kernel:

{{RootCmd|chroot /mnt/gentoo /bin/bash
|env-update && source /etc/profile
|cd /usr/src/linux
|make menuconfig}}

Agora (de)selecione tudo que você (de)selecionou erradamente na sua tentativa anterior. Então salve sua configuração e compile seu kernel:

{{RootCmd|make && make modules_install}}

Agora copie seu arquivo bzImage, sobrescrevendo seu arquivo anterior:

{{RootCmd|cp arch/i386/boot/bzImage /boot/<nome_do_kernel>}}

Se você usa o LILO, reexecute o lilo -- usuários do GRUB devem pular isto:

{{RootCmd|/sbin/lilo}}

Agora saia do chroot e reinicialize.

{{RootCmd|exit
|umount /mnt/gentoo/proc /mnt/gentoo/boot /mnt/gentoo
|reboot}}

Se, por outro lado, o problema for com o gerenciador de boot, siga os mesmos passos, mas em vez de configurar/compilar o kernel, reconfigure o gerenciador de boot (não é necessária recompilação). 

=== Meu proxy requer autenticação, o que devo fazer? ===

Para o Portage usar automaticamente esse esquema, defina-o em {{Path|/etc/portage/make.conf}}: 

{{FileBox|filename=/etc/portage/make.conf|title=Configurando o proxy|1=
http_proxy="http://usuario:senha@servidor:porta"
ftp_proxy="ftp://usuario:senha@servidor:porta"
RSYNC_PROXY="rsync://usuario:senha@servidor:porta"
}}

=== Como gravo um arquivo ISO? ===

Você precisa gravar o arquivo em "modo bruto" (raw mode). Isso significa não apenas gravar o arquivo ''no'' CD, mas interpretar o arquivo como um CD completo. 

Existem muitas ferramentas de gravação disponíveis; explicar todas elas seria um "trabalho de Sísifo". Entretanto, descrever umas poucas ferramentas mais populares não machuca: 

* Com o EasyCD Creator você deve selecionar <code>File</code>, <code>Record CD from CD image</code>. Então você troca o <code>Files of type</code> para <code>ISO image file</code>. Depois localiza o arquivo ISO e clica em <code>Open</code>. Quando clicar em  <code>Start recording</code> a imagem ISO será gravada corretamente no the CD-R.

* Com o Nero Burning ROM, cancele o wizard (ajudante) que aparece automaticamente e selecione <code>Burn Image</code> do menu <code>File</code>. Selecione a imagem que você quer gravar e clique em <code>Open</code>. Agora clique no botão <code>Burn</code> e assista seu novíssimo CD sendo gravado.

* Com o cdrecord, você apenas digita <code>cdrecord dev=/dev/sdc </code> (troque {{Path|/dev/sdc}} pelo nome do seu dispositivo cd CD-RW), seguido do nome do seu arquivo ISO.

* Com o K3B, selecione <code>Tools</code> > <code>CD</code> > <code>Burn CD Image</code>. Então selecione seu arquivo ISO na área 'Image to Burn'. Finalmente clique em <code>Start</code>.

* Com o Mac OS X Panther, dispare <code>Disk Utility</code> do {{Path|Applications/Utilities}}, selecione <code>Open</code> do menu <code>Images</code>, selecione a imagem de disco montada na janela principal e selecione <code>Burn</code> no menu <code>Images</code>.

* Com o Mac OS X Jaguar, dispare o <code>Disk Copy</code> de {{Path|Applications/Utilities}}, selecione <code>Burn Image</code> do menu <code>File</code>, selecione o arquivo ISO e clique no botão <code>Burn</code>.

=== Qual CD/stage devo usar para minha CPU? ===

Primeiro você precisa saber que tipo de CPU você tem. Suponha que seja um Pentium-M. Então você precisa descobrir com o que ela é compatível, a nível de instruções. Você pode precisar consultar o site do fabricante para isso, embora fazendo uma pesquisa na web já deve ser suficiente.

Se você não tenha certeza, pegue o CD/stage "menor", por exemplo i686 ou mesmo o x86 generico (ou o equivalente da sua arquitetura). Isso vai assegurar que o seu sistema funcionará, mas não será tão rápido por não utilizar otimizações. 

Por favor note que existem muitas outras opções além dessas para o qual o Gentoo cria estágios binários. Veja por favor o [http://gcc.gnu.org/onlinedocs/gcc-4.7.3/gcc/i386-and-x86_002d64-Options.html#i386-and-x86_002d64-Options guia GCC] para escolher a <code>-march</code>.

=== Não consigo me conectar à Internet depois de reiniciar. O que está errado? ===

Primeiramente você precisa se certificar que sua placa de rede foi detectada pelo kernel. Use <code>ifconfig -a</code> e procure por eth0 ou wlan0 (no caso de certos tipos de placas de rede sem fio). Você pode precisar carregar algum módulo específico do kernel para que a placa seja detectada adequadamente. Se for esse o caso, certifique-se que esses módulos sejam listados em {{Path|/etc/conf.d/modules}}. 

Se você esqueceu de incluir suporte para seu tipo de placa de rede no kernel, será necessário reconfigurar o kernel. 

Se sua placa de rede é detectada pelo kernel e você selecinou configurar sua rede por DHCP, você pode ter esquecido de fazer <code>emerge dhcpcd</code>. Você precisará rebootar com seu CD de instalação para instalar o <code>dhcpcd</code>. 

Informação sobre como recuperar seu sistema usando o CD de instalação está disponível [[#My kernel doesn't boot, what should I do now?|aqui]].

=== Eu quero dar boot no Windows usando o GRUB ou LILO mas é mostrada apenas uma tela preta. O que devo fazer? ===

Esse é um problema conhecido. O Windows se nega a dar boot quando ele não é instalado no primeiro disco rígido e mostra uma tela em branco (ou preta). Para resolver isso, você precisa "enganar" o Windows para ele acreditar que está instalado no primeiro disco rígido com um pequeno truque na configuração do seu gerenciador de boot. Por favor note no exemplo abaixo que o Gentoo está instalado no {{Path|sda}} (primeiro disco) e o Windows no {{Path|sdb}} (segundo). Ajuste sua configuração conforme necessário. 

{{FileBox|filename=/boot/grub/grub.conf|title=Exemplo de dual boot para Windows no grub.conf|1=
title Windows XP
     map (hd1) (hd0)
     map (hd0) (hd1)
     rootnoverify (hd1,0)
     chainloader +1
}}

{{FileBox|filename=/etc/lilo.conf|title=Exemplo de dual boot para Windows no lilo.conf|1=
other=/dev/sdb1
     label=WindowsXP
     table=/dev/sdb
     map-drive = 0x80
     to = 0x81
     map-drive = 0x81
     to = 0x80
}}

Isso fará o Windows acreditar que está instalado no primeiro disco rígido e dar boot sem problemas. Maiores informações podem ser encontradas na [http://www.gnu.org/software/grub/ documentação do GRUB] e em <code>man lilo.conf</code>, dependendo do gerenciador de boot que você estiver usando.

=== Como Instalo o Gentoo Usando o Arquivo tar do Stage1 ou Stage2  ===

O Manual do Gentoo apenas descreve a instalação do Gentoo usando um arquivo tar do stage3. Porém, o Gentoo ainda provê arquivos tar do stage1 e stage2 para uso no desenvolvimento do Gentoo (a equipe de Engenharia de Lançamento parte do stage1 para obter o stage3) mas eles não devem ser usados por usuários: o stage3 pode perfeitamente ser utilizado para inicializar o sistema. Será necessário uma conexão Internet funcionando. 

Bootstrapping significa compilar a cadeia de ferramentas (o compilador e biblioteca C) para seu sistema após o que você instala todos os pacotes principais do sistema. Para fazer o bootstrap do sistema, faça a instalação do stage3. Antes de você iniciar o capítulo "Configurando o Kernel", modifique o script {{Path|bootstrap.sh}} de acordo com suas necessidades:

{{RootCmd|cd /usr/portage/scripts
|vi bootstrap.sh}}

Depois das modificações, execute o script.

{{RootCmd|./bootstrap.sh}}

Em seguida recompile todos os pacotes do núcleo principal com cadeia de ferramentas recém compilada. É necessário recompilá-los uma vez que o arquivo tar stage3 já os oferece. 

{{RootCmd|emerge -e system}}

Agora você pode continuar com "Configurando o kernel".

== Gerenciamento de Pacotes ==

=== Em que formato os pacotes são armazenados? ===

Pacotes não são "armazenados". Em vez disso, o Gentoo provê um conjunto de scripts que pode resolver dependências, baixar o código fonte e compilar uma versão de um pacote específica para suas necessidades. Geralmente apenas criamos binários para lançamentos e snapshots. O [http://www.gentoo.org/proj/en/devrel/handbook/handbook.xml?part=2&chap=1 Gentoo Ebuild HOWTO] aborda o conteúdo de um script ebuild em detalhes. 

Para lançamentos de ISOs completos, nós criamos uma suite completa de pacotes binários em um formato <code>.tbz2</code> aprimorado, que é compatível com o <code>.tar.bz2</code> e com metainformação anexada ao final do arquivo. Podem ser usados para instalar uma versão funcional (embora não totalmente otimizada) de um pacote de forma rápida e eficiente. 

É possível criar RPMs (arquivos do gerenciador de pacotes do Red Hat) usando o Portage do Gentoo, mas atualmente não é possível usar RPMs já existentes para instalar pacotes no Gentoo.

=== Eu quero fazer o passo ./configure eu mesmo. Posso? ===

Sim, mas não é trivial, nem recomendado. Uma vez que o método para fazer isso requer bom entendimento do funcionamento interno do Portage e comandos, é recomendado que você altere o ebuild para fazer o que você quiser e o coloque em um overlay do Portage (pois é para isso que existe o overlay). Isso é "muito" melhor para a mantenabilidade e geralmente é mais facil. Veja o [http://www.gentoo.org/proj/en/devrel/handbook/handbook.xml?part=2&chap=1 Ebuild HOWTO] para mais informações.

=== E se o rsync não funcionar para mim? ===

Se você estiver atrás de um firewall que não permite tráfego rsync, então você pode usar <code>emerge-webrsync</code>, o que irá baixar e instalar um instantâneo através de HTTP regular. Veja [[#Meu proxy requer autenticação, o que devo fazer?|esta seção]]

=== Eu tenho apenas uma conexão lenta via modem em casa. Posso baixar os fontes em outro lugar e copiá-los para meu computador? ===

Com certeza. Você pode executar <code>emerge --pretend package</code> para ver que programas serão instalados. Para saber quais são os fontes para esses pacotes e de onde baixar os fontes, você pode executar <code>emerge -fp package</code>. Baixe os fontes e leve-os em qualquer tipo de mídia para casa. Coloque os fontes em {{Path|/usr/portage/distfiles/}} e então apenas execute <code>emerge package</code>. Esteja avisado, porém, que esse é um processo tedioso.

===  Arquivos tar de fontes estão acumulando em /usr/portage/distfiles/. É seguro apagar esses arquivos? ===

Apagar esses arquivos não trará impacto negativo no desempenho do seu sistema. Entretanto, pode ser interessante manter as versões mais recentes dos arquivos; frequentemente vários ebuilds são lançados para a mesma versão de algum software específico. Se você apagou o arquivo e depois atualiza o software, será necessário baixá-los da Internet novamente. 

Você pode usar o script <code>eclean</code> do pacote {{Package|app-portage/gentoolkit}} para gerenciar o conteúdo do diretório {{Path|/usr/portage/distfiles/}} e alguns outros diretórios. Por favor leia o <code>man eclean</code> para conhecer seu uso, bem como o [[Gentoolkit|Guia Gentoolkit]].

=== O que fica em /var/tmp/portage? É seguro apagar os arquivos e diretórios em /var/tmp/portage? ===

During compilation, Gentoo saves the sources of the package in {{Path|/var/tmp/portage}}. These files and folder are usually deleted upon a successful merge, but this sometimes fails. It is safe to clean out all contents of this directory ''if'' emerge is not running. Just to be sure, always <code>pgrep emerge</code> before cleaning out this directory.

== Uso ==

=== Como Configuro um Layout Internacional de Teclado? ===

Edit the <code>keymap</code> variable in {{Path|/etc/conf.d/keymaps}}. To have console working correctly with extended characters in your keymap you might also need to set up variables <code>consolefont</code> and <code>consoletransation</code> in your {{Path|/etc/conf.d/consolefont}} (for further information on localising your environment, refer to our [[Localization/HOWTO|localization guide]]). Then, either <code>reboot</code>, or restart the keymaps and consolefont scripts: 

{{RootCmd|/etc/init.d/keymaps restart
|/etc/init.d/consolefont restart}}

=== A resolução de nomes pelo DNS funciona apenas para o root ===

{O arquivo {Path|/etc/resolv.conf}} está com as permissões errradas; use o <code>chmod</code> como a seguir: 

{{RootCmd|chmod 0644 /etc/resolv.conf}}

=== Por que meu usuário não pode ter o próprio crontab? ===

Você precisa adicionar o usuário ao grupo <code>cron</code>.

=== Como faço para que o numlock fique ligado após o boot? ===

Se você usar a linha de comando, precisa apenas executar <code>rc-update add numlock default && /etc/init.d/numlock start</code>. 

Cada interface gráfica fornece diferentes ferramentas para esse tipo de coisa; por favor consulte a seção de ajuda ou manuais online para assistência.

=== Como ter meu terminal limpo quando faço logout? ===

Para ter seu terminal limpo, adicione <code>clear</code> em seu script {{Path|~/.bash_logout}}: 

{{Cmd|echo clear >> ~/.bash_logout}}

Se quiser que isso aconteça automaticamente para novos usuários criados, faça o mesmo com o arquivo {{Path|/etc/skel/.bash_logout}}: 

{{RootCmd|echo clear >> /etc/skel/.bash_logout}}

== Manutenção ==

=== ReiserFS e problemas de corrupção do sistema de arquivo -- como corrigir, etc ===

Se sua partição ReiserFS estiver corrompida, tente dar boot com o CD de instalação do Gentoo e então executar <code>reiserfsck --rebuild-tree</code> no sistema de arquivo corrompido. Isso deve deixar o sistema de arquivo consistente novamente, embora haja o risco de perder alguns arquivos ou diretórios por causa do corrompimento. 

== Desenvolvimento ==

=== Onde posso reportar bugs? ===

Use nosso [https://bugs.gentoo.org Bugzilla]. Se você estiver em dúvida se seu problema é realmente um bug, você pode visitar o canal #gentoo no servidor IRC Freenode.

=== Com que frequencia novas versões são lançadas? ===

Os pacotes do Gentoo são atualizados logo depois que os autores principais lançam novos programas. Para saber quando o Gentoo em si cria novos lançamentos de stages/perfis/ISO, cheque nossa página do [http://www.gentoo.org/proj/en/releng Projeto de Engenharia de Lançamentos]. Novos lançamentos são anunciados na lista de discussão [http://www.gentoo.org/main/en/lists.xml gentoo-announce]. Veja [[#Posso_atualizar_o_Gentoo_de_uma_versão_para_outra_sem_reinstalar?|esta seção]] para mais informações.

=== Meu altofalante bipa como louco. Como desabilito os bips do console? ===

Bips do console podem ser desligados usando setterm, assim: 

{{RootCmd|setterm -blength 0}}

Se você gostaria de desligar os bips de console no boot, você pode colocar este comando em {{Path|/etc/conf.d/local.start}}. Entretanto, isso apenas desliga os bips no terminal atual. Para desabilitar os bips de outros terminais, direcione a saída do comando para o terminal alvo, assim: 

{{RootCmd|setterm -blength 0 > /dev/vc/1}}

Você precisa substituir {{Path|/dev/vc/1}} com o terminal que você gostaria de desabilitar o bip.

== Recursos ==

=== Onde posso encontrar mais informações sobre o Gentoo Linux? ===

A documentação oficial do Gentoo pode se encontrada em [http://www.gentoo.org/doc/en/ http://www.gentoo.org/doc/en/].

=== Posso comprar um CD do Gentoo Linux? ===

Se você não for capaz de baixar e gravar o CD de instalação você mesmo, você pode obter um em uma das nossas lojas licenciadas. Porém, a maioria das lojas abandonou a oferta de CDs e DVDs porque essas mídias de instalação rapidamente tornam-se obsoletas. 

Você pode encontrar as lojas licenciadas em nossa página [http://www.gentoo.org/main/en/where.xml Pegue o Gentoo!].

=== Esta FAQ não respondeu minha pergunta. Que faço agora? ===

Um bom primeiro passo é navegar pela [http://www.gentoo.org/doc/en/index.xml documentação] relevante. Se isso falhar, há várias listas de discussão listadas no [https://www.google.com/ Google]. Para pesquisar nas listas de discussão do Gentoo, apenas digite "site:lists.gentoo.org foo" para pesquisar pelo termo "foo". Se nada disso funcionar, ou se apenas quiser bater um papo com a turma do Gentoo, visite-nos no canal #gentoo do Freenode.

[[Category:Core]] {{Migrated|originalauthors=Daniel Robbins, Colin Morey, John P. Davis, Eric Stockbridge, Stoyan Zhekov, Carl Anderson, Jorge Paulo, Sven Vermeulen, Benny Chuang, Jonathan Smith, nightmorph}}
