{{InfoBox stack
|{{InfoBox homepage|http://www.amd.com/en/ryzen|header=true}}
|{{InfoBox wikipedia|Ryzen}}
}}

Ryzen is [[Article description::a multithreaded, high performance processor released by AMD in Q1, 2017. It is the first CPU released based on the [[wikipedia:Zen_(microarchitecture)|Zen microarchitecture]].]] Its goal is to directly compete with Intel's Broadwell-E processor line, primarily the Core i7-6900K.

== Hardware ==

=== Ryzen 7 ===

{| class="table table-condensed table-striped" style="width: auto;"
! scope="col" width="15%" | Device
! scope="col" width="15%" | Make/model
! scope="col" width="10%" | Status
! scope="col" width="10%" | Bus ID
! scope="col" width="10%" | Kernel driver(s)
! scope="col" width="5%" | Kernel version
! scope="col" width="5%" | Latest microcode
! scope="col" width="30%" | Notes
|-
| AMD Ryzen 7 1800X
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| 4.4.10+
| ?
| ?
|-
| AMD Ryzen 7 1700X
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| 4.4.10+
| ?
| ?
|-
| AMD Ryzen 7 1700
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| 4.4.10+
| <code>0x800111c</code>
| ?
|-
|}

=== Ryzen 5 ===

{| class="table table-condensed table-striped" style="width: auto;"
! scope="col" width="15%" | Device
! scope="col" width="15%" | Make/model
! scope="col" width="10%" | Status
! scope="col" width="10%" | Bus ID
! scope="col" width="10%" | Kernel driver(s)
! scope="col" width="10%" | Kernel version
! scope="col" width="5%" | Latest microcode
! scope="col" width="30%" | Notes
|-
| AMD Ryzen 5 1600X
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| ?
| ?
| ?
|-
| AMD Ryzen 5 1600
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| 4.4.10+
| <code>0x0800111c</code>
| ?
|-
| AMD Ryzen 5 1500X
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| ?
| ?
| ?
|-
| AMD Ryzen 5 1400
| AMD
| {{Yes|Works}}
| <code>N/A</code>
| N/A
| ?
| ?
| ?
|-
|}

== Installation ==

=== Firmware ===

Microcode/firmware updates to be determined...

=== Kernel ===

Enable support for Ryzen hardware in kernel 4.11.0:

{{KernelBox|title=Kernel 4.11.0|1=
Processor type and features  --->
  [*] Symmetric multi-processing support
  [*] AMD ACPI2Platform devices support
  Processor family (Opteron/Athlon64/Hammer/K8)  --->
    (X) Opteron/Athlon64/Hammer/K8
  [*] Supported processor vendors  --->
    [*]   Support AMD processors (NEW)
  [*] SMT (Hyperthreading) scheduler support
  [*] Multi-core scheduler support
  [*] Machine Check / overheating reporting
  [*]   AMD MCE features
  Performance monitoring  --->
    <*> AMD Processor Power Reporting Mechanism
  [*]   AMD microcode loading support
Power management and ACPI options  --->
  CPU Frequency scaling  --->
    <*>   AMD Opteron/Athlon64 PowerNow!
    <*>   AMD frequency sensitivity feedback powersave bias
Device Drivers  --->
  [*] IOMMU Hardware Support  --->
    [*]   AMD IOMMU support
    <*>     AMD IOMMU Version 2 driver
}}

{{Tip|Alternatively, <code>Generic-x86-64</code> can be set in the Processor family for more generic CPU support. In theory this would make the kernel binaries portable in the event that it would be use on CPUs other than AMD Ryzen.}}

== Configuration ==

=== GCC ===

==== GCC 6.3+ ====

GCC 6.3+ has support for the <code>znver1</code> compiler optimization. For optimal performance, this can be enabled in {{Path|make.conf}}.

{{FileBox|filename=/etc/portage/make.conf|title=Zen compiler optimization|lang=bash|1=
CFLAGS="-O2 -march=znver1"
}}

GCC 6.3 is not presently optimized for Ryzen. <ref>[https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80313 GCC bug report]</ref>

==== GCC 5.4 ====

While GCC 5.4 does not support zen core specific optimization, <code>-march=bdver4</code> has been shown to be functional and stable:

{{FileBox|filename=/etc/portage/make.conf|title=Zen compiler optimization for GCC 5.4 and lower|lang=bash|1=
CFLAGS="-O2 -march=bdver4"
}}

{{Note|Previously <code>-march{{=}}haswell</code> was said to be functional with Zen<ref>https://gcc.gnu.org/bugzilla/show_bug.cgi?id=80313</ref>, but a Gentoo developer experienced various SEGVs with this option.}}

== Troubleshooting ==

== See also ==

* {{See also|Intel}}
* {{See also|Intel microcode}}

== External resources ==

* http://www.phoronix.com/scan.php?page=article&item=amd-ryzen-znver1&num=1 - Phoronix compiler optimization benchmarks for Ryzen 7.

== References ==

{{reflist}}



[[Category:CPUs]]
