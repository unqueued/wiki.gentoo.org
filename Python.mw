{{Stub}}
{{Metadata|abstract=Python is a cross-platform interpreted programming language. Python powers [[Portage]], [[eselect]], [[equery]], and many other tools in Gentoo.}}
{{InfoBox stack
|{{InfoBox homepage|https://www.python.org/|header=true}}
|{{InfoBox wikipedia|Python_(programming_language)}}
|{{InfoBox odoc|https://docs.python.org/}}
|{{InfoBox project|Python}}
|{{InfoBox package|dev-lang/python}}
|{{InfoBox github|python/cpython}}
|{{InfoBox gitweb|https://hg.python.org/cpython/|raw=true}}
}}

Python is [[Article description::a cross-platform interpreted programming language. Python powers [[Portage]], [[eselect]], [[equery]], and many other tools in Gentoo.]]

== Installation ==

Since Python is so integral to Gentoo there is little chance it is not installed. Doing so would be like removing the heart from Gentoo. There is occasion where Python must be recompiled in order to add new features or to upgrade.

=== USE flags ===

{{USEflag|package=dev-lang/python}}

=== Emerge ===

Python is slotted, which means there is more than one version Python that can be installed on a Gentoo system at the same time. Select the version to install by using an <code>:</code> (colon) and the package atom followed by one of the slot numbers:

For example, to install Python 3.4:

{{Emerge|dev-lang/python:3.4}}

== Configuration ==

=== Setting the active interpreter ===

The active Python interpreter can be set using the {{c|eselect python}} command. First list the available interpreters using {{c|list}}:

{{RootCmd|eselect python list}}

Select the desired interpreter using {{c|set}}. In this example the second option was chosen:

{{RootCmd|eselect python set 2}}


== Version upgrade ==

The old {{c|python-updater}} is no longer used.

Before starting ensure that the system is up to date:

{{Emerge|params+=--update --newuse --deep|@world}}

To make system packages be rebuilt using the new Python implementation update the <var>PYTHON_TARGETS</var> and <var>PYTHON_SINGLE_TARGET</var> variables in {{path|make.conf}}. For example, when updating from Python 3.4 to 3.5:

{{FileBox|filename=/etc/portage/make.conf|lang=bash|1=
PYTHON_TARGETS="python2_7 python3_5"
PYTHON_SINGLE_TARGET="python3_5"
}}

Then update the system again using the <code>--changed-use --deep</code> options:

{{Emerge|params+=--changed-use --deep|@world}}

You may be asked to update any remaining <code>python_targets_python3_4</code> USE flags as well.

Note that many popular packages such as Docker still require <var>PYTHON_SINGLE_TARGET</var> variable to be set to <code>python2_7</code> due to various dependencies such as {{package|app-text/asciidoc}} which do not support Python 3.x.

Once the upgrade has completed, old Python implementations can be removed from the system using:

{{Emerge|params+=--depclean|dev-lang/python}}

After depclean <code>eselect python list</code> will still show old Python versions if they were previously selected, to remove these entries run the following command:

{{RootCmd|eselect python cleanup}}

== Usage ==

=== Invocation ===

A specific version of the Python interpreter can be invoked from the command-line directly by running:

{{Cmd|python2.7}}

Or 

{{Cmd|python3.4}}

To execute a script with Python 2.x use the following header:
{{FileBox|filename=/usr/local/bin/repo|lang=python|1=
#!/usr/bin/env python2
...
}}

== See also ==

* {{See also|Bash}}
* {{See also|Pip}}

[[Category:Programming language]]
