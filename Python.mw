{{Stub}}
{{Metadata|abstract=Python is the programming language that runs Portage and many other tools in Gentoo. It is extremely powerful and useful for many scripting tasks.}}
{{InfoBox stack
|{{InfoBox homepage|https://www.python.org/|header=true}}
|{{InfoBox odoc|https://docs.python.org/}}
|{{InfoBox project|Python}}
|{{InfoBox package|dev-lang/python}}
|{{InfoBox wikipedia|Python_(programming_language)}}
|{{InfoBox github|python/cpython}}
|{{InfoBox gitweb|https://hg.python.org/cpython/|raw=true}}
}}

[https://en.wikipedia.org/wiki/Python_(programming_language) Python] is the language that powers [[Portage]], [[eselect]], [[equery]], and other tools in Gentoo.

__TOC__

== Installation ==

Since Python is so integral to Gentoo there is little chance it is not installed. Doing so would be like removing the heart from Gentoo. There is occasion where Python must be recompiled in order to add new features or to upgrade.

=== USE flags ===

{{USEflag|package=dev-lang/python}}

=== Emerge ===

Python is slotted, which means there is more than one version Python that can be installed on a Gentoo system at the same time. Select the version to install by using an <code>:</code> (colon) and the package atom followed by one of the slot numbers:

For example, to install Python 3.4:

{{Emerge|dev-lang/python:3.4}}

== Configuration ==

=== Setting the active interpreter ===

The active Python interpreter can be set using the {{c|eselect python}} command. First list the available interpreters using {{c|list}}:

{{RootCmd|eselect python list}}

Select the desired interpreter using {{c|set}}. In this example the second option was chosen:

{{RootCmd|eselect python set 2}}


== Version upgrade ==

The old <code>python-updater</code> is no longer used.

Before you start, ensure that your system is uptodate:
{{Emerge|--update --newuse --deep @world}}

Then, update Python if you hadn't done so already:
{{Emerge|--update dev-lang/python}}

In order to tell your system to use the new Python version, update the variables <code>PYTHON_TARGETS</code> and <code>PYTHON_SINGLE_TARGET</code>, for instance in your <code>make.conf</code> (when updating from 3.4 to 3.5):
:PYTHON_TARGETS="python2_7 python3_5"
:PYTHON_SINGLE_TARGET="python3_5"
and run
{{Emerge|--update --newuse --deep @world}}
again.  You may be asked to update any remaining <code>python_targets_python3_4</code> USE flags as well.

Note that many popular packages such as Docker still require <code>PYTHON_SINGLE_TARGET</code> to be set to <code>python2_7</code> due to various dependencies such as ''app-text/asciidoc'' which do not yet support Python 3.

Once your upgrade has completed, you should be able to remove the old Python version using
{{Emerge|--depclean dev-lang/python}}

== Usage ==

=== Invocation ===

A specific version of the Python interpreter can be invoked from the command-line directly by running:

{{Cmd|python2.7}}

Or 

{{Cmd|python3.4}}

To execute a script with Python 2.x use the following header:
{{FileBox|filename=/usr/local/bin/repo|lang=python|1=
#!/usr/bin/env python2
...
}}

== See also ==

* [[Bash]] - The original Linux scripting language.
* [[Pip]] - Python's built-in package management system.

[[Category:Programming language]]
