<languages />
{{Metadata|abstract=Наиболее используемое рабочее окружение - GNOME. Этот гайд пытается объяснить все его аспекты, включая установку, настройку, использование, и ещё много чего!}}
{{InfoBox stack
|{{InfoBox homepage|http://www.gnome.org/|header=true}}
|{{InfoBox wikipedia}}
}}

Наиболее используемое [[рабочее окружение]] - GNOME. Этот гайд пытается объяснить все его аспекты, включая установку, настройку, использование, и ещё много чего!

== Что же такое GNOME? ==

=== Проект ===

Проект открытого программного обеспечения [http://www.gnome.org GNOME проект] посвящён разработке комплекса программ рабочего стола и средств разработки GNOME. Разработку и прочие аспекты данного проекта координирует [http://foundation.gnome.org GNOME Foundation]. 

=== Программное обеспечение ===

GNOME это окружение рабочего стола и платформа разработки. Он представляет интерес как рядовому пользователю, так и разработчику. Его выбирают даже лидеры отрасли. 

=== Сообщество ===

Как и в случае с любым крупным проектом, у GNOME имеется обширная база пользователей и разработчиков. [http://planet.gnome.org GnomePlanet] достаточно популярный агрегатор для хакеров и контрибьютеров, а для разработчиков GNOME - [http://developer.gnome.org Developer.Gnome.Org]. Обширный список ресурсов для пользователей предоставляет [http://library.gnome.org/users/ GNOME Library]. Так же весьма популярным источником новостей, связанных с проектом является [http://worldofgnome.org/ World of GNOME].

== Предпосылки ==

Перед тем, как приступить к установочному процессу GNOME, для начала прочтите и исполните инструкции из [[Xorg/Guide|Xorg guide]] для установки X. X является стандартной основой для всех окружений рабочего стола в Linux.

== Installation == 

Before installing GNOME, editing the system's USE variables is a good idea. Make sure that <code>X</code>, <code>gtk</code>, and <code>gnome</code> are in the USE variable located in {{Path|/etc/portage/make.conf}}. If support for <code>dbus</code> add it to the USE flags ([[dbus]] is a system message bus GNOME uses extensively). If no KDE support is required, remove <code>qt4</code> and <code>kde</code> from USE. USE flags can be removed by adding a minus sign (<code>-</code>) in front of them. See the example below for the minus sign used properly.

{{FileBox|filename=/etc/portage/make.conf|title=Пример USE-флагов для окружения GNOME|lang=bash|1=
USE="-qt4 -kde X dbus gtk gnome"
}}

Добавив USE-флаг <code>branding</code>, можно лицезреть милую заставку Gentoo вместо стандартного экрана GNOME:

{{RootCmd|echo "gnome-base/gnome-session branding" >> /etc/portage/package.use}}

{{Note|Если вы используете профиль <code>desktop/gnome</code>, то все необходимые USE-флаги уже высталены за Вас. Убедиться можно запустив {{c|eselect profile list}}. Выбор производится командой {{c|eselect profile set <profile-name>}} от пользователя root. Убедитесь, что заменили "<profile-name>" на номер или имя нужного профиля.}}

Once finished, begin the GNOME installation by emerging GNOME: 

{{Emerge|gnome-base/gnome}}

For a ''minimal'' GNOME installation install the {{Package|gnome-base/gnome-light}} package. This option provides a lightweight GNOME installation without pulling in the full GNOME [[desktop environment]]. Most p might need to install additional packages afterwards.

{{Emerge|gnome-base/gnome-light}}

{{Note|Пакет {{Package|gnome-base/gnome-light}} не подтягивает за собой {{Package|gnome-extra/gnome-screensaver}}, необходимый для блокировки экрана. Следует учитывать, что без него экран, скорее всего, не заблокируется.}}

Это займёт некоторое время, так что располагайтесь поудобнее и почитайте одну из тех книг, которые вам подарила мама, но до которых у вас всё никак не дойдут руки. Готовы? Отлично, пора обновить переменные среды: 

{{RootCmd|env-update && source /etc/profile}}

Затем произойдёт очистка оставшихся сервисов и групп пользователей. 

{{RootCmd|/etc/init.d/dbus start
|rc-update add dbus default}}

Проверьте, есть ли в системе группа <code>plugdev</code>. Если она присутствует, то рекомендуется добавить в неё каждого пользователя окружения рабочего стола GNOME, но это опционально (данная группа встречается не часто). 

{{RootCmd|getent group plugdev|output=<pre>
plugdev:x:104:
</pre>}}

Замените <code><username></code> на имена пользователей GNOME:

{{RootCmd|gpasswd -a <username> plugdev}}

=== Первые впечатления ===

Пора посмотреть, что же мы собрали. Покиньте консоль пользователя root и зайдите от обычного пользователя. Далее следует настроить менеджер сессий, чтобы GNOME запускался по команде {{c|startx}} (для более подробной информации смотрите [[Xorg/Guide/ru#Использование startx|использование startx]] в руководстве Xorg).

{{Cmd|echo "exec gnome-session" > ~/.xinitrc}}

Начиная с версии gnome-base/gnome-session-2.26.2, пользователям следует использовать переменную <var>XDG_MENU_PREFIX</var>, чтобы меню GNOME работали при запуске через {{Path|~/.xinitrc}}. Если же {{Path|~/.xinitrc}} в запуске не участвует, то всё должно происходить автоматически. 

{{Cmd|sed -i '1i\export XDG_MENU_PREFIX{{=}}gnome-' ~/.xinitrc}}

Пришло время запустить графическую среду, выполнив {{c|startx}}: 

{{Cmd|startx}}

Если всё прошло как запланировано, то Вас должно встретить следующее сообщение: Congratulations on setting up GNOME!

По дальнейшей настройке следует обратиться к материалам, размещённым в разделе [[GNOME/Guide/ru#Смотрите также]].

== Удаление ==

=== Unmerge ===

Один из возможных способов полного удаления GNOME это явно удалить пакет {{Package|gnome-base/gnome}}, а затем очистить зависимости этого пакета.

Для того чтобы сделать это разумно, убедитесь что основное хранилище Portage было синхронизировано:

{{RootCmd|emerge --sync}}

Затем запустите обновление мира для того чтобы система была полностью актуальной:

{{Emerge|params+=--update --newuse --deep --with-bdeps=y|@world}}

Удаление GNOME пакетов:

{{Emerge|params+=--depclean|gnome-base/gnome}}

И в конце отчистим систему:

{{RootCmd|emerge --ask --depclean}}

GNOME should now be removed.

== Troubleshooting ==

=== Extended customization in GNOME 3 ===

For extra configuration options in GNOME 3 install the {{Package|gnome-extra/gnome-tweak-tool}} package. The tweak tool allows customization at a deeper level than the standard Settings frame.

=== Widgets in GNOME 3 ===

By default in Gentoo Gnome 3 does not widgets. For users who wish to obtain widget functionality a separate package is available:

{{Emerge|gnome-extra/gnome-shell-extensions}}

After the Shell Extensions are installed, {{c|eselect}} can be used to control defaults on a global level:

{{RootCmd|eselect gnome-shell-extensions list|output=<pre>
Available extensions (* means enabled for all users by default):
  [1]   alternate-tab@gnome-shell-extensions.gcampax.github.com
  [2]   apps-menu@gnome-shell-extensions.gcampax.github.com
  [3]   auto-move-windows@gnome-shell-extensions.gcampax.github.com
  [4]   drive-menu@gnome-shell-extensions.gcampax.github.com
  [5]   launch-new-instance@gnome-shell-extensions.gcampax.github.com
  [6]   native-window-placement@gnome-shell-extensions.gcampax.github.com
  [7]   places-menu@gnome-shell-extensions.gcampax.github.com
  [8]   screenshot-window-sizer@gnome-shell-extensions.gcampax.github.com
  [9]   user-theme@gnome-shell-extensions.gcampax.github.com
  [10]  window-list@gnome-shell-extensions.gcampax.github.com
  [11]  windowsNavigator@gnome-shell-extensions.gcampax.github.com
  [12]  workspace-indicator@gnome-shell-extensions.gcampax.github.com
</pre>}}

== Смотрите также ==

* The [[GNOME/gdm|GDM article]] describes how to setup the GNOME Display Manager to automatically boot into a graphical environment (rather than starting a GNOME session through {{c|startx}}).

== Ссылки ==

* http://worldofgnome.org/ - блог The World of GNOME.

* https://github.com/dantrell/gentoo-project-gnome-without-systemd - GNOME без Systemd


[[Category:GNOME]]

{{Migrated|originalauthors=Sven Vermeulen, Lars Strojny, nightmorph}}
