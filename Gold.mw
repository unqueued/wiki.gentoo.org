gold is a new linker intended as a replacement for the ''ld.bfd'' linker.

== Installing gold on Gentoo ==

In order to have gold installed, an ''EXTRA_ECONF'' override has to be set for {{Package|sys-devel/binutils}}.

{{File|/etc/portage/env/gold|Environment overrides to enable gold build|<pre>
EXTRA_ECONF="--enable-gold=yes"
</pre>}}

If you'd like gold to be default linker (''ld''), you can use instead:

{{File|/etc/portage/env/gold|Environment overrides to enable gold build|<pre>
EXTRA_ECONF="--enable-gold=default"
</pre>}}

After any of the above, enable it for the binutils package using [[:/etc/portage/env|package.env]]:

{{File|/etc/portage/package.env|Enabling ''gold'' override for binutils|<pre>
sys-devel/binutils gold
</pre>}}

== Switching the default linker ==

The two installed linkers are available directly as ''ld.bfd'' and ''ld.gold'' respectively. Additionally, the default compiler is also installed as ''ld'' -- and this binary is used by compilers.

The default compiler can be changed either by changing the build arguments as pointed out above and rebuilding binutils, or through replacing the ''ld'' executable. In order to do that, first locate the actual binutils install directory:

{{RootCmd|readlink -f /usr/bin/ld|output=/usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld.gold}}

Now replace ''ld'' in that directory by the symlink of choice:

{{RootCmd|ln -s -f ld.gold /usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld}}

Note that for the first argument, path relative to the final directory should be used -- so it should either state ''ld.gold'' or ''ld.bfd''.
