'''gold''' is a new linker intended as a replacement for the {{c|ld.bfd}} linker.

The two installed linkers are available directly as {{c|ld.bfd}} and {{c|ld.gold}} respectively. Additionally, the default linker is also installed as {{c|ld}} -- and this binary is used by compilers.

== Switching the default linker ==

=== The easy way ===

Emerge >=sys-devel/binutils-config-3 and set default linker to gold:

{{RootCmd|binutils-config --linker ld.gold|output=<pre>
* Setting default linker to ld.gold for x86_64-pc-linux-gnu-2.22 ...                            [ ok ]
</pre>
}}

=== The hard way (manually) ===

The default linker can be changed immediately by linking {{c|ld}} to {{c|ld.gold}} in the {{Path|binutils}} directory.

{{Cmd|readlink -f /usr/bin/ld|output=<pre>
/usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld
</pre>
}}

Hard link:

{{RootCmd|ln -f /usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld.gold /usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld}}

Symbolic link:

{{RootCmd|ln -sf ld.gold /usr/x86_64-pc-linux-gnu/binutils-bin/2.22/ld}}

To make the change persistent across re-installations of binutils, one should pass a flag to the binutils configure script. This can be done using the <var>EXTRA_ECONF</var> variable in a [[:/etc/portage/package.env|package.env]] configuration.

{{FileBox|filename=/etc/portage/env/gold.conf|title=Environment overrides to enable gold by default|lang=bash|1=
EXTRA_ECONF="--enable-gold=default"
}}

{{FileBox|filename=/etc/portage/package.env|title=Enabling ''gold.conf'' override for binutils|1=
sys-devel/binutils gold.conf
}}

[[Category:Core system]] [[Category:Compilation]]
