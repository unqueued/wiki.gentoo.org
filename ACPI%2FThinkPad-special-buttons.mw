
==Preparation==
make sure [[ACPI]] is installed
To check what names ACPI uses on a specific button, start acpi_listen and press Fn+buttons and see output
 
{{RootCmd|acpi_listen||output=<pre>
button/fnf1 FNF1 00000080 00000000 K
button/screenlock SCRNLCK 00000080 00000000 K
^[[36~button/battery BAT 00000080 00000000 K
^[[37~button/sleep SBTN 00000080 00000000 K
</pre>}}

Collect those names.
Now create an event for each button in /etc/acpi/events, I named them by the location-function, but it's up to you.

==Recepies==
===Screen Lock button ===
{{File|/etc/acpi/events/FnF2-screenlock||<pre>
#Fn+F2 button/screenlock SCRNLCK 00000080 00000000 K
event=button/screenlock
action=/etc/acpi/actions/FnF2-screenlock.sh
</pre>}}

than create corresponding action for the button in /etc/acpi/actions, in this example
{{File|/etc/acpi/actions/FnF2-screenlock.sh||<pre>
#!/bin/bash
logger "Fn+F2 pressed, start Slimlock for logged-in user"
XUSER=$(ps aux | grep xinit | awk '{print $1}' | head -n1)
sudo -u $XUSER /usr/bin/slimlock&
</pre>}}
{{RootCmd|chmod +x /etc/acpi/actions/FnF2-screenlock.sh}}

how about using ScrLk key to lock console with app-misc/vlock
or it can be done through the same acpi action? dunno

===Sleep button===
{{File|/etc/acpi/events/FnF4-sleep||<pre>
#Fn+F4 button/sleep SBTN 00000080 00000000 K
event=button/sleep
action=/etc/acpi/actions/FnF4-sleep.sh
</pre>}}

{{File|/etc/acpi/actions/FnF4-sleep.sh||<pre>
#!/bin/sh
logger "Fn+F4 pressed, start Slimlock for current user and suspend to ram"
XUSER=$(ps aux | grep xinit | awk '{print $1}' | head -n1)
sudo -u $XUSER /usr/bin/slimlock&
echo -n mem >/sys/power/state
</pre>}}
{{RootCmd|chmod +x /etc/acpi/actions/FnF4-sleep.sh}}

===WiFi button===
{{File|/etc/acpi/events/FnF5-wifi||<pre>
#Fn+F5 button/wlan WLAN 00000080 00000000 K
event=button/wlan
action=/etc/acpi/actions/FnF5-wlan.sh
</pre>}}

{{File|/etc/acpi/actions/FnF5-wifi.sh||<pre>
#!/bin/sh
rf=/sys/class/rfkill/rfkill0
case $(< $rf/state) in
    0) echo 1 >$rf/state;;
    1) echo 0 >$rf/state;;
esac
</pre>}}
{{RootCmd|chmod +x /etc/acpi/actions/FnF5-wifi.sh}}

...to be continued

==Troubleshooting==
{{RootCmd|<pre>acpid -c /etc/acpi/events/ -s /var/run/acpid.socket -f -d -l | tee tmp</pre>}}
and see output when you press a key

Can I place all events in the same /etc/acpi/events/default ?
[[Category:ACPI]]
