{{InfoBox stack
|{{InfoBox homepage|http://www.arduino.cc/|header=true}}
|{{InfoBox wikipedia}}
}}
Arduino is an open source development platform using atmel microprocessors. This document describes how to use arduino boards on gentoo.
==Prepare the kernel for USB connection==
The arduino boards will be connected via USB to the computer. With this connection it is possible to write binaries to the atmega microprocessor and get debug messages from the board during run mode. Different boards have different USB interface chips.
* Arduino NG -> FTDI
* Arduino MEGA (8U2, 16U2) -> [http://wiki.openmoko.org/wiki/USB_CDC_ACM CDC ACM]
{{Kernel|for FTDI chip (can also be a module)|<pre>
Device Drivers  --->
    [*] USB support ---> 
    <*> USB Serial Converter support --->
    <*> USB FTDI Single Port Serial Driver
</pre>}}

{{Kernel|for CDC ACM (can also be a module)|<pre>
Device Drivers  --->
    [*] USB support ---> 
    <*> USB Modem (CDC ACM) support
</pre>}}

After booting with the new kernel this can be tested after connecting the board to the computers USB port:
{{RootCmd|dmesg}}

==Prepare the toolchain==
Because we need to compile code into binaries for another target platform (avr atmel microprocessors) we have to install an cross development toolchain.
We need three parts (Versions depend on your installation):
* cross-avr/gcc-4.6.3
* cross-avr/binutils-2.21.1
* avr-libc-1.8.0
this can be tested with:
{{RootCmd|emerge -p cross-avr/gcc cross-avr/binutils cross-avr/avr-libc}}
===Install the toolchain using crossdev===
Basic installation is out of the scope of this article. Please read the [http://en.gentoo-wiki.com/wiki/Crossdev gentoo crossdev manual] with special attention to the AVR section of the article.
===Install non gentoo toolchain===
Using the original [http://www.atmel.com/tools/ATMELAVRTOOLCHAINFORLINUX.aspx Atmel AVR toolchain] seems to be possible but not tested.

Using the debian precompiled toolchain is described there [http://blog.coldtobi.de/index.php?op=ViewArticle&articleId=21&blogId=1]

==Using arduino IDE==
At the moment arduino ide and uisp package are masked with ~amd64 keyword.<br />
This can be tested with:
{{RootCmd|emerge -p arduino}}

Create a file called arduino containing the necessary keywords. For example:
{{File|/etc/portage/package.mask/arduino||<pre>
=dev-embedded/arduino-1.0.3-r1 ~amd64
=dev-embedded/uisp-20050207-r1 ~amd64
</pre>}}

After the keywords are set correctly arduino can be installed with:
{{RootCmd|emerge arduino}}

After the start of arduino ide (an link should be found in the application/development section of your start menu) the scetchbook location should be configured.<br />
This is possible via the menu ''File/Preferences/Scetchbook location/''.

==Using eclipse IDE==
Will be continuied...

== Troubleshooting ==
*
== See also ==
*
== External resources ==
* [http://www.gentoo.org/proj/en/base/embedded/handbook/ Gentoo Embedded Handbook] for more information about embedded systems, cross compiling and other related topics.
* [http://playground.arduino.cc/linux/gentoo Guide on arduino main page] little bit outdated.
[[Category:Embedded systems]]
