<languages />
{{InfoBox stack
|{{InfoBox homepage|http://xfce.org/|header=true}}
|{{InfoBox wikipedia}}
|{{InfoBox gdoc|Xfce}}
|{{InfoBox guide|Xfce}}
|{{InfoBox gitweb|http://git.xfce.org/|raw=true}}
}}

Цитата с [http://xfce.org/ xfce.org]: "Xfce - это легковесное окружение рабочего стола для UNIX-подобных операционных систем. Xfce старается быть быстрым и не предъявляет больших требований к системным ресурсам, оставаясь при этом визуально привлекательным и удобным для пользователей."

== Установка ==

=== Исключение дополнительных зависимостей ===

Исключение опциональной зависимости от среды GNOME уменьшит размер инсталляции и сделает её более гармоничной. Эта секция является необязательной.

Убедитесь, что система использует базовый [[Profile (Portage)|профиль]]:

{{RootCmd|eselect profile set default/linux/amd64/13.0/desktop}}

{{Package|app-text/poppler}} и {{Package|dev-util/cmake}} имеют <code>+qt4</code> по умолчанию:

{{FileBox|title=Удаление USE-флага qt4 для poppler и cmake|filename=/etc/portage/package.use/xfce|1=
app-text/poppler -qt4
dev-util/cmake -qt4
}}

Конечно, <code>-qt4</code> так же может быть установлен глобально в {{Path|/etc/portage/make.conf}}.

=== Настройка XFCE_PLUGINS === 

Добавьте и настройте переменную <code>XFCE_PLUGINS</code> в {{Path|/etc/portage/make.conf}}:

{{FileBox|title=Настройка XFCE_PLUGINS|filename=/etc/portage/make.conf|1=
XFCE_PLUGINS="brightness clock trash"
}}

Указанный выше список плагинов может изменяться; текущий список доступен на [https://gitweb.gentoo.org/repo/gentoo.git/tree/profiles/desc/xfce_plugins.desc ${PORTDIR}/profiles/desc/xfce_plugins.desc].

=== Emerge ===

Пришло время установить рабочий стол Xfce!

Без явной установки {{Package|xfce-extra/xfce4-notifyd}} с помощью команды {{c|emerge}}, пакет {{Package|virtual/notification-daemon}} установит зависимый пакет из среды GNOME {{Package|x11-misc/notification-daemon}}. Таким образом, мы должны установить {{Package|xfce-base/xfce4-meta}} вместе с {{Package|xfce-extra/xfce4-notifyd}}, и затем исключить последний из файла world:

{{Emerge|xfce-base/xfce4-meta xfce-extra/xfce4-notifyd}}

{{Emerge|params+=--deselect{{=}}y|xfce-extra/xfce4-notifyd}}

Конечно, вместо meta-пакета можно устанавливать только необходимые компоненты, например:

{{Emerge|xfce-base/xfwm4 xfce-base/xfce4-panel}}

== Конфигурация ==

== Дисплей менеджер ==

Для запуска Xfce можно использовать дисплей менеджер. Пожалуйста, обратитесь к статье [[display manager]] для его конфигурации.

Большинство дисплей менеджеров используют файлы {{Path|*.desktop}} для настройки доступных сессий. Пример такого файла:

{{FileBox|title=.desktop файл Xfce4 для менеджеров дисплея|filename=xfce4.desktop|lang=ini|1=
[Desktop Entry]
Encoding=UTF-8
Name=Xfce4
Comment=Use this session to run Xfce 4 as desktop environment
Exec=/usr/bin/startxfce4
Icon=/usr/share/pixmaps/xfce4_xicon1.png
Type=Application
}}

Файл desktop может быть помещен в каталог дисплей менеджера.

=== Запуск Xfce без менеджера дисплея ===

{{c|startx}} и {{c|startxfce4}} два [[X without Display Manager|доступных варианта]] для запуска Xfce без использования менеджера дисплея.

==== startx ====

Для {{c|startx}} создайте файл {{Path|~/.xinitrc}} и запишите в него:

{{FileBox|title=Запуск xfce4 при запуске startx|filename=~/.xinitrc|1=
exec startxfce4
}}

==== startxfce4 ====

Для запуска рабочего стола Xfce4 просто наберите {{c|startxfce4}} в командной строке и нажмите enter:

{{Cmd|startxfce4}}

Xfce - это окружения рабочего стола и оно может быть настроено с учетом нужд каждого пользователя. В этом разделе раскрываются популярные аспекты.

=== Клавиши регулировки громкости ===

==== xfce4-volumed ====

Установите {{Package|xfce-extra/xfce4-volumed}} для управления клавишами регулировки громкости:

{{Emerge|xfce-extra/xfce4-volumed}}

Если с xfce4 используется pulseaudio, установите {{Package|xfce-extra/xfce4-volumed-pulse}}:

{{Emerge|xfce-extra/xfce4-volumed-pulse}}

==== Горячие клавиши ====

Запустите {{c|xfce4-keyboard-settings}} для привязки следующих клавиш:

* {{Key|volume up}} button: amixer set Master 5%+
* {{Key|volume down}} button: amixer set Master 5%-
* {{Key|mute}} button: amixer set Master toggle

=== Совместимые GTK+ 3 темы ===

==== Нативный движок Xfce для тем ====

Собственный движок Xfce для тем, {{Package|x11-themes/gtk-engines-xfce}}, обновленный до версии 3.0, включает поддержку GTK+ 3 без дальнейшей настройки.

Предполагая, что USE-флаг <code>gtk3</code> настроен, GTK+ 3 (сборка 300 или выше) должен быть затянут по умолчанию, если {{Package|xfce-base/xfce4-meta}} или {{Package|x11-themes/gtk-engines-xfce}} были установлены во время обновления мира с опцией <code>--deep</code>.

Это не просто:

{{Emerge|x11-themes/gtk-engines-xfce}}

Это должно затянуть правильную версию {{Package|x11-themes/gtk-engines-xfce}} через определенный <code>SLOT</code>.

После установки GTK+ версии 3 {{Package|x11-themes/gtk-engines-xfce}}, приложения, использующие GTK+ 3, должны четко гармонировать с GTK+ 2 приложениями, когда используется одна из нативных тем Xfce.

==== Greybird тема ====

Другой вариант заключается в использовании темы [http://shimmerproject.org/project/greybird/ Greybird], которая поддерживает GTK+ 2, GTK+ 3, xfwm4, emerald и metacity:

{{Emerge|x11-themes/greybird}}

Откройте {{Path|Xfce menu}} -> {{Path|Settings}} -> {{Path|Appearance}}. Или запустите {{c|xfce4-appearance-settings}}. Выберите "Greybird" из списка "Style".

Теперь приложения GTK+ 2 и GTK+ 3 должны иметь совместимый вид.

=== Другие темы ===

Другие темы, доступные в Portage и совместимые с XFCE, могут быть установлены из следующего списка:

{{Emerge|x11-themes/clearlooks-phenix x11-themes/gnome-themes-standard x11-themes/gtk-engines-aurora x11-themes/light-themes x11-themes/murrine-themes x11-themes/nimbus x11-themes/oxygen-molecule x11-themes/redhat-artwork x11-themes/shiki-colors x11-themes/tactile3 x11-themes/zukini}}

=== Дополнительные приложения ===

Здесь приведены приложения, являющиеся частью Xfce или хорошо поддерживающие это окружение.

{| class="table table-condensed table-striped" style="width: auto;"
! scope="col" width="25%" | Пакет
! Описание
|-
| {{Package|x11-terms/xfce4-terminal}}
| Популярные эмулятор терминала для Xfce; отличная замена стандартному {{c|xterm}}.
|-
| {{Package|xfce-base/xfce4-appfinder}}
| Поиск приложений
|-
| {{Package|xfce-base/thunar}}
| Файловый менеджер
|-
| {{Package|xfce-extra/xfce4-mixer}}
| Регулировка громкости
|-
| {{Package|app-editors/mousepad}}
| Легковесный текстовый редактор
|-
| {{Package|xfce-extra/thunar-volman}}
| Монтирование устройств
|-
| {{Package|xfce-extra/tumbler}}
| Предпросмотр файлов в Thunar
|-
| {{Package|app-cdr/xfburn}}
| Запись компакт дисков
|-
| {{Package|xfce-extra/thunar-archive-plugin}}
| Плагин для работы Thunar с архивами, использует {{Package|app-arch/file-roller}}
|-
| {{Package|xfce-extra/xfce4-battery-plugin}}
| Отображение процента заряда батареи, оставшегося времени, источника питания (AC или от батареи), состояние вентиляторов, предупреждения и возможность настройки запуска команд при определенном уровне питания. Эта возможность используется для отправки планшетного компьютера в гибернацию когда батарея сильно разряжена.
|-
| {{Package|xfce-extra/xfce4-verve-plugin}} 
| Небольшая командная строка, встроенная в панель. Это быстрее, чем открывать другой терминал для выполнения команды.
|-
| {{Package|xfce-extra/xfce4-mount-plugin}}
| Ручной метод монтирования устройств, перечисленных в {{Path|/etc/fstab}}, просто через клик мыши.
|-
| {{Package|xfce-extra/xfce4-sensors-plugin}}
| Мониторинг аппаратных датчиков, таких, как температура центрального процессора, обороты вентилятора, температура жесткого диска, напряжение на материнской плате, и еще.
|-
| {{Package|x11-themes/xfwm4-themes}}
| Несколько тем для оконного менеджера
|-
| {{Package|x11-misc/alacarte}}
| Включение редактирования меню Xfce4
|-
| {{Package|x11-terms/tilda}}
| Легковесный эмулятор терминала в стиле quake
|-
| {{Package|app-office/orage}}
| Простой и удобный календарь
|-
| {{Package|xfce-extra/xfce4-power-manager}}
| Приложение для отображения и управления электропитанием. Это особенно важно для портативных компьютеров! Менеджер питания позволяет пользователю настраивать яркость экрана, выбирать максимальную производительность для энергосберегающих режимов, и установить действия для нажатой кнопки питания или закрытой крышки ноутбука. {{c|xfce4-power-manager}} может задать предупреждение или вовсе отключение машины для определенного уровня заряда батареи. В приложении есть плагин для панели, отображающий уровень заряда и позволяющий управлять яркостью.
|}

== Устранение проблем ==

=== Включение вертикального подгона окна ===

Большинство современных настольных сред имеют вертикальную подгонку окон включенную по умолчанию. Это также возможно в Xfce, но не по умолчанию. Чтобы включить, перейдите к: {{Path|Настройки}} → {{Path|Оконный менеджер}} → {{Path|вкладка Дополнительно}}.

* Убедитесь, что-бы был выбран флажок "прикрепить окно к границе экрана".
* Убедитесь, что-бы флажки под заголовком "Заворачивать рабочие области при достижении края экрана" были сняты. Они мешают вертикальному прикреплению окон.

После того, как флажки установлены можно перетащить окно к правой или левой стороне экрана, которое должно изменить  размер окна до 50% от ширины экрана.

Клавиши быстрого доступа могут быть установлены для того, чтобы сделать это с помощью типичного {{Key|Super}}+{{Key|←}} или {{Key|Super}}+{{Key|→}} поведения. Перейдите к {{Path|Настройки}}→{{Path|Оконный менеджер}} → {{Path|Клавиатура}}.

Установите "Расположить окно слева" и "Расположить окно справа". Действия с комбинациями клавиш {{Key|Super}}+{{Key|←}} и {{Key|Super}}+{{Key|→}} соответственно.

=== Звуковой микшер жалуется на отсутствующий pavucontrol ===

При нажатии на значок динамика (аудио) на панели, а затем выбрав {{Path|Звуковой микшер...}} возвращает сообщение о том, что "pavucontrol не найден".

The solution is to install {{Package|media-sound/pavucontrol}}:

{{Emerge|media-sound/pavucontrol}}

=== Горячие клавиши для запуска программ не работают / Нельзя изменить цвета ===

Xfce can have hotkeys for both starting an application as well as modifying the behavior of an already running application or setting. An example of behavior hotkey is the {{Key|Ctrl}}+{{Key|Alt}}+{{Key|D}} combination, which minimizes all windows to show the deskop (and vice-versa).

Assuming that hotkeys for starting an application (such as {{Key|Alt}}+{{Key|F2}} to start the application finder) are not working, while the application can be started from the menu, then Consolekit is not running. Start it, and make sure that it gets started at boot time:

{{RootCmd|/etc/init.d/consolekit start}}

{{RootCmd|rc-update add consolekit default}}

This will also start D-Bus, a prerequisite for Consolekit. Restart X to enjoy the new hotkeys and colors.

== Смотрите также ==

* [[Xfce/Guide|Xfce Gentoo Guide]] - Подробное руководство по установке и настройке.

[[Category:Desktop environment]]
