<languages />
{{InfoBox stack
|{{InfoBox homepage|http://xfce.org/|header=true}}
|{{InfoBox wikipedia}}
|{{InfoBox gdoc|Xfce}}
|{{InfoBox guide|Xfce}}
}}

Цитата с [http://xfce.org/ xfce.org]: "Xfce - это легковесное окружение рабочего стола для UNIX-подобных операционных систем. Xfce старается быть быстрым и не предъявляет больших требований к системным ресурсам, оставаясь при этом визуально привлекательным и удобным для пользователей."

== Установка ==

=== Исключение дополнительных зависимостей ===

Исключение опциональной зависимости от среды GNOME уменьшит размер инсталляции и сделает её более гармоничной. Эта секция является необязательной.

Убедитесь, что система использует обычный "desktop" [[profile|профиль]]:

{{RootCmd|eselect profile list|output=<pre>
Available profile symlink targets:
  [1]   default/linux/amd64/13.0 *
  [2]   default/linux/amd64/13.0/selinux
  [3]   default/linux/amd64/13.0/desktop
  [4]   default/linux/amd64/13.0/desktop/gnome
  [5]   default/linux/amd64/13.0/desktop/gnome/systemd
  [6]   default/linux/amd64/13.0/desktop/kde
  [7]   default/linux/amd64/13.0/desktop/kde/systemd
  [8]   default/linux/amd64/13.0/developer
  [9]   default/linux/amd64/13.0/no-multilib
  [10]  default/linux/amd64/13.0/systemd
  [11]  default/linux/amd64/13.0/x32
  [12]  hardened/linux/amd64
  [13]  hardened/linux/amd64/selinux
  [14]  hardened/linux/amd64/no-multilib
  [15]  hardened/linux/amd64/no-multilib/selinux
  [16]  hardened/linux/amd64/x32
  [17]  hardened/linux/musl/amd64
  [18]  default/linux/uclibc/amd64
  [19]  hardened/linux/uclibc/amd64
</pre>}}

Выберите профиль, имя которого оканчивается на {{Path|/desktop}} (а не на {{Path|/gnome}} или {{Path|/kde}}):

{{RootCmd|eselect profile set 3}}

Пакеты {{Package|app-text/poppler}} и {{Package|dev-util/cmake}} по умолчанию устанавливаются с USE-флагами <code>qt4</code> и/или <code>qt5</code>. Отключите эти флаги во избежание установки огромного Qt-фреймворка:

{{FileBox|title=Снятие USE-флагов qt4 и qt5 для пакетов poppler и cmake|filename=/etc/portage/package.use/xfce|1=
app-text/poppler -qt4 -qt5
dev-util/cmake -qt4 -qt5
}}

Конечно, <code>-qt4</code> и <code>-qt5</code> могут быть заданы глобально в {{Path|/etc/portage/make.conf}}, если это кому-то необходимо.

=== Настройка XFCE_PLUGINS ===

Добавьте и настройте переменную <code>XFCE_PLUGINS</code> в файле {{Path|/etc/portage/make.conf}}:

<!-- Мы не указываем тут lang=bash, потому что подчёркивание в XFCE_PLUGINS каким-то образом исчезает -->
{{FileBox|title=Настройка XFCE_PLUGINS|filename=/etc/portage/make.conf|1=
XFCE_PLUGINS="brightness clock trash"
}}

Указанный выше список плагинов может изменяться; актуальный список доступен на [http://sources.gentoo.org/cgi-bin/viewvc.cgi/gentoo-x86/profiles/desc/xfce_plugins.desc?view=markup ${PORTDIR}/profiles/desc/xfce_plugins.desc].

=== Emerge ===

Пришло время установить рабочий стол Xfce!

Без явной установки {{Package|xfce-extra/xfce4-notifyd}} с помощью команды <tt>emerge</tt>, пакет {{Package|virtual/notification-daemon}} установит зависимый пакет из среды GNOME {{Package|x11-misc/notification-daemon}}. Таким образом, мы должны установить {{Package|xfce-base/xfce4-meta}} вместе с {{Package|xfce-extra/xfce4-notifyd}}, и затем исключить последний из файла world:

{{Emerge|xfce-base/xfce4-meta xfce-extra/xfce4-notifyd}}

{{Emerge|params+=--deselect{{=}}y|xfce-extra/xfce4-notifyd}}

Конечно, вместо meta-пакета можно устанавливать только необходимые компоненты, например:

{{Emerge|xfce-base/xfwm4 xfce-base/xfce4-panel}}

== Конфигурация ==

== Менеджер экрана ==

Для запуска Xfce можно использовать менеджер дисплея. Пожалуйста, обратитесь к статье [[display manager]] для его конфигурации.

Большинство менеджеров дисплея используют файлы {{Path|*.desktop}} для настройки доступных сессий. Пример такого файла:

{{FileBox|title=.desktop файл Xfce4 для менеджеров дисплея|filename=xfce4.desktop|lang=ini|1=
[Desktop Entry]
Encoding=UTF-8
Name=Xfce4
Comment=Use this session to run Xfce 4 as desktop environment
Exec=/usr/bin/startxfce4
Icon=/usr/share/pixmaps/xfce4_xicon1.png
Type=Application
}}

Файл может быть помещен в директорию менеджера дисплея.

=== Запуск Xfce без менеджера дисплея ===

<tt>startx</tt> и <tt>startxfce4</tt> два [[X without Display Manager|доступных варианта]] для запуска Xfce без использования менеджера дисплея.

==== startx ====

Для <tt>startx</tt> создайте файл {{Path|~/.xinitrc}} и запишите в него:

{{FileBox|title=Запуск xfce4 через вызов startx|filename=~/.xinitrc|1=
exec startxfce4
}}

==== startxfce4 ====

Для запуска рабочего стола Xfce4 просто наберите <tt>startxfce4</tt>:

{{Cmd|startxfce4}}

== Расширенная конфигурация ==

Xfce - это окружения рабочего стола и оно может быть настроено с учетом нужд каждого пользователя. В этом разделе раскрываются популярные аспекты.

=== Клавиши регулировки громкости ===

==== xfce4-volumed ====

Установите {{Package|xfce-extra/xfce4-volumed}} для управления клавишами регулировки громкости:

{{Emerge|xfce-extra/xfce4-volumed}}

Если с xfce4 используется pulseaudio, установите {{Package|xfce-extra/xfce4-volumed-pulse}}:

{{Emerge|xfce-extra/xfce4-volumed-pulse}}

==== Горячие клавиши ====

Запустите <tt>xfce4-keyboard-settings</tt> для привязки следующих клавиш:

* {{Key|volume up}} button: amixer set Master 5%+
* {{Key|volume down}} button: amixer set Master 5%-
* {{Key|mute}} button: amixer set Master toggle

=== Совместимые GTK+ 3 темы ===

==== Нативный движок Xfce для тем ====

Собственный движок Xfce для тем, {{Package|x11-themes/gtk-engines-xfce}}, обновленный до версии 3.0, включает поддержку GTK+ 3 без дальнейшей настройки.

Предполагая, что USE флаг <code>gtk3</code> настроен, GTK+ 3 (сборка 300 или выше) должен быть затянут по умолчанию, если {{Package|xfce-base/xfce4-meta}} или {{Package|x11-themes/gtk-engines-xfce}} установлены с <code>--deep</code>.

Это не просто:

{{Emerge|x11-themes/gtk-engines-xfce}}

Это должно затянуть правильную версию {{Package|x11-themes/gtk-engines-xfce}} через определенный <code>SLOT</code>.

После установки GTK+ 3 версии {{Package|x11-themes/gtk-engines-xfce}}, приложения, использующие GTK+ 3, должны четко гармонировать с GTK+ 2 приложениями, когда используется одна из нативных тем Xfce.

==== Greybird тема ====

Другой вариант заключается в использовании темы [http://shimmerproject.org/project/greybird/ Greybird], которая поддерживает GTK+ 2, GTK+ 3, xfwm4, emerald и metacity:

{{Emerge|x11-themes/greybird}}

Откройте {{Path|Xfce menu}} -> {{Path|Settings}} -> {{Path|Appearance}}. Или запустите <tt>xfce4-appearance-settings</tt>. Выберите "Greybird" из списка "Style".

Теперь приложения GTK+ 2 и GTK+ 3 должны иметь совместимый вид.

=== Другая темы ===

Другие темы, доступные в Portage и совместимые с XFCE, могут быть установлены из следующего списка:

{{Emerge|x11-themes/clearlooks-phenix x11-themes/gnome-themes-standard x11-themes/gtk-engines-aurora x11-themes/light-themes x11-themes/murrine-themes x11-themes/nimbus x11-themes/oxygen-molecule x11-themes/redhat-artwork x11-themes/shiki-colors x11-themes/tactile3 x11-themes/zukini}}

=== Дополнительные приложения ===

Здесь приведены приложения, являющиеся частью Xfce или хорошо поддерживающие это окружение.

{| class="table table-condensed table-striped"
! style="text-align:center;" width="25%" | Пакет
! style="text-align:center;" width="75%" | Описание
|-
| {{Package|x11-terms/xfce4-terminal}}
| Популярные эмулятор терминала для Xfce; отличная замена стандартному <tt>xterm</tt>.
|-
| {{Package|xfce-base/xfce4-appfinder}}
| Поиск приложений
|-
| {{Package|xfce-base/thunar}}
| Файловый менеджер
|-
| {{Package|xfce-extra/xfce4-mixer}}
| Регулировка громкости
|-
| {{Package|app-editors/mousepad}}
| Легковесный текстовый редактор
|-
| {{Package|xfce-extra/thunar-volman}}
| Монтирование устройств
|-
| {{Package|xfce-extra/tumbler}}
| Предпросмотр файлов в Thunar
|-
| {{Package|app-cdr/xfburn}}
| Запись компакт дисков
|-
| {{Package|xfce-extra/thunar-archive-plugin}}
| Плагин для работы Thunar с архивами, использует {{Package|app-arch/file-roller}}
|-
| {{Package|xfce-extra/xfce4-battery-plugin}}
| Отображение процента заряда батареи, оставшегося времени, источника питания (AC или от батареи), состояние вентиляторов, предупреждения и возможность настройки запуска команд при определенном уровне питания. Эта возможность используется для отправки планшетного компьютера в гибернацию когда батарея сильно разряжена.
|-
| {{Package|xfce-extra/xfce4-verve-plugin}} 
| Небольшая командная строка, встроенная в панель. Это быстрее, чем открывать другой терминал для выполнения команды.
|-
| {{Package|xfce-extra/xfce4-mount-plugin}}
| Ручной метод монтирования устройств, перечисленных в {{Path|/etc/fstab}}, просто через клик мыши.
|-
| {{Package|xfce-extra/xfce4-sensors-plugin}}
| Мониторинг аппаратных датчиков, таких, как температура центрального процессора, обороты вентилятора, температура жесткого диска, напряжение на материнской плате, и еще.
|-
| {{Package|x11-themes/xfwm4-themes}}
| Несколько тем для оконного менеджера
|-
| {{Package|x11-misc/alacarte}}
| Включение редактирования меню Xfce4
|-
| {{Package|x11-terms/tilda}}
| Легковесный эмулятор терминала в стиле quake
|-
| {{Package|app-office/orage}}
| Простой и удобный календарь
|-
| {{Package|xfce-extra/xfce4-power-manager}}
| Приложение для отображения и управления электропитанием. Это особенно важно для портативных компьютеров! Менеджер питания позволяет пользователю настраивать яркость экрана, выбирать максимальную производительность для энергосберегающих режимов, и установить действия для нажатой кнопки питания или закрытой крышки ноутбука. xfce4-power-manager может задать предупреждение или вовсе отключение машины для определенного уровня заряда батареи. В приложении есть плагин для панели, отображающий уровень заряда и позволяющий управлять яркостью.
|}

== Смотрите также ==

* [[Xfce/Guide|Xfce Gentoo Guide]] - Подробное руководство по установке и настройке.

[[Категория:Окружение рабочего стола]]
