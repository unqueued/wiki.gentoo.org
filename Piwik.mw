This article describes Piwik Web Analytics

Piwik uses gd freetype. Enable gd truetype flags on php

Edit /etc/portage/package.use and add "dev-lang/php fpm -exif mysqli pdo gd truetype"
{{FileBox|filename=/etc/portage/package.use/php|title=Portage configuration file|1=
dev-lang/php fpm -exif mysqli pdo gd truetype
# required by dev-lang/php-5.6.10::gentoo
# required by dev-lang/php (argument)
>=app-eselect/eselect-php-0.7.1-r4 fpm
}}

{{RootCmd|emerge -av dev-lang/php}}

Restart webserver and php services
{{RootCmd|/etc/init.d/php-fpm restart}}
{{RootCmd|/etc/init.d/nginx restart}}

Piwik requires the following change in php.ini
{{FileBox|filename=/etc/php/fpm-php5.6/php.ini|title=FPM PHP 5.6 configuration file|1=
always_populate_raw_post_data = -1
}}

Change to web server public directory
{{RootCmd|cd /var/www/localhost/htdocs}}
Download and extract piwik analytics
{{RootCmd|wget http://builds.piwik.org/piwik.zip}}
{{RootCmd|unzip piwik.zip}}

Create a database and user for piwik (using mysql example)
{{Cmd|mysql -u root -p|output=<pre>
mysql> CREATE DATABASE piwik;
mysql> USE piwik;
mysql> grant all privileges on piwik.* to user@localhost identified by 'password';
mysql> grant all privileges on piwik.* to user@'%' identified by 'password';
</pre>
}}

Create directories and change write permissions required by piwik
{{RootCmd|mkdir /var/www/localhost/piwikconfig}}
{{RootCmd|chmod a+w /var/www/localhost/htdocs/piwikconfig}}
{{RootCmd|chmod a+w /var/www/localhost/htdocs/piwik/tmp}}
{{RootCmd|chmod a+w /var/www/localhost/htdocs/piwik/config}}

In your browser navigate to piwik and follow the configuration instructions

http://localhost/piwik

Change back the write permission on directories except on /var/www/localhost/htdocs/piwik/tmp
{{RootCmd|chmod a-w /var/www/localhost/htdocs/piwikconfig}}
{{RootCmd|chmod a-w /var/www/localhost/htdocs/piwik/config}}
