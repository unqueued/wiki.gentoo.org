<languages />
{{Lowercase title}}
{{InfoBox stack
|{{InfoBox gdoc|Portage-Tools|header=true}}
|{{InfoBox wikipedia|Gentoolkit}}
|{{InfoBox gitweb|gentoolkit.git}}
}}

{{c|eclean}} is a tool for cleaning Portage source files and binary packages. It is part of the {{Package|app-portage/gentoolkit}} package and managed by the [[Project:Portage-Tools|Portage-Tools project]].

== Installation ==

=== Emerge ===

Install {{c|eclean}}:

{{Emerge|app-portage/gentoolkit}}

{{Note|Beachten Sie den [[Gentoolkit/de|Gentoolkit Artikel]] für Informationen zu weiteren Werkzeugen beinhaltet im Paket {{Package|app-portage/gentoolkit}}.}}

== Bedienung ==

By default, source files are located in the {{Path|/usr/portage/distfiles}} directory, while binary packages are located in the {{Path|/usr/portage/packages}} directory. The locations for each can be changed by altering the <var>DISTDIR</var> and the <var>PKGDIR</var> variables respectively in {{Path|/etc/portage/make.conf}}. Both locations can grow quite big if not periodically cleaned; this is the reason {{c|eclean}} was created.

=== Invocation ===

Use {{c|eclean --help}} to see full action summary, options list, and usage breakdown:

{{Cmd|eclean --help|output=<pre>
Usage:
 eclean [global-option] ... <action> [action-option] ...
 eclean-dist [global-option, distfiles-option] ...
 eclean-pkg [global-option, packages-option] ...
 eclean(-dist,-pkg) [--help, --version]
 
Available global options:
 -C, --nocolor             - turn off colors on output
 -d, --deep                - only keep the minimum for a reinstallation
 -e, --exclude-file=<path> - path to the exclusion file
 -i, --interactive         - ask confirmation before deletions
 -n, --package-names       - protect all versions (when --deep
 -p, --pretend             - only display what would be cleaned
 -q, --quiet               - be as quiet as possible
 -t, --time-limit=<time>   - don't delete files modified since <time>
   <time> is a duration: "1y" is "one year", "2w" is "two weeks", etc.
   Units are: y (years), m (months), w (weeks), d (days) and h (hours).
 -h, --help                - display the help screen
 -V, --version             - display version info
 
Available actions:
 packages     - clean outdated binary packages from PKGDIR
 distfiles    - clean outdated packages sources files from DISTDIR
 
Available options for the packages action:
 NONE  :)
 
Available options for the distfiles action:
 -f, --fetch-restricted   - protect fetch-restricted files (when --deep)
 -s, --size-limit=<size>  - don't delete distfiles bigger than <size>
   <size> is a size specification: "10M" is "ten megabytes", "200K" is
   "two hundreds kilobytes", etc.  Units are: G, M, K and B.
 
More detailed instruction can be found in `man eclean`
</pre>}}

=== Distfiles bereinigen ===

Säubern Sie das Quelldatei-Verzeichnis durch Übergabe des <code>distfiles</code> Arguments:

{{RootCmd|eclean distfiles}}

Oder durch Aufruf der kurzen Option:

{{RootCmd|eclean-dist}}

=== Pakete bereinigen ===

Für das Verzeichnis mit den Binärpaketen verwenden Sie stattdessen den folgenden Befehl:

{{RootCmd|eclean packages}}

Oder durch Aufruf der kurzen Option:

{{RootCmd|eclean-pkg}}

Standardmässig werden Quelldateien und Binärpakete mit Bezug zu irgendeinem Ebuild im aktuellen Portage-Baum '''nicht''' gelöscht. Dadurch können Systemadministratoren leicht ein Paket downgraden oder ein zuvor entferntes Paket installieren, vorausgesetzt das Paket befindet sich immer noch im aktuellen Portage-Baum.

As an example, suppose packages foo-1.0 and foo-1.1 are both in the Portage tree. After updating from foo-1.0 to foo-1.1, run {{c|eclean distfiles}}: source files for both versions will be kept, so if a problem occurs with foo-1.1 then the user can easily re-install foo-1.0 without re-downloading anything.

The other possible case is installing a previously removed package. Suppose that a package foo (any version) is installed on the system. After (inadvertently) removing it and running {{c|eclean distfiles}}, the source files for foo will be kept, so it can be re-installed without re-downloading anything.

Die gleichen Beispiele sind ebenfalls für Binärpakete anwendbar.

Um mehr Festplattenplatz zu sparen fügen Sie die Option <code>--destructive</code> hinzu: Jede Quelldatei oder Binärpaket das nicht in Verbindung zu einem ''aktuell installierten'' Paket mit dessen Version steht wird gelöscht. Bitte beachten Sie dass die Benutzer auf diese Weise für den Fall, dass sie ein Paket downgraden oder ein zuvor entferntes Paket erneut installieren müssen nicht geschützt sind.

Als Alternative können Sie die beiden Optionen <code>--destructive</code> und <code>--package-names</code> verwenden: Alle Quelldateien oder Binärpakete die nicht in Beziehung zu einem momentan installierten Paket stehen (die Version ist egal) werden gelöscht. Dies schützt nicht im Falle einer erneuten Installation eines zuvor entfernten Paketes, aber es wird die Quellen schützen wenn später ein Downgrade eines Paketes notwendig ist.

Für weitere Details lesen Sie die eclean(1) Man-Page:

{{Cmd|man 1 eclean}}

== Siehe auch ==

* [[Gentoolkit]]
* [[Knowledge Base:Remove obsoleted distfiles|Knowledge Base: Remove obsoleted distfiles]]


[[Category:Portage tools]]
