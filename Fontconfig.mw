The fontconfig library is intended to provide uniform font selection and configuration amongst all GUI applications though it's common for various desktop environments to provide their own font overrides and configuration, still fontconfig is the underlying library even then.
== Configuration ==
{{Note|Changes to fontconfig files will reflect only in applications started after the change!}}
=== Generic ===
fontconfig uses XML files in {{Path|/etc/fonts/}} directory to generate its internal configuration. By default it parses {{Path|/etc/fonts/fonts.conf}} (users should not edit this file!) which sets some sane defaults and usually contains code to also parse {{Path|/etc/fonts/conf.d/}} content. In addition there is {{Path|/etc/fonts/conf.avail/}} directory that contains various possible configuration files that each cover some aspect of fontconfig. It's customary to symlink necessary files to {{Path|/etc/fonts/conf.d/}}. These files are executed in order they are named, for this reason their names start with a two digit number with the first (tens) indicating class, that is, what the file affects.
=== Gentoo specific way ===
Gentoo ships an eselect module ('''eselect fontconfig''') that does exactly what was described in generic way - it manages symlinks of files in {{Path|/etc/fonts/conf.avail/}} by adding or removing them from the {{Path|/etc/fonts/conf.d/}} directory. For obvious reasons changing system wide configuration requires appropriate permissions.
==== Listing available files ====
{{rootCmd|eselect fontconfig list
|output=<pre>Available fontconfig .conf files (* is enabled):
  [1]   10-autohint.conf *
  [2]   10-no-sub-pixel.conf
  [3]   10-sub-pixel-bgr.conf
  [4]   10-sub-pixel-rgb.conf
  [5]   10-sub-pixel-vbgr.conf
  [6]   10-sub-pixel-vrgb.conf
  [7]   10-unhinted.conf
  [8]   11-lcdfilter-default.conf
  [9]   11-lcdfilter-legacy.conf
  ...
</pre>}}
{{Note|Different systems have different files in {{Path|fonts.avail}} and therefore list number for one and that same file differ from system to system, never blindly use a list number from another source but your local list!}}

==== Enabling a file ====
Files can be enabled either by filename or by the number in brackets. These two do the same thing:
{{rootCmd
|eselect fontconfig enable 10-sub-pixel-rgb.conf
|eselect fontconfig enable 4
}}
==== Disabling a file ====
Files can be disabled likewise:
{{rootCmd
|eselect fontconfig disable 10-sub-pixel-rgb.conf
|eselect fontconfig disable 4
}}

=== Custom system wide configuration ===
Enable {{Path|51-local.conf}} and create {{Path|/etc/fonts/local.conf}} (this is an XML file, you have been warned).
{{File|/etc/fonts/local.conf|Example file that sets preferred font fallback order for sans-serif font|<pre>
<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Ubuntu</family>
      <family>TakaoPGothic</family>
      <family>Droid Sans</family>
    </prefer>
    <default><family>DejaVu Sans</family></default>
  </alias>
</fontconfig></pre>
}}

=== Per-user configuration ===
Enable {{Path|50-user.conf}} (possibly enabled by default). And use {{Path|~/.fonts.conf}} (same format as {{Path|local.conf}})
{{Note|This is one way how a desktop environment might try to affect font rendering hence it might be prudent to disable this to be sure that what's being shown is actually system wide configuration when customizing it. Disabling it also makes font rendering more uniform across user accounts.}}

== Anti-aliasing, hinting and sub-pixel rendering ==
'''Anti-aliasing''' is enabled by default and makes fonts less blocky.
'''Hinting''' is an attempt to cope with the low pixel count per unit of area of current displays.Correct hinting makes characters more crisp but since font metrics aren't changed (and arguably should not change) affects how overall the rendered text looks like.
'''Sub-pixel rendering''' uses the fact that LCD matrix has three primaries to effectively triple the resolution of text but can make characters appear not entirely black. To combat that '''lcdfilter''' is to be used with sub-pixel rendering (available for newer fontconfig) but it can blur the characters too much. In the end this entirely depends on person how they like their text.
=== Forcing hinting ===
The default fontconfig behaviour regarding hinting is unknown [personal note: what is this madness, how can one of the key components of Linux graphical stack be unknown?!] but it can be made deterministically sub-optimal by making a system wide default.
# [[#Custom system wide configuration|First enable {{Path|/etc/fonts/local.conf}}]]
# Edit the file to include full hinting by default 

{{File|/etc/fonts/local.conf|Setting hinting to full|<pre>
<match target="font">
  <edit mode="assign" name="hintstyle">
    <const>hintfull</const>
  </edit>
</match>
</pre>}}

{{Note|Most fonts look best with full hinting but others need slight or more rarely some other other hinting option. Some fonts for one reason or another will always be ugly.}}

=== Using sub-pixel rendering ===
It's important to determine the sub-pixel layout of the LCD matrix. It's usually RGB ({{Path|10-sub-pixel-rgb.conf}}) but the only way to be sure is to either consult display specification or use this [http://www.lagom.nl/lcd-test/subpixel.php sub-pixel layout test] to determine it. It's strongly advised that lcdfilter, if available, is used with sub-pixel rendering. It comes in different varieties but the default ({{Path|11-lcdfilter-default.conf}}) should be appropriate for all common fonts.

== Further reading ==
* [https://wiki.archlinux.org/index.php/Font_Configuration Arch Linux Wiki on this topic] - an in-depth article on Linux font configuration and font selection
* [http://en.wikipedia.org/wiki/Hinting Wikipedia article on font hinting]
