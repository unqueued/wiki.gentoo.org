<languages />


{{Metadata|abstract=Данная статья описывает, как настроить и использовать GPM (сервер мыши общего назначения) из интерфейса командной строки. Это особенно полезно для новых установок Gentoo, или для систем, которые не могут использовать X-сервер.}}

Данная статья описывает, как настроить и использовать GPM (сервер мыши общего назначения) из интерфейса командной строки. Это особенно полезно для новых установок Gentoo, или для систем, которые не могут использовать X-сервер.

== Получение GPM ==

Если вы только что установили Gentoo, вы почти наверняка еще не настроили работу своей мыши в командной строке. Либо, возможно, вы не можете использовать X-сервер (либо он вам не нужен), но вам все равно нужна мышь. Решение простое:<code>gpm</code>, сервер мыши общего назначения. 

Вначале вам нужно получить GPM: 

{{Emerge|gpm}}

Вы могли заметить несколько сообщений в процессе компиляции о том, что вам нужно произвести конфигурацию сервера. Вы должны это сделать перед запуском GPM. 

== Конфигурация GPM ==

Прежде чем использовать GPM вам нужно раскомментировать строки, определяющие положение и протокол вашей мыши. Вы можете это сделать, отредактировав файл конфигурации GPM: 

{{RootCmd|nano /etc/conf.d/gpm}}

В следующем примере у нас есть USB-мышь в {{Path|/dev/input/mouse0}}. Поэтому мы раскомментируем {{Path|/dev/input/mice}}, так как это кумулятивное устройство для всех мышей системы, и соответствующий протокол. Попробуйте использовать {{Path|/dev/input/mice}}, а не {{Path|/dev/psaux}}, так как последний считается устаревшим и может быть отключен в более новых ядрах. Если {{Path|/dev/input/mice}} не будет работать, то используйте другие устройства. Вот пример {{Path|/etc/conf.d/gpm}} : 

{{CodeBox|title=Пример настройки GPM|lang=bash|1=
## (Пожалуйста, раскомментируйте тип вашей мыши и соответствующую запись MOUSEDEV)
 
#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
}}

If you have a wheelmouse, you will want to use the imps2 protocol, so uncomment that line. If imps2 and ps2 both fail to work for you, please refer to the GPM info page (<code>info gpm</code>) for other protocols to try. Also, if you want to be able to click on hyperlinks in terminals to navigate to a website, it is a good idea to follow the suggestion in the {{Path|/etc/conf.d/gpm}} file: 

{{CodeBox|title=Other options|lang=bash|1=
## (Please uncomment this line if you want GPM to understand charsets
##  used in URLs and names with ~ or : in them, etc.
##  This is a good idea to turn on!)
 
APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
}}

Остаток файла conf.d содержит другие предложения касательно вашего сервера мыши; раскомментируйте различные опции согласно вашим требованиям. Смотрите <code>man gpm</code> для более детальной информации.

== Запуск GPM ==

После установки и конфигурации вашего сервера мыши пришло время использовать его: 

{{RootCmd|/etc/init.d/gpm start}}

Вы должны увидеть появившийся прямоугольный курсор. Помните, что только root может запустить скрипт инициализации GPM. Однако, чтобы не нужно было выполнять команду <code>su</code> и запускать скрипт каждый раз при начале новой сессии, почему бы не попросить GPM запускаться каждый раз при старте вашего компьютера? 

{{RootCmd|rc-update add gpm default}}

Теперь каждый раз, когда вы включаете ваш компьютер, вас будет приветствовать курсор ко времени ввода логина. Сервер мыши продолжит работать, даже если вы не войдете как root.

== Работа с GPM ==

=== Копирование и вставка ===

Copying and pasting large blocks of text with a working mouse server is very easy. Simply highlight the text with the left mouse button (it will stay highlighted when you release the button), switch to a different terminal if you wish, position the cursor, and press the middle mouse button to paste the text where you placed the cursor. Note that you can copy and paste without ever leaving the terminal you started. This makes posting the output of error messages to the [https://forums.gentoo.org/ Gentoo Forums] extremely simple.

=== Браузеры в текстовом режиме и GPM ===

Если у вас есть сообщение на одном экране и браузер в текстовом режиме на другом, вы можете скопировать сообщение об ошибке выделив его, переключиться на другой терминал, нажать левой кнопкой мыши на какое-либо поле для ввода текста, и затем нажать среднюю кнопку мыши. Ваше сообщение об ошибке теперь может быть отправлено на форум. 

Хотя обсуждение браузеров, работающих в текстовом режиме немного выходит за рамки данной статьи, однако очевидно, что пользователям понадобится совместимый консольный браузер. Хотя <code>lynx</code>, скорее всего, самый старый и стабильный браузер, его интерфейс имеет плохую поддержку мыши. Вместо этого, попробуйте использовать <code>links</code>, у которого есть отличная поддержка мыши. 

{{Emerge|links}}

Этим мы завершим нашу статью об использовании мыши в консоли. Счастливого мышинга!

== Благодарности ==

Мы хотели бы поблагодарить следующих авторов и редакторов за их вклад в это руководство:

* Joshua Saddler
