<languages />

Данная статья описывает, как настроить и использовать GPM (сервер мыши общего назначения) из интерфейса командной строки. Это особенно полезно для новых установок Gentoo, или для систем, которые не могут использовать X-сервер.

== Получение GPM ==

Если вы только что установили Gentoo, вы почти наверняка еще не настроили работу своей мыши в командной строке. Либо, возможно, вы не можете использовать X-сервер (либо он вам не нужен), но вам все равно нужна мышь. Решение простое:<code>gpm</code>, сервер мыши общего назначения. 

Вначале вам нужно получить GPM: 

{{Emerge|gpm}}

Вы могли заметить несколько сообщений в процессе компиляции о том, что вам нужно произвести конфигурацию сервера. Вы должны это сделать перед запуском GPM. 

== Конфигурация GPM ==

Прежде чем использовать GPM вам нужно раскомментировать строки, определяющие положение и протокол вашей мыши. Вы можете это сделать, отредактировав файл конфигурации GPM: 

{{RootCmd|nano /etc/conf.d/gpm}}

В следующем примере у нас есть USB-мышь в {{Path|/dev/input/mouse0}}. Поэтому мы раскомментируем {{Path|/dev/input/mice}}, так как это кумулятивное устройство для всех мышей системы, и соответствующий протокол. Попробуйте использовать {{Path|/dev/input/mice}}, а не {{Path|/dev/psaux}}, так как последний считается устаревшим и может быть отключен в ядрах версии 2.6. Если {{Path|/dev/input/mice}} не будет работать, то используйте другие устройства. Вот пример {{Path|/etc/conf.d/gpm}} : 

{{Code|Пример конфигурации GPM|<pre>
## (Пожалуйста, раскомментируйте тип вашей мыши и соответствующую запись MOUSEDEV)
 
#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
</pre>
}}

Если у вас мышь с колесом, вы можете захотеть использовать протокол imps2, поэтому раскомментируйте данную строку. Если как imps2, так и ps2 откажутся работать, зайдите на страницу info для GPM ( <code>info gpm</code> ) для списка других возможных протоколов. Кроме того, если вы хотите нажимать на гиперссылки в терминалах для перехода на сайты, будет хорошей идеей последовать совету в файле <code>/etc/conf.d/gpm</code>: 

{{Code|Другие опции|<pre>
## (Пожалуйста, раскомментируйте данную строку, если вы хотите, чтобы GPM понимал наборы символов,
##  используемые в URL, и имена с символами ~ или : и так далее.
##  Это хорошая опция, чтобы ее включить!)
 
APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
</pre>
}}

Остаток файла conf.d содержит другие предложения касательно вашего сервера мыши; раскомментируйте различные опции согласно вашим требованиям. Смотрите <code>man gpm</code> для более детальной информации. 

== Запуск GPM ==

После установки и конфигурации вашего сервера мыши пришло время использовать его: 

{{RootCmd|/etc/init.d/gpm start}}

Вы должны увидеть появившийся прямоугольный курсор. Помните, что только root может запустить скрипт инициализации GPM. Однако, чтобы не нужно было выполнять команду <code>su</code> и запускать скрипт каждый раз при начале новой сессии, почему бы не попросить GPM запускаться каждый раз при старте вашего компьютера? 

{{RootCmd|rc-update add gpm default}}

Теперь каждый раз, когда вы включаете ваш компьютер, вас будет приветствовать курсор ко времени ввода логина. Сервер мыши продолжит работать, даже если вы не войдете как root.

== Работа с GPM ==

=== Копирование и вставка ===

Копирование и вставка больших блоков текста с работающим сервером мыши это очень просто. Выделите текст левой кнопкой мыши (он останется выделенным когда вы отпустите кнопку), переключитесь на другой терминал, если вам это нужно, разместите курсор, и нажмите среднюю кнопку мыши для вставки текста там, где вы разместили курсор. Заметьте, что вы можете копировать и вставлять даже без выхода из запущенного терминала. Это делает возможным очень простую отправку сообщений об ошибке на [http://forums.gentoo.org Форумы Gentoo]. 

=== Браузеры в текстовом режиме и GPM ===

Если у вас есть сообщение на одном экране и браузер в текстовом режиме на другом, вы можете скопировать сообщение об ошибке выделив его, переключиться на другой терминал, нажать левой кнопкой мыши на какое-либо поле для ввода текста, и затем нажать среднюю кнопку мыши. Ура! Ваше сообщение об ошибке теперь может быть отправлено на форум. 

Хотя обсуждение браузеров, работающих в текстовом режиме немного выходит за рамки данной статьи, однако очевидно, что пользователям понадобится совместимый консольный браузер. Хотя <code>lynx</code>, скорее всего, самый старый и стабильный браузер, его интерфейс имеет плохую поддержку мыши. Вместо этого, попробуйте использовать <code>links</code>, у которого есть отличная поддержка мыши. 

{{Emerge|links}}

Этим мы завершим нашу статью о пользовании мышью в консоли. Счастливого мышинга! 

== Благодарности ==

Мы хотели бы поблагодарить следующих авторов и редакторов за их вклад в это руководство:

* Joshua Saddler
