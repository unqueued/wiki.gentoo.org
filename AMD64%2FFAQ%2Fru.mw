<languages />


{{Metadata|abstract=Часто задаваемые вопросы по Gentoo Linux/AMD64}}

Это статья с ответами на часто задаваемые вопросы по Gentoo Linux/AMD64. Для начала ознакомьтесь с содержанием.

== Введение ==

Этот документ содержит наиболее часто задаваемые вопросы об использовании Gentoo на системах с архитектурой AMD64. Многие из этих вопросов изначально были заданы на [http://forums.gentoo.org/ форумах], в IRC или различных [https://www.gentoo.org/get-involved/mailing-lists/all-lists.html списках рассылки]. [[Project:AMD64|AMD64 проект]] осуществляет поддержку Gentoo Linux на данной архитектуре. Если у вас есть предложения или вопросы по этому ЧаВо, то вы можете прислать e-mail на {{Mail|amd64@gentoo.org}} (язык общения — английский. — ''Прим. пер.'').

== Установка ==

=== В чём разница между AMD64 и EM64T? ===

Оба понятия относятся к 64-битным процессорам, от AMD (AMD64) и Intel (EM64T) соответственно. AMD производит 64-битные процессоры в рамках серий Athlon&nbsp;64, Turion, Neo, Phenom и Opteron. Intel — в рамках серий Core&nbsp;2, Core&nbsp;i "X", Celeron, Xeon и Pentium (все основанные на архитектуре Core&nbsp;2). [//en.wikipedia.org/wiki/x86-64#Intel_64 Последние несколько версий] старых чипов Pentium&nbsp;4 и Xeon также поддерживают EM64T.

AMD представила первые 64-битные процессоры раньше Intel. В силу этих (исторических) причин архитектура всех x86-64-совместимых процессоров обозначается в Gentoo ключевым словом {{keyword|amd64}}. Так что "AMD64" — это общее обозначение для 64-битных чипов от AMD и Intel.

=== Какие CFLAGS использовать? ===

Следует использовать простые <var>CFLAGS</var>, чтобы избежать проблем с системой в будущем. Поддерживаемые как на системах с AMD, так и с Intel (EM64T) <var>CFLAGS</var>: <code>-O2 -march=native -pipe</code>.

=== Какое ядро использовать? ===

Вы можете использовать большую часть ядер, доступных через Portage (пакетов *-sources). Мы рекомендуем {{Package|sys-kernel/gentoo-sources}}, поскольку это ядро спроектировано специально для Gentoo Linux. Оно содержит множество ориентированных на AMD64 патчей, и поэтому является единственным ядром, официально поддерживаемым проектом Gentoo/AMD64.

Убедитесь, что параметр ядра <var>IA32_EMULATION</var> включён:

{{RootCmd|cd /usr/src/linux
|make menuconfig}}

{{KernelBox|title=Включение эмуляции IA32|1=
Executable file formats / Emulations  --->
  [*] IA32 Emulation
}}

{{Warning|Отключение этого параметра может привести к ошибкам на системах с [[multilib]].}}

=== Увеличится ли производительность, если использовать 64-битную систему вместо 32-битной? ===

Это сложный вопрос. В некоторых случаях наблюдается улучшение производительности, в некоторых — нет. В повседневной работе между 64- и 32-битностью почти нет разницы. На 64-битных системах как правило быстрее выполняются вычисления над числами с плавающей запятой, они часто используются мультимедиа-приложениями и приложениями для 3D-рендеринга. Возможно, вам будут интересны статьи с linux.com [http://www.linux.com/articles/114024?tid=121 «Производительность в 64-битном Gentoo Linux»] и [http://www.linux.com/feature/43873 «64-битные Linux и BSD неуклонно взрослеют»]. Также есть отличная тема на нашем форуме [https://forums.gentoo.org/viewtopic-t-349691.html «Статья: Производительность в 64-битном Gentoo Linux»].

=== Что такое multilib, и как его использовать? ===

Любой процессор архитектуры AMD64 может запускать 32-битный код, так же как и 64-битный. Но нельзя запустить 32-битное приложение с 64-битными библиотеками или наоборот. Можно, однако, «нативно» (без эмуляции) запустить 32-битное приложение, если все нужные ему разделяемые библиотеки доступны в 32-битном виде. Наличие или отсутствие поддержки [[multilib]] соответствует выбранному вами профилю. Стандартный профиль включает поддержку multilib.

{{Warning|Переключение с multilib-профиля на профиль без multilib на данный момент не поддерживается ([http://jkroon.blogs.uls.co.za/it/gentoo/gentoo-converting-no-multilib-to-multilib советы по переходу]), так что обдумайте своё решение дважды, прежде чем выбрать профиль без поддержки multilib.}}

=== Как сделать 32-битный chroot? ===

Please read the [[Project:AMD64/32-bit_Chroot_Guide|32bit chroot guide]].

=== Can I upgrade from my x86 system to AMD64 by doing emerge -e @world? ===

Таким способом обновиться невозможно в силу некоторых различий между сборками для {{keyword|x86}} (32-битными) и {{keyword|amd64}} (64-битными). Вы можете установить новую систему, воспользовавшись [[Handbook:AMD64|Настольной книгой для AMD64]].

Обратите внимание на то, что бинарные файлы, созданные на x86-системе, часто не могут быть прочитаны приложениями в системе с архитектурой AMD64. В частности, файлы баз данных, таких как MySQL, innoDB, Berkeley&nbsp;DB, SQLite, OpenLDAP и т. п., нельзя скопировать как есть. Нужно сделать дамп в независимый от архитектуры формат (например, текстовый файл), а затем восстановить базу из него на AMD64-системе.

=== Возможно ли использовать Reiser4? ===

Поддержки файловой системы Reiser4 нет ни в одном из ядер, предлагаемых проектом Gentoo Kernel, так что команда AMD64 тоже не поддерживает её. Ответ — нет.

== Оборудование ==

=== Будут ли работать бинарные драйвера NVIDIA/ATI? ===

Yes, NVIDIA and ATI provide drivers that work on AMD64. You can install them by executing {{c|emerge x11-drivers/nvidia-drivers}} or {{c|emerge x11-drivers/ati-drivers}}. If you have more questions about these drivers, you should read the [[NVidia/nvidia-drivers|nvidia-drivers guide]] or the [[ATI FAQ]].

=== Как задействовать технологии Cool'n'Quiet/PowerNow/SpeedStep? ===

{{Dated|section}}

Необходимо скомпилировать ядро с поддержкой этих возможностей. Просто включите перечисленные ниже параметры: 

{{KernelBox|title=Параметры ядра для Cool'n'Quiet/PowerNow/SpeedStep|1=
Power management options --->
  [*] Run-time PM core functionality
  [*] ACPI (Advanced Configuration and Power Interface) Support --->
    <*>   Processor
    <*>     Thermal Zone
  CPU Frequency scaling --->
  [*] CPU Frequency scaling
         Default CPUFreq governor (ondemand) --->
  -*-   'performance' governor
  <*>   'userspace' governor for userspace frequency scaling
  -*-   'ondemand' cpufreq policy governor
  <*>   ACPI Processor P-States driver
  <*>   AMD Opteron/Athlon64 PowerNow!
-*- CPU idle PM support
}}

Then {{c|emerge sys-power/cpufrequtils}} and edit {{Path|/etc/conf.d/cpufrequtils}} with a preferred text editor. 

{{FileBox|filename=/etc/conf.d/cpufrequtils|title=Пример конфигурационного файла|1=
# ru: Параметры, передаваемые подсистеме cpufreq при старте (через утилиту 'cpufreq-set')
# Options when starting cpufreq (given to the 'cpufreq-set' program)
START_OPTS="--governor ondemand"
  
# ru: Параметры, передаваемые подсистеме cpufreq при остановке (через утилиту 'cpufreq-set')
# Options when stopping cpufreq (given to the 'cpufreq-set' program)
STOP_OPTS="--governor performance"
}}

Now you only have to run {{c|rc-update add cpufrequtils boot}} to make sure it is started every time the system boots. 

{{Note|Вам может пригодиться [[Power management/Guide/ru|Руководство по управлению питанием]], которое содержит больше советов по управлению питанием CPU.}}

== Приложения ==

=== Работает ли Adobe Flash? ===

Да. Установите {{Package|www-plugins/adobe-flash}}. Обязательно прочитайте сообщения, которые отображаются при сборке (emerge messages).

{{Warning|The {{Package|www-plugins/adobe-flash}} package is old, outdated and will shortly be officially unmaintained by Adobe. See the [[Adobe Flash]] article for better, up to date information.}}

=== Я хочу установить пакет foo, но emerge выводит: (masked by: ~amd64 keyword) ===

This means that the package is still in the 'testing' tree. Please read Portage's manual page ({{c|man portage}}) or the [[Handbook:AMD64/Portage/Branches|Mixing Software Branches]] chapter of the [[Handbook:AMD64|AMD64 Handbook]] for more information.

=== Я хочу установить пакет foo, но emerge выводит: (masked by: missing keyword) ===

Это означает, что пакет не был достаточно протестирован. Из этого не обязательно следует, что пакет не работает. Его можно размаскировать, установив для пакета другую архитектуру (или набор архитектур). В следующем примере показано, как сделать, чтобы Portage допускал установку данного пакета на любой архитектуре:

{{RootCmd|echo "category/packagename **" >> /etc/portage/package.accept_keywords
|emerge packagename}}

Если пакет хорошо работает на вашей системе, то вы можете дать нам знать об этом, открыв запрос в [https://bugs.gentoo.org/ Gentoo's Bugzilla]. После этого команда проекта AMD64 может установить архитектуру для пакета, и другие пользователи получат пользу от ваших тестов. 

{{Warning|Do not try to invoke commands like {{c|ACCEPT_KEYWORDS{{=}}"~x86" emerge packagename}}. It will most certainly break the Portage tree and render the system useless.}}

== Как можно помочь проекту Gentoo/AMD64? ==

=== Как помочь? ===

With a growing popularity of the {{Keyword|amd64}} architecture, we also increasingly need more help. There's still much work to be done to improve the quality of Gentoo/AMD64. An average user can help us by: 

* Filing general bug reports.
* Testing software that does not yet have the {{Keyword|~amd64}} keyword.
* Participating in the [[Project:Arch Testers|Arch testers project]].
* Help answering questions on the mailing lists, forums and IRC channels.
* Sending patches.

== Другие ресурсы ==

=== Где можно получить помощь или больше информации по Gentoo/AMD64? ===

If any of your questions wasn't answered here, you can try other resources listed on [[Handbook:AMD64|our project homepage]]. You can also ask us at {{IRC|gentoo-amd64}} on chat.freenode.net, [https://forums.gentoo.org/viewforum-f-46.html Gentoo/AMD64 Forums], or on the {{Mail|gentoo-amd64@lists.gentoo.org}} mailing list.

[[Category:Core system]] {{Migrated|originalauthors= Simon Stelling, Luis Medinas, Gerald J. Normandin Jr., Xavier Neys, nightmorph+}}
