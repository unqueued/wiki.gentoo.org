<languages />


{{Metadata|abstract=Часто задаваемые вопросы по Gentoo Linux/AMD64}}

Это статья с ответами на часто задаваемые вопросы по Gentoo Linux/AMD64.

=== Введение к статье ===

Этот документ содержит наиболее часто задаваемые вопросы о Gentoo/AMD64, и мы надеемся, что представленная информация будет полезной. Некоторые из этих вопросов можно найти на форумах, в IRC или списках рассылки. Если у вас есть предложения или вопросы по этому ЧаВо, то вы можете прислать e-mail на {{Mail|amd64@gentoo.org}} (язык общения — английский. — Прим. пер.). 

== Установка ==

=== В чём разница между AMD64 и EM64T? ===

Оба понятия относятся к 64-битным процессорам, от AMD (AMD64) и Intel (EM64T) соответственно. AMD производит 64-битные процессоры в рамках серий Athlon 64, Turion, Neo, Phenom и Opteron. Intel — в рамках серий Core 2, Core i "X", Celeron, Xeon и Pentium (все основанные на архитектуре Core 2). [http://en.wikipedia.org/wiki/Em64t#Intel_64 Последние несколько версий] старых чипов Pentium 4 и Xeon также поддерживают EM64T. 

AMD представила первые 64-битные процессоры раньше Intel. В силу этих (исторических) причин архитектура всех x86-64-совместимых процессоров обозначается ключевым словом amd64. Так что "AMD64" — это общее обозначение для 64-битных чипов от AMD и Intel.

=== Какие CFLAGS использовать на AMD64/EM64T? ===

Следует использовать простые <code>CFLAGS</code>, чтобы избежать проблем с системой в будущем. Поддерживаемые на системах с AMD и Intel (EM64T) <code>CFLAGS</code>:  <code>-O2 -march=native -pipe</code>. 

=== Какое ядро использовать на AMD64? ===

Вы можете использовать большую часть ядер, доступных через Portage (пакетов *-sources). Мы рекомендуем <code>gentoo-sources</code>, поскольку это ядро спроектировано специально для Gentoo Linux. Оно содержит множество ориентированных на AMD64 патчей, и поэтому является единственным ядром, официально поддерживаемым проектом Gentoo/AMD64. 

Убедитесь, что параметр ядра <code>IA32_EMULATION</code> включён: 

{{RootCmd|cd /usr/src/linux
|make menuconfig}}

{{Kernel|Включение эмуляции IA32|<pre>
Executable file formats / Emulations  --->
  [*] IA32 Emulation
</pre>
}}

{{Warning/ru|Отключение этого параметра может привести к ошибкам на системах с multilib.}}

=== Увеличится ли производительность, если использовать 64-битную систему вместо 32-битной? ===

Это сложный вопрос. В некоторых случаях наблюдается улучшение производительности, в некоторых — нет. В повседневной работе между 64- и 32-битностью нет больших различий. На 64-битных системах как правило быстрее выполняются вычисления над числами с плавающей запятой, они часто используются мультимедиа-приложениями и приложениями для 3D-рендеринга. Возможно, вам будет полезна эта [http://www.linux.com/articles/114024?tid=121 статья] (и [http://www.linux.com/feature/43873 связанная с ней]). Также есть отличная [https://forums.gentoo.org/viewtopic-t-349691.html тема] на нашем [https://forums.gentoo.org форуме].

=== What is multilib and how can I use it? ===

Every AMD64 processor is able to run 32bit code as well as 64bit code. However, when you have a 32bit application, you are unable to mix it with 64bit libraries or vice versa. You can, however, natively run 32bit applications if all shared libraries it needs are available as 32bit objects. You can choose whether you want multilib support or not by selecting the according profile. The default is a multilib-enabled profile. 

{{Warning|Currently you cannot switch from a no-multilib to a multilib-enabled profile, so think over your decision twice before you use the no-multilib profile.}}

=== How do I create a 32bit chroot? ===

Please read the [http://www.gentoo.org/proj/en/base/amd64/howtos/chroot.xml 32bit chroot guide].

=== Can I upgrade from my x86 system to amd64 by doing emerge -e @world? ===

Due to several differences between an <code>x86</code> and an <code>amd64</code> installation, it is impossible to upgrade. Please perform a fresh install. The installation is slightly different than an x86 one, so please use the [http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml AMD64 Handbook]. 

Also, binary files created on an x86 system most likely cannot be read by packages on an amd64 system. In particular, databases such as MySQL, innoDB, Berkeley DB, SQLite, OpenLDAP, etc. cannot simply be copied as-is. You will need to dump the database into an architecture-independent format, such as a text file, before attempting to restore it on an amd64 system.

=== Can I use Reiser4? ===

Reiser4 is not available from any kernel offered by the Gentoo Kernel project, thus the AMD64 team doesn't support it. The answer is no. 

== Hardware ==

=== Will my binary NVIDIA/ATI drivers work? ===

Yes, NVIDIA and ATI provide drivers that work on AMD64. You can install them by executing <code>emerge nvidia-drivers</code> or <code>emerge ati-drivers</code>. If you have more questions about these drivers, you should read the [[NVidia/nvidia-drivers|Nvidia guide]] or the [[ATI FAQ]].

=== How do I use Cool'n'Quiet/PowerNow/SpeedStep features? ===

You have to compile your kernel with support for these features. You just need to enable the features below: 

{{Kernel|Kernel options for Cool'n'Quiet/PowerNow/SpeedStep|<pre>
Power management options --->
  [*] Run-time PM core functionality
  [*] ACPI (Advanced Configuration and Power Interface) Support --->
    <*>   Processor
    <*>     Thermal Zone
  CPU Frequency scaling --->
  [*] CPU Frequency scaling
         Default CPUFreq governor (ondemand) --->
  -*-   'performance' governor
  <*>   'userspace' governor for userspace frequency scaling
  -*-   'ondemand' cpufreq policy governor
  <*>   ACPI Processor P-States driver
  <*>   AMD Opteron/Athlon64 PowerNow!
-*- CPU idle PM support
</pre>
}}

Then <code>emerge cpufrequtils</code> and edit {{Path|/etc/conf.d/cpufrequtils}} with your favorite editor. 

{{File|/etc/conf.d/cpufrequtils|Example configuration|<pre>
# Options when starting cpufreq (given to the 'cpufreq-set' program)
START_OPTS="--governor ondemand"
  
# Options when stopping cpufreq (given to the 'cpufreq-set' program)
STOP_OPTS="--governor performance"
</pre>
}}

Now you only have to run <code>rc-update add cpufrequtils boot</code> to make sure it is started every time you boot. 

{{Note|You may want to read the [[Power management/HOWTO|Power Management Guide]] for more tips on CPU power management.}}

== Applications ==

=== Can I get Adobe Flash working? ===

Yes. Just <code>emerge adobe-flash</code>. Be sure to read any messages displayed by the ebuild once it has been emerged. 

=== I want to install package foo, but emerge says: (masked by: ~amd64 keyword) ===

This means that the package is still in the 'testing' tree. Please read <code>man portage</code> or the [http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=3&chap=3 Mixing Software Branches] chapter of the [http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml AMD64 Handbook] for more information.

=== I want to install package foo, but emerge says: (masked by: missing keyword) ===

This means that the package has not been tested yet. It does ''not necessarily'' mean that the package does not work. You can unmask it by accepting another architecture for the package. The following example shows you can tell Portage to accept any keyword for a given package. 

{{RootCmd|echo "category/packagename **" >> /etc/portage/package.accept_keywords
|emerge packagename}}

If it works fine for you, please let us know and file a bug on [https://bugs.gentoo.org/ Gentoo's Bugzilla], so that the AMD64 team can keyword the package and other users can benefit from your test. 

{{Warning|Do not try commands like <code>ACCEPT_KEYWORDS{{=}}"~x86" emerge packagename</code>. It will most certainly break your tree.}}

== How can I help the Gentoo/AMD64 project? ==

=== How can I help? ===

With a growing popularity of the amd64 architecture, we also increasingly need more help. There's still much work to be done to improve the quality of Gentoo/AMD64. An average user can help us by: 

* Filing general bug reports
* Testing software that does not yet have the <code>~amd64</code> keyword
* Participating in the [http://www.gentoo.org//proj/en/base/amd64/at/ Arch Testers project] 
* Help answering questions on the mailing lists, forums and IRC channels
* Sending patches

== Other Resources ==

=== Where can I get more help or information about Gentoo/AMD64? ===

If any of your questions wasn't answered here, you can try other resources listed on [http://www.gentoo.org/proj/en/base/amd64/ our project homepage] . You can also ask us at <code>#gentoo-amd64</code> on <code>chat.freenode.net</code>, [https://forums.gentoo.org/viewforum-f-46.html Gentoo/AMD64 Forums], or on the <code>gentoo-amd64@lists.gentoo.org</code> mailing list.

== Acknowledgements ==

We would like to thank the following authors and editors for their contributions to this guide:


* Simon Stelling
* Luis Medinas
* Gerald J. Normandin Jr.
* Xavier Neys
* nightmorph

[[Category:Core system]]
