{{InfoBox stack
|{{InfoBox homepage|http://rubyonrails.org|header=true}}
|{{InfoBox wikipedia|Ruby on Rails}}
|{{InfoBox odoc|http://guides.rubyonrails.org/|raw=true}}
|{{InfoBox ohloh}}
}}

Rails or [[Ruby]] on Rails is a web application framework.

= Installation =

Install {{Package|dev-ruby/rails}}:

{{Emerge|dev-ruby/rails}}

== Setup ==

{{RootCmd
|rails new ror
|cd ror
|prompt=root /var/www #}}

{{RootCmd|rails server
|prompt=root /var/www/ror #}}

Point a web browser to http://0.0.0.0:3000. are now riding rails via WEBrick. This is only for testing, not production.  WEBrick could probably be used for production if it were behind [[nginx]] or an accelerator proxy such as [[varnish]].

=== Configuration ===

Rails is not {{c|eselect}} aware, this might come in handy to resolving some issues, but be aware that bundle install will blast things away.

{{RootCmd|eselect rails list}}

{{RootCmd|eselect rails set 1}}

== Passenger via apache ==

Emerge passenger:

{{Emerge|www-apache/passenger}}

Add <code>-D PASSENGER</code> to the <var>APACHE2_OPTS</var> variable in Apache's config:

{{fileBox|filename=/etc/conf.d/apache2|title=add -D PASSENGER to apache's config|1=
APACHE2_OPTS="-D PASSENGER"
}}

Passenger needs Apache to relax the rules a little bit. Edit the {{Path|/etc/apache2/modules.d/30_mod_passenger.conf}} file and insert relaxed settings before the closing </IfDefine> tag:

{{FileBox|filename=/etc/apache2/modules.d/30_mod_passenger.conf|title=apache 2.2|lang=apache|1=
<Directory />
	Options FollowSymLinks
	AllowOverride all
	Order allow,deny
	Allow from all
</Directory>
</IfDefine>
}}

{{FileBox|filename=/etc/apache2/modules.d/30_mod_passenger.conf|title=apache 2.4|lang=apache|1=
<Directory />
	Options FollowSymLinks
	AllowOverride all
	Require all granted
</Directory>
</IfDefine>
}}

Backup the original Apache vhost:

{{RootCmd|mv /etc/apache2/vhosts.d/00_default_vhost.conf /etc/apache2/vhosts.d/00_default_vhost.conf.backup}}

Drop in the passenger vhost file for Apache:

{{FileBox|filename=/etc/apache2/vhosts.d/00_default_vhost.conf|lang=apache|1=
<IfDefine DEFAULT_VHOST>
Listen 80
NameVirtualHost *:80
<VirtualHost *:80>
      DocumentRoot /var/www/ror/public    
#  RailsBaseURI /
  RailsEnv development
      <Directory /var/www/ror/public>
Options -MultiViews
      </Directory>
</VirtualHost>
</IfDefine>
}}

{{RootCmd|/etc/init.d/apache2 restart}}

Point a web browser to http://0.0.0.0 or http://127.0.0.1 or http://localhost and your riding rails via passenger now.

== See also ==

* [[Ruby]] - The programming language used to build Rails.

== External resources ==

* http://guides.rubyonrails.org/
* http://planetrubyonrails.com/
* http://api.rubyonrails.org/
* http://rubyonrails.org/screencasts
* http://railstutorial.org
* http://railscasts.com/

[[Category:Web application]]
