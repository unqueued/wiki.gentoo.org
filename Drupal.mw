'''Drupal''' is a powerful [[PHP]] content management system (CMS).

== Preinstall ==
Edit /etc/portage/make.conf and add "apache2 php gd" to your use flags.
{{File|/etc/portage/make.conf|Portage configuration file|<pre>
USE="... apache2 php gd ..."
</pre>}}

Edit /etc/portage/package.use and add "dev-lang/php mysql mysqli postgres" to PHP use flags then merge up LAMP.
{{File|/etc/portage/package.use|Portage configuration file|<pre>
dev-lang/php mysql mysqli postgres
</pre>}}

{{Emerge|apache mysql php}}

Scroll up into the emerge log and setup the root user for mysql running the command printed.

Edit /etc/conf.d/apache2 and add '-D PHP5' to your APACHE2_OPTS line.

Start up your LAMP stack
{{RootCmd|/etc/init.d/mysql start}}
{{RootCmd|/etc/init.d/apache2 start}}

Set the LAMP stack to start upon boot
{{RootCmd|rc-update add mysql default}}
{{RootCmd|rc-update add apache default}}

== Install ==

=== Unmask ===

At the time of writing, www-apps/drupal is masked as experimental only. If you run a "stable" system, you'll have to add it to your /etc/portage/package.keywords.
{{File|/etc/portage/package.keywords|Portage configuration file|<pre>
www-apps/drupal
</pre>}}

=== Install ===
Now we can get on with emerging:

{{Emerge|drupal}}

If you have the vhosts USE flag set, you will have to run webapp-config manually.

{{RootCmd|webapp-config -I -h <FQDN_hostname> -u root -d /drupal drupal 4.6.2}}

where <FQDN_hostname> is the FQDN (fully qualified domain name) hostname of your virtual host.

If you do not have the vhosts USE flag set, then webapp-config will get run for you during the emerge.

==== MySQL ====
It is a good idea to setup an unprivileged mysql user and database for joomla.

{{RootCmd
|mysql -u root -p
|output=<pre>
mysql> CREATE DATABASE IF NOT EXISTS `joomla` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;
mysql> CREATE USER 'joomla'@'localhost' IDENTIFIED BY 'dbpass!!! change me';
mysql> GRANT LOCK TABLES, SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `joomla`.* TO 'joomla'@'localhost' IDENTIFIED BY 'dbpass!!! change me';
mysql> \q
</pre>}}

In the web page enter joomla for username and joomla for database

Press next

*Step 3

==== Ftp ====
Select no for now.

*Step4

Delete the install directory, and go to http://127.0.0.1/joomla/index.php to see your website, and http://127.0.0.1/joomla/administrator/index.php to administer your website.

== Extensions ==

Drupal can be crafted into many things with extensions.  It can be used for forums, chat, classified ads, web stores, blogs, guest books, and more.

[http://extensions.joomla.org/extensions joomla extensions]

[[Category:Web application]]
