<languages/>
{{Lowercase title}}
{{InfoBox stack
|{{InfoBox homepage|http://tmux.sourceforge.net|header=true}}
|{{InfoBox wikipedia}}
|{{InfoBox ohloh}}
}}

<tt>tmux</tt> ('''t'''erminal '''mu'''ltiple'''x'''er) программа позволяющая создать несколько терминалов (или окон), в каждом из которых можно запустить отдельно программу. <tt>tmux</tt> может быть отсоединен от экрана и продолжать работать в фоновом режиме, а затем снова быть соединенным.<ref>http://man7.org/linux/man-pages/man1/tmux.1.html</ref> Пользователи, знаокмые со [[Screen]] могут найти tmus хорошей ему альтернативой.

== Установка ==

=== USE flags ===

{{USEflag|package=app-misc/tmux|desc=Optional USE flags for {{Package|app-misc/tmux}}:
|debug
|vim-syntax++yes
}}

=== Emerge ===

Install {{Package|app-misc/tmux}}:

{{Emerge|tmux}}

== Конфигурация ==

Стандартная установка <tt>tmux</tt> не предполагает установки глобального файта конфигурации ({{Path|/etc/tmux.conf}}), или файла конфигурации для пользователя ({{Path|~/.tmux.conf}}).Примеры файлов конфигурации есть в каталоге {{Path|/usr/share/doc/tmux-2.0/examples}}.

=== Package examples ===

To see a list of configuration files, run the following command:

{{Cmd|ls /usr/share/doc/tmux-2.0/examples|output=<pre>
h-boetes.conf.bz2  n-marriott.conf.bz2  screen-keys.conf.bz2  t-williams.conf.bz2  vim-keys.conf.bz2
</pre>}}

Then use <tt>cp</tt> to move one of the files to either the global location (which will affect all users) or to the user's home directory.

=== Пример файла конфигурации ===

Пример файла конфигурации {{Path|~/.tmux.conf}}:

{{FileBox|filename=~/.tmux.conf|1=
set -g default-terminal "screen-256color"   # Use 256 colors
set -g status-utf8 on                       # Enable utf-8
set -g history-limit 100000                 # Scrollback buffer number of lines
 
# Start window indexing at one instead of zero
set -g base-index 1
 
# Set the prefix key and some key bindings to match GNU Screen
set -g prefix C-a
bind-key C-a last-window
 
# Key bindings for horizontal and vertical panes
unbind %
bind {{!}} split-window -h
bind - split-window -v
 
# Enable window titles
#set -g set-titles on
 
# Window title string (uses statusbar variables)
set -g set-titles-string '#T'
 
# Status bar with load and time
set -g status-bg '#4e4e4e'
set -g status-fg '#ffffff'
set -g status-left ' '
set -g status-right '#[bg=#bbbbbb]#[fg=#000000]#(cut -d " " -f -3 /proc/loadavg) #[bg=#4e4e4e]#[fg=#ffffff]#(
date +" %H:%M ")'
set -g window-status-format '#I #W'
set -g window-status-current-format ' #I #W '
setw -g window-status-current-bg '#55ff55'
setw -g window-status-current-fg '#000000'
 
# Pane border colors
set -g pane-active-border-fg '#bbbbbb'
set -g pane-border-fg '#555555'
 
# Bind to reload config
bind r source-file ~/.tmux.conf
}}

=== Расширения ===

A few [[Tmux/plugins|plugins]] are available for <tt>tmux</tt>. See the sections below for available options.

==== tmux-mem-cpu-load ====

<tt>tmux-mem-cpu-load</tt> is a small program designed to monitor system activity in the status line of <tt>tmux</tt>. [[Tmux/plugins/tmux-mem-cpu-load|See the <tt>tmux-mem-cpu-load</tt> sub-article]] for more details on the installation process.

==== Tmux Resurrect ====

<tt>tmux-resurrect</tt> восстанавливает среду <tt>tmux</tt> после перезагрузок системы. See the [[Tmux/plugins/Tmux Resurrect|Tmux Resurrect sub-article]] for more details on the installation process.

== Usage ==

=== функциональные комбинации клавиш ===

tmux может управляться из присоединенного клиента посредством клавиатурных комбинаций ''системная кнопка с нажатой клавишей'' ({{Key|Ctrl}}+{{Key|b}} по умолчанию) за которой следует нажатие ''коммандной'' кнопки.

После нажатия {{Key|Ctrl}}+{{Key|B}} следующие клавиатурные комбинации могут быть использованы:

Общие комбинации

* {{Key|?}} = Показать все клавиатурные комбинации.
* {{Key|d}} = Отсоеденить текущий клиент. 
* {{Key|:}} = Перейти к командной строке tmux

==== Создание и управление окнами ====

* {{Key|c}} = Создать новое окно 
* {{Key|n}} = Перейти к следующему окну. 
* {{Key|p}} = Перейти к предыдущему окну. 
* {{Key|l}} = Перейти к предыдущему выбранному окну. 
* {{Key|0-9}} = Выбрать окна от 0 до 9. 
* {{Key|'}} = Перейти к выбору индекса окна. Потом необходимо ввести номер о название чтобы перейти к соответствующему окну. 
* {{Key|,}} = Переименовать текущее окно. 
* {{Key|w}} = Выбрать окно в интерактивном режиме. 
* {{Key|:}}, then type list-windows {{Key|enter}} = Display the list of windows.

==== Создание и управление панелями ====

* {{Key|"}} = Разделить текущую панель на две, верхную и нижнию. 
* {{Key|%}} = Разделить текущую панель на две, левую и правую. 
* {{Key|o}} = Выбрать следующую панель отображаемую в данном окне. 
* {{Key|;}} = Перейти в предыдущей активной панели
* {{Key|{}} = Поменять местами текущую панель с предыдущей
* {{Key|<nowiki>}</nowiki>}} = Поменять местами текущую панель со следующей панелью.
* {{Key|Ctrl}}+{{Key|o}} = Rotate the panes in the current window forwards. * {{Key|Alt}}+{{Key|1}} to {{Key|Alt}}+{{Key|5}} = Arrange panes in one of the five preset layouts: even-horizontal, even-vertical, main-horizontal, main-vertical, or tiled. * {{Key|x}} = Kill the current pane. * {{Key|!}} = Break the current pane out of the window

==== Copy, paste, and scroll operations ====

The keys available depend on whether emacs (default) or vi mode is selected. The mode-keys option can be set in {{Path|.tmux.conf}} for vi mode.

* {{Key|[}} = Enter copy mode to copy text or view the history.
* {{Key|]}} = Paste the most recently copied buffer of text.
* {{Key|#}} = List all paste buffers.
* {{Key|-}} = Delete the most recently copied buffer of text.

=== Session control ===

==== Start session ====

Once started <tt>tmux</tt> creates a socket for the session in {{Path|/tmp/S-<UID>/<Session Name>}}

<tt>tmux</tt> can be started with the following command:

{{Cmd|tmux}}

Or, to give the session a name on start up, run:

{{Cmd|tmux new-session -s portage}}

==== Listing sessions ====

List <tt>tmux</tt> sessions to see existing session information:

{{Cmd|tmux ls|output=<pre>
0: 1 windows (created Thu Apr  9 09:09:03 2015) [180x65] (attached)
</pre>}}

When listing sessions the name of the session should appear as the first item in the session information line. It is possible to see from the output above the session was created without a name, hence the session is to be referenced as <code>0</code>.

Another way to list sessions is by typing out the long <code>list-sessions</code> argument.

{{Cmd|tmux list-sessions|output=<pre>
0: 1 windows (created Thu Apr  9 09:09:03 2015) [180x65] (attached)
</pre>}}

The exact same output as the previous list command is displayed.

==== Renaming a session ====

Simply using "<tt>tmux</tt>" to start a session will not provide the session with a nice, human readable name.

If the default session name is not descriptive enough (<code>0</code> does not tend to describe much), then a session can be renamed. Suppose Larry the cow started <tt>tmux</tt> without specifying a session name on start up. He begins working on compiling a new version of Portage, and wants to change the session name to reflect his current task. To change the session name he would first assume control of <tt>tmux</tt> by pressing the magic key stroke: {{Key|Ctrl}}+{{Key|b}}, then {{Key|:}} which will drop focus into the <tt>tmux</tt> control line. By default the line should turn yellow. Once there he would issue:

{{Cmd|prompt=:|rename-session -t 0 portage}}

Where <code>0</code> is the existing (default) session name and <code>portage</code> is the desired name for the new session. To rename when detached from a <tt>tmux</tt> session issue:

{{Cmd|tmux rename-session -t 0 portage}}

==== Resuming a session ====

After the session is detached, all the active terminals remain active and so do commands that did not finish yet. To resume a session use <code>attach -t <session_name></code>.

{{Cmd|tmux a -t portage}}

Or use the long way of attaching to an existing session:

{{Cmd|tmux attach -t portage}}

==== Daemon-like operation ====

To start a command in a <tt>tmux</tt> session ''without'' attaching to the session (like a daemon) use <code>new-session -d</code> followed by the command to execute in quotes:

{{Cmd|tmux new-session -d 'emerge -uDNvp @world'}}

== See also ==

* [[Screen]] - An alternative to tmux.

== External resources ==

* [https://danielmiessler.com/study/tmux/ An excellent <tt>tmux</tt> primer].

== References ==

{{reflist}}

[[Category:Software]]
