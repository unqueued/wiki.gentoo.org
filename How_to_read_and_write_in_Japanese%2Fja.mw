<languages />

このガイドでは、非日本語環境でどのように日本語を読み書きするか説明します。このガイドは、個人的な知識もしくは経験を元に自由に編集できます。(訳注：自由に編集できるのは翻訳元である英語のガイドです)

== 要件 ==

日本語および日本の文字をサポートするために、いくつかのツール、ライブラリ、およびそれらをインストールするための知識が必要です。

=== 日本語フォント ===

ほとんどの非日本語環境は日本語フォントをインストールしていません。単にユーザーが日本語のキャラクターをキーボードから入力しようとした時でさえ、画面上の文字が出るはずであろう場所に小さい長方形しか見られません。

=== 入力メソッド ===

日本語で読み書きするために最初にしなければならないことは、キーボードで日本語の文字を入力することです。これは"入力メソッド"と呼ばれるソフトを通して行われます。今のところ、日本語については２つの標準的な方法があります。"anthy"と"mozc"です。

それらのソフトウェアで"ta"とタイプすると、ワードプロセッサーにひらがなの'''た'''が入力されます。入力メソッドの動作に関連したいくつかの単純な操作で、ひらがなの'''た'''をカタカナの'''タ'''に簡単に変換できます。

同様に、"nihon"は'''にほん'''を入力することになり、さらに別の単純な操作で漢字 '''日本'''に変換できます。

{{Note/ja|このガイドの目的は"anthy"や"mozc"がどのように動作するかを説明することではありません。これらソフトウェアの詳細についてはそれぞれのドキュメントを参照してください。}}

=== IME ===

さらに、日常使用する第一言語のための入力メソッドから、日本語の入力メソッドに切り替える手段が必要でしょう。この機能は{{Package|app-i18n/ibus}}、{{Package|app-i18n/scim}}、{{Package|app-i18n/fcitx}}のようなIME (Input Method Editor)と呼ばれる別のソフトウェアから提供されます。　 

一度それらをインストールすると、ユーザーはキーの組み合わせもしくはアイコントレーにあるアイコンをクリックすることで、ある言語の入力メソッドから日本語の入力メソッドに切り替えることが可能になります。　

== インストール ==

=== 日本語フォント ===

最低限、{{Package|media-fonts/kochi-substitute}} パッケージをインストールしてください。

{{Emerge|kochi-substitute}}

追加で次のようなソフトが使用可能です。
* {{Package|media-fonts/ja-ipafonts}}
* {{Package|media-fonts/vlgothic}}
* {{Package|media-fonts/mplus-outline-fonts}}
* {{Package|media-fonts/monafont}}
* {{Package|media-fonts/ipamonafont}}
* {{Package|media-fonts/sazanami}}

=== 入力ツール ===

''ibus''もしくは''scim''が推奨されます。

ibusを使用するために、{{Package|app-i18n/ibus-anthy}}をインストールしましょう。

{{Emerge|ibus-anthy}}

====  mozc ====

<tt>mozc</tt>は{{Package|app-i18n/mozc}}パッケージに含まれています。

{{Note/ja|''mozc''は、過去何年も良好に動作してきた''anthy''より優れていると評判です。''mozc''の利点として、入力の途中で即座に変換候補を表示すること、およびユーザーの癖や文脈から最も適した候補を提示できるより良い学習システムを持つことがあげられます。また''mozc''は、ひらがな入力をカタカナ（例：デフォルトではスペースを押す前にF7を押す）、もしくは他のモードに素早く切り替えるための''ATOK''のメカニズムを提供します。}}

{{Note/ja|''mozc''を使う時、いくつかの問題が発生するかもしれません。''ibus-preferences''グラフィカルユーティリティで入力メソッドとして''mozc''を選択後、キーボードアイコントレーに''mozc''アイコンが表示されない可能性があります。{{Path|gnome settings}} --> {{Path|Countries & Languages}}を開き、すべての日本語入力メソッド（今の場合は"anthy"）を消去して、"Japanese(Mozc)"を追加してください。
}}

==== ログイン時、ibusデーモンを起動する ====

{{Path| ~/.xprofile}}ファイルに以下の行を追加して、一旦ログアウト後、再度ログインしてください。

{{FileBox|filename=~/.xprofile|lang=bash|1=
export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
ibus-daemon -drx
}}

これでログイン時にibusデーモンが起動するでしょう。

==== 設定 ====

入力メソッドエディターを設定するために、一般ユーザーで次のコマンドを入力してください。

{{Cmd|ibus-setup}} 

別の方法として、[[GNOME]]を使用している場合は、サーチバーで"ibus"と入力し、"ibus-preferences"を起動してください。

In the dialog box that appears, click on the {{Path|Input method}} tab and add the "japanese-anthy" method. Then return to the {{Path|General}} tab and define a key combination as a keyboard short cut for switching the input method.

=== Latex ===

Here are some additional requirements to write Latex files in Japanese.

==== ibus-qt ====

When using editor aiming at writing Latex files such as TexMaker or TexStudio, ibus crashes each time a Latex command is entered (specially after entering the {{Key|{}} char. To solve this kind of malfunctioning install {{Package|app-i18n/ibus-qt}}:

{{Emerge|app-i18n/ibus-qt}}

==== CJK and xetex support ====

In order to write Japanese chunks in Latex files, add support for CJK languages and for [[http://en.wikipedia.org/wiki/XeTeX xetex]] in Texlive.

This can be accomplished by adding or modifying the following lines in {{Path|/etc/portage/package.use}}:

{{FileBox|title=Enabling cjk and tetex support|filename=/etc/portage/package.use/latex|1=
app-text/texlive cjk xetex
app-text/texlive-core cjk xetex
}}

Then reinstall the packages:

{{Emerge|params+=--newuse|app-text/texlive app-text/texlive-core}}

Here is a working short LaTeX sample:

{{FileBox|filename=japanese.tex|lang=latex|1=
\documentclass{article}
\usepackage{CJKutf8}
\usepackage{color}
 
\begin{document}
 
\begin{CJK}{UTF8}{min}
\section{One simple example}
\textcolor{red}{これは赤いです。}
\\
私は日本語で書けます。
\\
But I can also write with latin characters
\end{CJK}
 
\end{document}
}}

{{Note|In the <code>\begin{CJK}{UTF8}{min}</code> command in the example above, the third argument defines the font. Here <code>{min}</code> is used for Mincho, but other supported fonts are Gothic (<code>{goth}</code>) and Maru Gothic (<code>{maru}</code>).}}

==== Editor configuration ====

To compile and visualize the output of the sample above Texmaker or Texstudio editor needs to be configured properly.

Open Texmaker, and go to {{Path|Options}} -> {{Path|Configure Texmaker}}. Under the {{Path|Commands}} tab change the following:

* At the LaTeX line, change "latex" with "platex". 
* At the Dvipdfm line, change "divipdfm" with "dvipdfmx".

Through the {{Path|Fast compile}} tab, choose "Latex + Dvipdfm + View PDF".

Finally go to the {{Path|Editor}} tab, choose UTF8 encoding and deselect {{Path|On the fly}} on the dictionary line.

== See also ==

* [[IBus|Ibus]]
* [[TeX_Live| Tex Live]]

[[Category:Japanese]]
