{{InfoBox stack
|{{InfoBox github|tokiclover/browser-home-profile|header=true}}
}}

Browser-Home-Profile is a [[shell]] script that manage web browsers home profile and cache directories similar to Profile-Sync-Daemon[//wiki.archlinux.org/index.php/Profile-sync-daemon] bash script. However, bhp does not touch the underlying profile and cache directories contrary to psd with symbolic links which can render the profile/cache direcories unusable; it just bind mount temporary file system (see [[tmpfs]] for more info) on the directories leaving the default profile and cache directories usable no matter what may happen.

And lastly the script can be sourced in ~/.profile or ~/{,ba,z}shrc, by setting up the necessary directory first; and then, sub-sequent bhp commands in a terminal will, first, decompress the archived profile and cache directories and finally update the tarball archives by maintaining an extra backup archive.

So, an empty profile is thus the default when the script is sourced. Still, there is [[bash]] and [[zsh]] alternative which are optimized to be integrated into ~/.bashrc[//github.com/tokiclover/dotfiles/blob/master/bin/bhp.bash] or ~/.zshrc[//github.com/tokiclover/dotfiles/blob/master/bin/bhp.zsh].

A module[//github.com/tokiclover/zprezto] for zprezto[//github.com/sorin-inescu/zprezto] is also available for [[zsh]].

== Installation ==

First getting bar-overlay[//github.com/tokiclover/bar-overlay] is necessary only for the POSIX shell script, else, follow the links for the other variant tailored to be sourced in a (login) shell.

[[layman]] is optional in this process especiallay if [[:/etc/portage/repos.conf]] configuration set up is used which make it easy to add new overlays by simply adding a {{Path|repos.conf}} file. Else, the easy way is using [[layman]][git] (with git USE flag enabled.)

{{RootCmd|layman -a bar}}

{{Emerge|www-misc/browser-home-profile}}

== Configuration ==
=== Internal ===
There is nothing in particular to configure if theses scripts are used as standalone shell script. Just checkout the various options offered, notably the compressor command line switch.

When sourced, bhp.{ba,z}sh shell scripts offer the opportunity to finely set up the options and sub-profile by setting bhp associative array. zprezto module use ''zstyle'' framework for configuration, refer to the {{Path|README.md}} file for more info.

=== External ===
When source, the first login shell will prompt to enter a pass phrase to bind mount
the profile and cache directories to randomly generated temporary directories.
Or else, similarly, a set up phase is required when any variant is executed or sourced
the first time. Sub-sequent call will maintain the tarball archives backup.

So setting up sudo to give users the ability to mount drectories might be necessary if
a pass phrase less set up is required. Fire up ''visudo'' in order to add a mount command
group along with its execution permission set up.

{{FileBox|filename=[[:/etc/sudoers]]|title=sudoers example|lang=ini|1=
[...]
Cmnd_Alias	MOUNT = /bin/mount, /bin/umount, /usr/bin/udevil, /usr/bin/eject
[...]
%adm ALL=(ALL) NOPASSWD: MOUNT, HALT, SUSPEND, PRINTING
}}
{{Note|Of course the bracketed elipses should be removed; and the others command aliases should be removed as well if not used. Second, adding users to tho @adm group should be done as well with `gpasswd --add $USER adm' to get the desired effect.}}

== See also ==

* [[tmpfs]]
* [[Firefox]]
* [[Chromium]]
* [[Epiphany]]

[[Category:Stub]]
