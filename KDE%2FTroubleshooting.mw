<languages />
<translate>

<!--T:1-->
This article contains various sections to help KDE users troubleshoot their systems.

== Rebuilding the application database == <!--T:9-->

<!--T:10-->
If the KMenu lacks any application or the whole application list, the KDE application database probably needs to be rebuilt. This is also a possible fix for any KMenu related issues, like missing icons.

<!--T:11-->
{{Cmd|kbuildsycoca5 --noincremental}}

== Akonadi complains about the MySQL config == <!--T:12-->

<!--T:13-->
Start by checking the permissions in {{Path|/usr/share/config}}. If they're 700, update them to 755 recursively.

<!--T:14-->
{{RootCmd
|chmod -R 755 /usr/share/config
}}

<!--T:15-->
If that doesn't solve the error, open the akonadi configuration and change the default MySQL config. If the tray is not running, start {{c|akonaditray}}, select "Akonadi Server Configuration", activate "Use internal MySQL server" and then press the test button. To use the MySQL server and not the embedded executable, make sure that MySQL is running.

== Unable to mount devices using KDE Plasma Device Notifier ==

If the error message "''You are not authorized to mount this device.''" is being displayed when trying to mount devices by clicking on them in the KDE Plasma Device Notifier (USB-stick-like icon in the system tray), add the following file to the configuration:

{{FileBox|filename=/etc/polkit-1/rules.d/10-udisks.rules|lang=c|1=
polkit.addRule(function(action, subject) {
	if (action.id.indexOf("org.freedesktop.udisks2.filesystem-mount") == 0 && subject.isInGroup("plugdev")) {
		return polkit.Result.YES;
	}
});
}}

This will allow all users who are members of the {{c|plugdev}} group to mount devices using the Device Notifier. 

Use the following command to add users to this group:

{{RootCmd|gpasswd -a <var>&lt;username&gt;</var> plugdev}}

{{Note|A reboot may be required for the changes to take effect.}}

== Black screen after login ==

Make sure {{Path|~/.bash_profile}} does not have any interactive components like [[keychain]]. Check {{Path|~/.xsession-errors}} for the prompt for input.

== Screen Tearing/Flicker when using Radeon graphics drivers ==

If there is severe flickering or "tearing" when using Radeon based graphics cards, it may be necessary to change the Compositor sync settings to something other than the default "Automatic":

{{CodeBox|title=Modifying Compositor sync settings|1=
System Settings --> Display Monitor --> Compositor --> VSync
}}

== Delayed response of KMenu, krunner etc. ==

Remove <code>gles2</code> USE flag and rebuild affected packages, most importantly the (installed) packages from the <code>dev-qt</code> category, as well as {{Package|kde-frameworks/plasma}} and {{Package|kde-plasma/kwin}}.

== Missing shutdown/reboot/suspend/hibernate buttons (with consolekit) ==

Make sure that {{package|kde-plasma/powerdevil}} and {{package|sys-power/upower}} are installed. Also check that the user is in the {{c|users}} group.

If {{package|x11-misc/sddm}} is used, run the following command and make sure it matches the output including <code>nox11</code>:

{{Cmd
|grep pam_ck_connector /etc/pam.d/system-login|output=<pre>
session         optional        pam_ck_connector.so nox11
</pre>}}

Another option is to create the following [[polkit]] rule for suspend<ref>https://bugs.kde.org/show_bug.cgi?id=344456#c38</ref>:

{{FileBox|filename=/etc/polkit-1/rules.d/10-suspend.rules|lang=javascript|1=
polkit.addRule(function(action, subject) {
    if (action.id == "org.freedesktop.upower.suspend") {
        return polkit.Result.YES;
    }
});
}}

Also ensure dbus is added to the default runlevel so that it is started before logging in with sddm:
{{RootCmd
|rc-update add dbus default
}}

If all else fails, try {{package|x11-misc/lightdm}} instead.

== See also == <!--T:45-->

<!--T:46-->
* {{Bug|Gentoo%20Linux|component=KDE|search=product}}
</translate>

== References ==

<references />

[[Category:KDE]]
