{{Lowercase title}}
{{InfoBox stack
|{{InfoBox wikipedia|header=true}}
}}
'''procfs''' ('''proc'''ess '''f'''ile'''s'''ystem) is a virtual [[filesystem]] to output and change system and process information. It is generated by the [[kernel]] and mounted at {{Path|/proc}}. The information in the [[sysfs]] filesystem replaces more and more system information of procfs.

== Installation ==

=== Kernel ===

Activate the following kernel options:

{{KernelBox|title=Enable Procfs support|1=
File systems  --->
    Pseudo filesystems  --->
        <*> /proc file system support
}}

== Configuration ==

{{Note|According to [[Handbook:AMD64/Installation/System#Creating_the_fstab_file]] this step seems to no longer be needed.}}
Change the {{Path|/etc/[[fstab]]}} to mount procfs at boot time to {{Path|/proc}}:

{{FileBox|filename=/etc/fstab|title=Adding /proc to fstab|1=
proc           /proc             proc        nosuid,nodev,noexec                0 0
}}

== Usage ==

See the [[Wikipedia:procfs#Linux|Wikipedia article]] for the file's purpose.

* Use <tt>cat</tt> to read the information, e.g. output the version of the currently running kernel:
: {{Cmd|cat /proc/version}}

* To set values at runtime - if possible - use <tt>echo</tt>, e.g. to enable the [[Wikipedia:Magic SysRq key|magic SysRq key]]::
: {{RootCmd|echo 1 > /proc/sys/kernel.sysrq}}

=== sysctl ===

{{InfoBox stack
|{{InfoBox wikipedia|sysctl|header=true}}
}}

<tt>sysctl</tt> is a mechanism to modify certain kernel parameters at runtime. It is part of procfs and the files are located at {{Path|/proc/sys/}}. {{Path|/usr/src/linux/Documentation/sysctl/}} contains documentation of most files.

<tt>sysctl</tt> work with keys, which can be assembled from the file path by removing the {{Path|/proc/sys}} prefix and replace the backsplash with a point. So, e.g. {{Path|/proc/sys/kernel/sysrq}} becomes ''kernel.sysrq''.

It is certainly possible to modify files in {{Path|/proc}} like performed above, however the <tt>sysctl</tt> tool (part of {{Package|sys-process/procps}}) can modify {{Path|/proc}} information in a much more structured way:

* To enable the magic sysrq key:
: {{RootCmd|sysctl kernel.sysrq{{=}}1}}

* To show all keys and their current values:
: {{RootCmd|sysctl -a}}

To configure kernel parameters at boot, add them to a {{Path|.conf}} file in {{Path|/etc/sysctl.d/}}. The recommended location for local settings is {{Path|/etc/sysctl.d/local.conf}}. The legacy file {{Path|/etc/sysctl.conf}} is also supported. To enable the magic SysRq key at boot:

{{FileBox|filename=/etc/sysctl.d/local.conf|1=
kernel.sysrq=1
}}

==== OpenRC ====

The sysctl service reads the files at boot and executes settings. The service is enabled by default.

==== systemd ====

[[systemd]] knows beside {{Path|/etc/sysctl.d/}} also {{Path|/usr/lib/sysctl.d/}} for package-provided config files.

The ''systemd-sysctl'' service is enabled by default.

[[Category:Filesystems]]
