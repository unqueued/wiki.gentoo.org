{{InfoBox stack
|{{InfoBox homepage|https://pcsclite.apdu.fr/|header=true}}
|{{InfoBox wikipedia|PC/SC}}
}}

PCSC-Lite [[Article description::implements the PC/SC international standard for PC to smartcard reader communication.]]

== Installation ==

=== Kernel ===

The kernel configuration depends on how the card reader is connected:

* For USB card reader see the [[USB]] article.
* For PC-Card card reader see the [[PC-Card]] article.
* For serial card reader enable serial support.

=== USE flags ===

{{USEflag|package=sys-apps/pcsc-lite}}

PCSC-Lite support can be enabled system-wide by setting the <code>pcsc-lite</code> USE flag:

{{FileBox|filename=/etc/portage/make.conf|lang=bash|1=
USE="... pcsc-lite ..."
}}

=== Emerge ===

Update the system so the changes can take effect:

{{Emerge|params+=--changed-use --deep|@world}}

Install PCSC-Lite:

{{Emerge|params+=--noreplace|sys-apps/pcsc-lite}}

=== Additional software ===

Install one or more of the following driver packages:

* {{Package|app-crypt/asedriveiiie-serial}} - ASEDriveIIIe serial card reader
* {{Package|app-crypt/asedriveiiie-usb}} - ASEDriveIIIe USB card reader
* {{Package|app-crypt/asekey}} - ASEKey USB SIM card reader
* {{Package|app-crypt/ccid}} - compatible CCID card reader
* {{Package|app-crypt/coolkey}} - CoolKey and CAC card reader
* {{Package|dev-libs/cyberjack}} - REINER SCT cyberJack pinpad/e-com card reader
* {{Package|sys-apps/ifd-gempc}} - GemCore based card reader
* {{Package|sys-apps/pcsc-slb-rf72-drv}} - Schlumberger Reflex 72 serial card reader
* [[OpenCT]]

== Configuration ==

USB card readers are detected automatically and work out of the box. For PC-Card and serial card readers, {{Path|/etc/reader.conf.d/reader.conf}} will need to be adjusted. See {{c|man reader.conf}} for more information.

=== Service ===

==== OpenRC ====

To start PCSC-Lite:

{{RootCmd|rc-service pcscd start}}

To start PCSC-Lite at boot time, add it to the default runlevel:

{{RootCmd|rc-update add pcscd default}}

{{Note|The PCSC-Lite daemon blocks all detected card readers for every other software.}}

== Testing ==

Start the daemon in debug mode manually:

{{RootCmd
|/etc/init.d/pcscd stop
|pcscd -a -d -f
}}

The daemon will now output all detected card readers. If a card reader is not detected, the correct driver may not have been installed. If there is a detected card reader, insert a smartcard. The daemon should inform about this event and among other things output the [[Wikipedia:Answer to reset|ATR]], e.g.:

{{CodeBox|title=ATR|1=
00000028 Card ATR: 3B 75 94 00 00 62 02 02 03 01
}}

If everything works the daemon can be killed with {{Key|Ctrl}}+{{Key|C}}.

[[Category:Smartcards]]
