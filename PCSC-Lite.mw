{{InfoBox stack
|{{InfoBox wikipedia|PC/SC|header=true}}
}}
PC/SC is the international standard for PC to smartcard reader communication, which is implemented by PCSC-Lite.

== Installation ==

=== Kernel ===
You have to enable kernel support depending on how your cardreader is connected:
* For USB cardreader see the [[USB]] article.
* For PC-Card cardreader see the [[PC-Card]] article.
* For serial cardreader enable serial support.

=== Software ===
Install one or more of the following driver packages:
* {{Package|app-crypt/asedriveiiie-serial}} - ASEDriveIIIe serial cardreader
* {{Package|app-crypt/asedriveiiie-usb}} - ASEDriveIIIe USB cardreader
* {{Package|app-crypt/asekey}} - ASEKey USB SIM cardreader
* {{Package|app-crypt/ccid}} - compatible CCID cardreader
* {{Package|app-crypt/coolkey}} - CoolKey and CAC cardreader
* {{Package|dev-libs/cyberjack}} - REINER SCT cyberJack pinpad/e-com cardreader
* {{Package|sys-apps/ifd-gempc}} - GemCore based cardreader
* {{Package|sys-apps/pcsc-slb-rf72-drv}} - Schlumberger Reflex 72 serial cardreader
* [[OpenCT#idfhandler|OpenCT]]


{{Package|sys-apps/pcsc-lite}} will be pulled in automatically:
The USE flags of pcsc-lite are:
{{USEflag|package=sys-apps/pcsc-lite
|libusb
|udev+yes
}}
{{RootCmd|emerge --ask YourDriver}}

Portage knows the local USE flag ''pcsc-lite'' for enabling support for PCSC-Lite in other packages:
{{File|/etc/portage/make.conf||
USE{{=}}"... pcsc-lite ..."
}}

After setting this you want to update your system so the changes take effect:
{{RootCmd|emerge --ask --changed-use --deep world}}

== Configuration ==
USB cardreader are detected automatically und work out of the box. For PC-Card and serial cardreader you have to adjust your {{Path|/etc/reader.conf.d/reader.conf}}. See the man page for more informations:
{{Cmd|man reader.conf}}
Afterwards run ''update-reader.conf'' to generate {{Path|/etc/reader.conf}}:
{{RootCmd|update-reader.conf}}

=== Service ===
You can now start PCSC-Lite:
{{RootCmd|/etc/init.d/pcscd start}}
To start PCSC-Lite at boot time, add it your default runlevel:
{{RootCmd|rc-update add pcscd}}

{{Note|The PCSC-Lite daemon blocks all detected cardreaders for every other software.}}

== Testing ==
Start the daemon in debug mode manually:
{{RootCmd
|/etc/init.d/pcscd stop
|pcscd -a -d -f
}}
The daemon will now output all detected cardreaders. If not there's maybe the right driver missing.

If there is a detected cardreader, insert a smartcard. The daemon should inform about this event and among other things output the [[Wikipedia:Answer to reset|ATR]], e.g.:
{{Code|ATR|
00000028 Card ATR: 3B 75 94 00 00 62 02 02 03 01
}}
If so, everything works und you can kill the daemon with {{Key|Strg}}+{{Key|C}}.

[[Category:Smartcards]]
