Munin is a networked resource monitoring tool that can help analyze resource trends and "what just happened to kill our performance?" problems.

Munin implements a master and slave node structure; one master node with many slave nodes. The master node gathers data from the slave nodes, and produces HTML output. Generally these will be placed in the directory accessible via a web server, however you could view them locally with a web browser.

== Installation ==
=== USE flags ===
{{USEflag
|package=net-analyzer/munin
|asterisk+++installs deps for monitoring Asterisk
|doc+++Adds extra documentation (API, Javadoc, etc). It is recommended to enable per package instead of globally
|irc+++installs deps for monitoring IRC
|java+++Adds support for Java
|memcached+++installs deps for monitoring memcached
|minimal+++installs only the munin-node, applicable if the host is not the munin master installation"
|mysql+++Adds mySQL Database support
|postgres+++Adds support for the postgresql database
|ssl+++Adds support for Secure Socket Layer connections
}}

=== Requirements ===
You will need (optionally) need a web server such as Apache, Lighttpd, or nginx. It assumed you have a web server with root <code>/var/www/localhost/htdocs/</code>.

=== Emerge ===
First we must install the base package {{Package|net-analyzer/munin}}
{{Emerge|params=--ask --verbose| net-analyzer/munin}}

You may also need to install {{Package|media-fonts/corefonts}}
{{Emerge|params=--ask --verbose| media-fonts/corefonts}}

=== Configuration ===
First we must install the munin cronjob
{{Emerge|params=--config| net-analyzer/munin}}

Now set the htmldir (this will probably not need to be changed, the default should be fine). This folder must be writeable for the user <code>munin</code>, the config command should take care of this.
{{File|/var/munin/munin.conf||<pre>
htmldir /var/www/localhost/htdocs/munin
</pre>}}

Enable <code>crontab</code> for <code>munin</code>, by adding <code>munin</code> to the <code>cron</code> group.
{{RootCmd|gpasswd -a munin cron}}

Lastly we need to tell munin which statistics to gather. There is a nice command to do this for us.
{{RootCmd|sudo -u munin munin-node-configure --shell}}
This will check your system for statistics that can be gathered safely and create symlinks in the <code>/etc/munin/</code> directory.

Finally, we need to make munin-node start on boot.
{{RootCmd|rc-update add munin-node default}}

And then start it.
{{RootCmd|/etd/init.d/munin-node start}}

You will need to wait a while for munin to output the first set of graphs (it needs time to gather statistics).

[[Category:Software]]
[[Category:Monitoring]]
