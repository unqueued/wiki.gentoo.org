<noinclude><languages/></noinclude>
{{Path|/etc/portage/repos.conf}} è la directory dei repository di pacchetti come il [https://gitweb.gentoo.org/repo/gentoo.git/tree/ Portage tree] di Gentoo o gli  [[Overlay|overlay]] utilizzati in un sistema. Può essere un file o una directory di file contenenti specifiche configurazioni per-repository.

== Formato ==

{{Note|Anche se Portage può utilizzare {{Path|repos.conf}} sia come file che come directory, il metodo preferibile da utilizzare è come '''''directory'''''. Altri strumenti come {{c|layman}} e {{c|mirrorselect}} richiedono che questo sia una directory. Layman crea ed amministra il suo file {{Path|layman.conf}} per registrare gli overlay installati con Portage. {{c|mirrorselect}} cerca il file {{Path|repos.conf/gentoo.conf}} per modificarne il parametro <code>sync-uri</code> per il repository di Gentoo.
}}

* I commenti iniziano con <code>#</code> (non ci sono commenti in linea).
* La configurazione di ogni repository è specificata in un file separato o in una sezione che inizia con <code>[repository_name]</code>. E' raccomandato che <code>[repository_name]</code> abbia lo stesso nome di quello dato nel file [[Repository_format|repo_name]].
* Gli attributi sono specificati nel formato <code>attribute = value</code>.

== Attributi supportati nella sezione predefinita ==

{| class="table table-condensed"
|-
! Attribute !! Description
|-
| <code>main-repo</code> || Specifies main repository.
|-
| <code>eclass-overrides</code> || Makes all repositories inherit eclasses from specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache. When <code>force = eclass-overrides</code> attribute is not set, {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}} ignore this attribute, since operations performed by these tools are inherently not site-specific.
|-
| <code>force</code> || Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.
|}

== Attributi supportati nelle sezioni dei repositories ==

{| class="table table-condensed"
|-
! Attribute !! Description
|-
| <code>aliases</code> ||  Specifies aliases of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache. When <code>force = eclass-overrides</code> attribute is not set, {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}} ignore this attribute, since operations performed by these tools are inherently not site-specific.
|-
| <code>auto-sync</code> || This setting determines if the repo will be synced during {{c|emerge --sync}} or {{c|emaint sync --auto}} runs. This allows for repositories to be synced only when desired via {{c|emaint sync --repo foo}}. Valid values: <code>yes</code>, <code>no</code>, <code>true</code>, <code>false</code>. If unset, the repo will be treated as set <code>yes</code>, <code>true</code>.
|-
| <code>eclass-overrides</code> || Makes all repositories inherit eclasses from specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache. When <code>force = eclass-overrides</code> attribute is not set, {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}} ignore this attribute, since operations performed by these tools are inherently not site-specific.
|-
| <code>force</code> || Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.
|-
| <code>location</code> ||  Specifies location of given repository.
|-
| <code>masters</code> || Specifies master repositories of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache. When <code>force = eclass-overrides</code> attribute is not set, {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}} ignore this attribute, since operations performed by these tools are inherently not site-specific.
|-
| <code>priority</code> || Specifies [[Overlay#Priorities|priority]] of given repository.
|-
| <code>sync-cvs-repo</code> || Specifies CVS repository.
|-
| <code>sync-depth</code> || Specifies  clone  depth to use for DVCS repositories. Defaults to <code>1</code> (only the newest commit). If set to <code>0</code>, the depth is unlimited.
|-
| <code>sync-type</code> || Specifies type of synchronization performed by {{c|emerge --sync}}. Valid non-empty values: <code>cvs</code>, <code>git</code>, <code>rsync</code>, <code>svn</code>, <code>websync</code> (<=portage-2.2.18), <code>webrsync</code> (>=portage-2.2.19). This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
|-
| <code>sync-umask</code> || Specifies umask used to synchronize the repository. Takes an octal permission mask, e.g. <code>022</code>.
|-
| <code>sync-uri</code> || Specifies URI of repository used for synchronization performed by {{c|emerge --sync}}. This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
<pre>Syntax:
cvs: [cvs://]:access_method:[username@]hostname[:port]:/path
git: (git|git+ssh|http|https)://[username@]hostname[:port]/path
rsync: (rsync|ssh)://[username@]hostname[:port]/(module|path)
</pre>
|-
| <code>sync-user</code> || Specifies the credentials used to perform the synchronization. If only user is provided, the primary group of the user will be used.  If only group is  provided, the current user will be preserved and only the group id will be changed. This key takes precedence over <code>FEATURES=userpriv</code>. If user or group id is provided, Portage no longer uses owner of the directory.
<pre>Syntax: [user][:group]</pre>
|}

== Esempi ==

=== Repository principale di Gentoo ===

{{:/etc/portage/repos.conf/gentoo.conf}}

=== Overlay locale ===

{{:/etc/portage/repos.conf/local.conf}}

Per ulteriori informazioni vedere l'articolo [[Overlay/Local_overlay]]

=== Overlay esterne ===

{{:/etc/portage/repos.conf/brother-overlay.conf/en}}

=== repos.conf come un singolo file ===

Per un esempio di {{Path|repos.conf}} come un file monolitico, digitare questo comando e cercare la sezione {{Path|repos.conf}}

{{Cmd|man 5 portage}}

== Elencare repositories ===

Per vedere una lista compatta di repositories, ordinati per numero di priorità ascendente e formattati per una facile lettura:

{{Cmd|emerge --info --verbose {{!}} sed -n '/^Repo/,/^ABI/p' {{!}} head -n -1}}

Per vedere una lista dettagliata di repositories, senza alcuna formattazione:

{{Cmd|portageq envvar PORTAGE_REPOSITORIES}}

== Vedi anche ==

* [[Handbook:Parts/Working/Features#Validated_Portage_tree_snapshots|Validated Portage tree snapshots]] in the [[Handbook:Main_Page|Gentoo Handbook]]
* [[Project:Portage/Sync|Overview over the new Portage sync system]]
* [[Layman#repos.conf_method_.28default.29|Layman - Using 'repos.conf' method]] in the [[Layman]] article
* [[Project:Overlays/Overlays_guide|Overlays user guide]]
* [[Repository_format|Repository format]]
* [[Project:Repository mirror and CI|Repository mirror and Continuous Integration]]
* [[Portageq#Query repository information|Query repository information]] in the [[Portageq]] article

== Risorse esterne ==

* [https://www.gentoo.org/support/news-items/2015-02-04-portage-sync-changes.html Portage Sync news announcement (2015-02-04)]


[[Category:Portage]]
