<languages />


{{Metadata|abstract=이 안내서는 네트워크 관리 및 감시 시스템 Jffnms의 후 설치 과정과 시스템 감시 방법을 안내합니다.}}

이 안내서는 네트워크 관리 및 감시 시스템 Jffnms의 후 설치 과정과 시스템 감시 방법을 안내합니다.

== Jffnms 기초 ==

=== 도입부 ===

[http://www.jffnms.org Jffnms]는 네트워크 관리 및 감시 시스템입니다. 다양한 호스트 및 프로토콜의 정보를 순간 순간마다 살펴볼 수 있습니다. 이 안내서에서는 jffnms를 제대로 설치하는 방법과 멋진 도구로 시스템을 감시하는 방법을 보여드리는데 중점을 두었습니다. 

== 초기 설정 ==

=== USE 플래그 선택 ===

Jffnms 이빌드에서는 다음 USE 플래그를 사용할 수 있습니다: 

{{USEFlag|net-analyzer/jffnms}}

=== PHP에 적용할 USE 플래그 ===

PHP로 작성한 jffnms는 PHP USE 플래그에 상당히 의지합니다. jffnms를 제대로 설치하려면 PHP 꾸러미에 (최소한) 다음 USE 플래그를 설정해야합니다: 

{| class="table" style="text-align: left;" 
|- 
!  PHP USE 플래그
! 설명
|- 
| <code>gd</code>
| media-libs/gd 지원 기능 추가(실행 중 그래픽 이미지 생성)
|- 
| <code>wddx</code>
| 웹 분산 데이터 교환(Web Distributed Data eXchange) 지원 기능 추가
|- 
| <code>sockets</code>
| TCP/IP 소켓 지원 기능 추가
|- 
| <code>session</code>
| 영속 세션 지원 기능 추가
|- 
| <code>spl</code>
| 표준 PHP 라이브러리 지원 기능 추가
|- 
| <code>cli</code>
| CLI SAPI 활성화
|-
|}

=== 설치 ===

포티지의 어떤 꾸러미와 마찬가지로 jffnms는 {{c|emerge}} 명령으로 설치할 수 있습니다: 

{{RootCmd|emerge jffnms}}

jffnms는 {{Path|/opt/jffnms/}}에 설치합니다. 

=== Apache 2 설정 ===

{{Warning|This very basic configuration procedure for Apache does not cover all aspects of setting up a web server.}}

Sometimes you will want to run Jffnms on your local computer instead of a remote server. If this is your case, it is very likely that you don't have an apache setup running. Don't worry about installing apache though, Portage has already done that for you. Nevertheless, you still have to configure and test apache, which (luckily) is pretty straightforward. Start by adding Apache to your default runlevel: 

{{RootCmd|rc-update add apache2 default}}

If you haven't done it yet, it's time to start apache2: 

{{RootCmd|/etc/init.d/apache2 start}}

Finally, point your browser at [http://localhost/ http://localhost/] and you should be presented with a home page about your newly installed Apache 2. Now that we know that Apache is up and running, we can proceed to the mod_php configuration. Fire up your favorite text editor, open {{Path|/etc/conf.d/apache2}} and add <code>-D PHP5</code> the APACHE2_OPTS variable. 

{{FileBox|filename=/etc/conf.d/apache2|1=
APACHE2_OPTS="-D DEFAULT_VHOST -D PHP5"
}}

After that, you should create a symlink to the Jffnms install directory in your Apache document root dir. In Gentoo, by default, Apache uses {{Path|/var/www/localhost/htdocs}} as document root. So, you should do the following: 

{{RootCmd|cd /var/www/localhost/htdocs && ln -s /opt/jffnms/}}

=== PHP 설정 ===

Now that Apache is running, it is time to configure PHP. Jffnms requires that you set some variables in php.ini in order to run. The {{Path|php.ini}} file is usually located in {{Path|/etc/php/apache2-php5/php.ini}} . You have to set these variables to the following values: 

{{FileBox|filename=/etc/php/apache2-php5/php.ini|lang=ini|1=
register_globals = On
register_argc_argv = On 
error_reporting  =  E_ALL & ~E_NOTICE
allow_url_fopen = On
include_path = ".:/usr/share/php5:/usr/share/php:/usr/share/php/PEAR"
short_open_tag = On
}}

=== 데이터베이스 설정 ===

{{Warning|Please note again that this a very basic configuration procedure for any database system and does not cover all aspects of setting up such systems.}}

Jffnms allows you to use either PostgreSQL or MySQL as its database. Here we'll show you how to create the database and necessary tables where Jffnms will store its data. It's important to note that it isn't necessary to have a database running locally to run Jffnms and except for the fact that you need to run this commands on the remote host, the procedure is the same. 

=== PostgreSQL 설정 ==

{{Note|If you already have a PostgreSQL database up and running, you can proceed to the [[#use-pg]] .}}

You should add PostgreSQL to your default runlevel so it's started each time you boot your computer. Make sure to change <code>${SLOT}</code> to your PostgreSQL slot, such as 9.1 or 9.2. 

{{RootCmd|rc-update add postgresql-${SLOT} default}}

Now you must setup the PostgreSQL database. Make sure to change <code>${VERSION}</code> to your PostgreSQL version, such as 9.0.9 or 9.1.5. 

{{RootCmd|emerge --config postgresql-server-${VERSION} }}

이제 PostgreSQL을 시작하십시오: 

{{RootCmd|/etc/init.d/postgresql-${SLOT} start}}

=== PostgreSQL을 데이터베이스로 활용하기 ===

Once you have your PostgreSQL set up and running, you have to create a Jffnms user and a database to store host data. 

{{Cmd|psql template1 postgres}}

{{Cmd|create user jffnms password 'jfnms' createdb;|prompt=template1{{=}}# 
|\connect template1 jffnms
|create database jffnms;
|\q}}

Finally, you need to create all the tables where data will be stored: 

{{Cmd|psql jffnms jffnms < /opt/jffnms/docs/jffnms-0.9.3.pgsql}}

Once you have run those steps, the PostgreSQL database configuration for Jffnms should be ok. 

=== MySQL을 데이터베이스로 활용하기 ===

{{Warning|Installing and configuring a MySQL database is not covered in this guide. Please see our [https://wiki.gentoo.org/wiki/MySQL/Startup_Guide MySQL Startup Guide] .}}

In case you want to run Jffnms with MySQL, you'll first need to create a database and a MySQL user. After that, create your MySQL table: 

{{Cmd|mysql -u jffnms -pjffnms jffnms < /opt/jffnms/docs/jffnms-0.9.3.mysql}}

=== UDP 포트 감시 및 발견 ===

{{Warning|This section covers setting up and running suid programs, so it may not be adequate for systems where security is too much an issue.}}

If you want UDP port monitoring and discovery, you need to set <code>nmap</code> and <code>fping</code> as a SUID programs. This may give you security hole in case there's a bug in one of them. To set them as a SUID you can run the following commands: 

{{RootCmd|chmod +s /usr/bin/nmap ; chmod a+x /usr/bin/nmap
|chmod +s /usr/sbin/fping ; chmod a+x /usr/sbin/fping}}

== Jffnms 설정 ==

=== 풀러 프로세스 설정 ===

The poller process is responsible for gathering data from hosts. In order to collect this data at regular intervals, it must be added to crontab. 

{{RootCmd|crontab -u jffnms /opt/jffnms/docs/unix/crontab
|crontab -e -u jffnms}}

=== 최종 설정 ===

By now, Jffnms should be correctly installed on your system. You still need, however, to configure Jffnms. Luckily, Jffnms provides us with an easy to use web page where it's possible to configure access to database, user access as well as check if the current host configuration suffices Jffnms needs. You can access this web interface through the following URL: [http://localhost/jffnms/admin/setup.php http://localhost/jffnms/admin/setup.php] . You can login to your new installation by using the username and password <code>admin</code> . You should visit [http://www.jffnms.org/ Jffnms's home page] for details on how to properly configure it. 

== Support ==

Though Jffnms is a wonderful application, it is a bit hard to get it up and running. So if you run into problems with Jffnms, there are some places where you can look for help: 

* [http://www.jffnms.org/docs/installing.html Jffnms Installation Manual] 
* [http://www.jffnms.org/docs/jffnms.html Jffnms Manual] 
* [https://forums.gentoo.org/ Gentoo Forums]
* [http://www.postgresql.org/docs/9.1/static/index.html PostgreSQL 9 Documentation] 
* [http://dev.mysql.com/doc/ MySQL Documentation]


{{Migrated|originalauthors=angusyoung}}
