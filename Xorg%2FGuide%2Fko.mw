<languages />

{{Metadata|abstract=Xorg는 사용자들의 손 끝에 그래픽 환경을 전달해주는 X 윈도 서버입니다. 이 설명서에서는 Xorg가 무엇인지, 어떻게 설치하고 다양한 설정 옵션에는 어떤 것들이 있는지 설명하도록 하겠습니다.}}

Xorg는 사용자들의 손 끝에 그래픽 환경을 전달해주는 X 윈도 서버입니다. 이 설명서에서는 Xorg가 무엇인지, 어떻게 설치하고 다양한 설정 옵션에는 어떤 것들이 있는지 설명하도록 하겠습니다.

== X 서버가 무엇인가요? ==

=== 그래픽 vs 명령행 ===

보통 사용자는 명령을 입력하는데 공포감을 느낍니다. 젠투(그리고 보통 리눅스)가 제공하는 자유로움을 통해 가리켜서 마우스 버튼을 누를 수 있게 하는건 어떨까요? 글쎄요, 물론 이렇게 할 수 있습니다. 리눅스에서는 상당히 많은 뽀대나는 사용자 인터페이스와 설치 결과물의 위에서 설치할 수 있는 환경을 제공합니다. 

새로운 사용자들 사이에서 가장 놀라울 만한 한가지가 있습니다. 그래픽 사용자 인터페이스는 시스템에서 실행하는 프로그램만 있는 것이 아닙니다. 리눅스 커널 또는 다른 시스템의 내부로서의 일부도 "아닙니다". 워크스테이션에서 그래픽 기능을 완전히 가능케 하는 강력한 도구입니다. 

중요한 표준인만큼, 화면에 그리고, 창을 옮기며, 사용자와 마우스, 키보드 등의 기본적인 요소를 통해 상호작용하는 아직까지도 중요한 요소로 만들어지고 "X 윈도우 시스템"이라는 이름이 붙은 표준을 "X"가 아니라 "X11"이라는 이름으로 보통 함축합니다. 전세계 곳곳에서 유닉스, 리눅스를 포함한 유닉스 유사 운영체제 위에서 사용합니다. 

그래픽 사용자 인터페이스를 구동하는 능력을 지니도록 사용자에게 제공하는 프로그램과 X11 표준을 사용하는 요소는 XFree86 프로젝트에서 갈라져 나온 Xorg-X11입니다. XFree86은 GPL 라이선스와 호환되지 않는 라이선스를 사용하기로 결정하였습니다. 그렇기 때문에 Xorg의 사용을 추천합니다. 공식 포티지 트리에서는 XFree86 패키지를 더이상 지원하지 않습니다.

=== X.org 프로젝트 ===

[http://www.x.org X.org] 프로젝트는 자유롭게 재배포 가능한 X11 오픈소스 구현 시스템으로 만들었습니다. 오픈소스 X11 기반 데스크톱의 하부입니다. 

Xorg에서는 하드웨어와 여러분이 실행하려는 그래픽 소프트웨어사이의 인터페이스를 제공합니다. 이에 견주어 Xorg는 완전한 네트워크 지향 기능을 갖추고 있으며, 다른 머신에서 보고있는동안 하나의 시스템에서 프로그램을 실행할 수 있음을 의미합니다. 

== Xorg 설치 ==

Xorg를 설치할 수 있기 전에 시스템에 준비할 것이 있습니다. 먼저 커널에 입력 장치와 비디오 카드를 지원하도록 설정해야 합니다. 그 다음 {{Path|/etc/portage/make.conf}}를 준비하여 올바른 드라이버와 Xorg 패키지를 빌드하고 설치할 수 있도록 해야합니다. 

=== 입력 드라이버 지원 ===

기본적으로 Xorg에는 범용 입력 드라이버인 <code>evdev</code><ref name=evdev>[[evdev]]</ref>를 사용합니다. 커널 설정을 바꾸어서 <code>evdev</code> 지원을 활성화 해야합니다. 커널 설정 방법을 모르겠다면 [[Kernel/Gentoo_Kernel_Configuration_Guide/ko|커널 설정 안내서]]를 읽어보십시오. 

{{KernelBox|title=커널에서 evdev 활성화|<pre>
Device Drivers --->
  Input device support --->
  <*>  Event interface
</pre>
}}

=== 커널 상태설정 ===

최신 오픈소스 비디오 드라이버는 커널 모드셋팅(KMS)에 의존합니다. KMS에서는 화면 깜빡임 감소, 빠른 사용자 전환, 내장 프레임버퍼 콘솔, 콘솔에서 Xorg로의 감쪽같은 전환 등 여러가지 기능으로 무장한 개선된 그래픽 부팅 기능을 지원합니다. KMS는 기존 프레임버퍼 드라이버와 충돌하므로 커널 설정에서 '''비활성화''' 된 상태로 두어야 합니다. 

먼저 KMS에 대한 커널을 준비합니다. 이 단계에서는 여러분이 사용하는 Xorg 비디오 드라이버가 무엇인지에 대해 상관 없이 이 조치를 취해야 합니다. 

{{KernelBox|title=프레임버퍼 설정|<pre>
Device Drivers --->
  Graphics support --->
    Support for frame buffer devices --->
    ## (Disable all drivers, including VGA, Intel, nVidia, and ATI)
 
    ## (Further down, enable basic console support. KMS uses this.)
    Console display driver support --->
      <*>  Framebuffer Console Support
</pre>
}}

다음, 비디오카드에 맞는 적당한 KMS 드라이버를 사용하도록 커널을 설정하십시오. 인텔, 엔비디아, AMD/ATI가 일반적인 카드이므로, 여러분의 카드에 따라 적은 코드를 따라가시면 됩니다. 

인텔 카드<ref>https://wiki.gentoo.org/wiki/Intel#Kernel</ref>의 경우: 

{{KernelBox|title=인텔 설정|<pre>
Device Drivers --->
  Graphics support --->
    /dev/agpgart (AGP Support) --->
    <*>  Intel 440LX/BX/GX, I8xx and E7x05 chipset support
    Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) --->
    <*>  Intel 8xx/9xx/G3x/G4x/HD Graphics
    [*]    Enable modesetting on intel by default
</pre>
}}

엔비디아의 경우: 

{{KernelBox|title=엔비디아 설정|<pre>
Device Drivers --->
  Graphics support --->
    Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) --->
    <*>    Nouveau (nVidia) cards
</pre>
}}

최신의 AMD/ATi 카드에서([[ATI_FAQ/ko|RadeonHD 2000 이상]]), {{Package|x11-drivers/radeon-ucode}}  또는 {{Package|sys-kernel/linux-firmware}}를 이머지해야 합니다. 두 꾸러미 중 하나를 설치하면 [[Radeon|라데온 페이지]]<sup style="color:#ff0077">en</sup>의 [[Radeon#Firmware|펌웨어 섹션]]<sup style="color:#ff0077">en</sup>에서 자세히 설명한대로 커널을 설정하십시오: 

{{KernelBox|title=AMD/ATI 설정|<pre>
## (Setup the kernel to use the radeon-ucode firmware)
Device Drivers --->
  Generic Driver Options --->
  [*]  Include in-kernel firmware blobs in kernel binary
  ## # ATI card specific, (see Radeon page for details of firmware to include)
   (radeon/<YOUR-MODEL>.bin ...)
  ## # all:
   (/lib/firmware/) Firmware blobs root directory
 
## (Enable Radeon KMS support)
Device Drivers --->
  Graphics support --->
  <*>  Direct Rendering Manager --->
  <*>    ATI Radeon
  [*]      Enable modesetting on radeon by default
  [ ]      Enable userspace modesetting on radeon (DEPRECATED)
</pre>
}}

{{Note/ko|예전 라데온 카드(X1900 시리즈 이전)에서는 {{Package|x11-drivers/radeon-ucode}} 꾸러미를 설치하거나 다른 펌웨어 설정을 할 필요가 없습니다. 다이렉트 렌더링 관리자(DRM)과 ATI 라데온 모드 설정 활성화만 하시면 됩니다.}}

{{Note/ko| 리눅스 커널 3.9 이상에서는 "라데온용 모드 설정 기본 활성화(Enable modesetting on radeon by default)" 옵션이 더이상 존재하지 않으며 기본으로 설정하는 것으로 이미 암묵적으로 처리했습니다.}}

이제 KMS 설정이 끝났으면, 다음 섹션에서 {{Path|/etc/portage/make.conf}}를 준비하는 것으로 계속 진행하십시오.

=== make.conf 설정 ===

이제 커널을 준비했고, Xorg를 설치할 수 있기 이전에 {{Path|/etc/portage/make.conf}} 파일의 중요한 두가지 변수를 설정해야 합니다. 

첫번째 변수는 <code>VIDEO_CARDS</code>입니다. 이 변수는 여러분이 사용하려는 비디오 드라이버를 설정하는데 사용하며 보통 여러분이 가진 그래픽 카드 종류를 기반으로 합니다. 대부분의 일반 설정은 엔비디아 카드에 대해서는<code>nouveau</code>, ATI  카드에 대해서는 <code>radeon</code>입니다. 둘 다 활발하게 개발되었고 잘 지원하는 오픈소스 드라이버입니다. 

{{Note/ko|아마도 엔비디아와 ATI에서 상업용 드라이버를 사용하려 할텐데 <code>nvidia</code> 와 <code>fglrx</code>가 있습니다. 그러나 상업용 드라이버의 설정은 이 안내서의 범위를 넘어섭니다. [[NVidia/nvidia-drivers 젠투 리눅스 엔비디아 안내서]]와 [[ATI_FAQ/ko|젠투 리눅스 ATI 자주 묻는 질문]]을 읽어보십시오. 어떤 드라이버를 선택해야 할지 모르겠다면, 더 많은 내용을 알아보기 위해 이 안내서를 참고하십시오.}}

<code>인텔</code> 드라이버는 일반적인 인텔 통합 그래픽 칩셋이 붙은 데스크톱이나 랩톱에서 사용합니다. 

{{Note/ko|<code>VIDEO_CARDS</code>는 공백으로 구분하여 하나 이상의 드라이버를 넣을 수 있습니다.}}

두번째 변수는 <code>INPUT_DEVICES</code>이며 입력 장치에 대해 어떤 드라이버를 빌드할지를 판단하는데 사용합니다. 대부분 <code>evdev</code><ref name=evdev />로 설정하면 제대로 동작합니다. 랩톱용 감지식 터치패드 같은 다른 입력 장치를 사용한다면, <code>INPUT_DEVICES</code>에 꼭 넣으십시오. 

Decide which drivers will be used and add necessary settings to the {{Path|/etc/portage/make.conf}} file: 

{{CodeBox|title=make.conf 항목 예제|lang=bash|1=
## (For mouse, keyboard, and Synaptics touchpad support)
INPUT_DEVICES="evdev synaptics"
## (For nVidia cards)
VIDEO_CARDS="nouveau"
## (For AMD/ATI cards)
VIDEO_CARDS="radeon"
}}

If the suggested settings does not work emerge the {{Package|x11-base/xorg-drivers}} package(see the step below). Check all the options available and choose those which apply to the system. This example is for a system with a keyboard, mouse, Synaptics touchpad, and a Radeon video card. 

{{Emerge|x11-base/xorg-drivers||params+=--verbose --pretend|output=<pre>
 
These are the packages that would be merged, in order:
 
Calculating dependencies... done!
[ebuild   R   ]  x11-base/xorg-drivers-1.9  INPUT_DEVICES="evdev synaptics
-acecad -aiptek -elographics% -fpit% -joystick -keyboard -mouse -penmount -tslib
-virtualbox -vmmouse -void -wacom"
VIDEO_CARDS="radeon -apm -ark -ast -chips -cirrus -dummy -epson -fbdev -fglrx
(-geode) -glint -i128 (-i740) (-impact) -intel -mach64 -mga -neomagic (-newport)
-nouveau -nv -nvidia -r128 -rendition -s3 -s3virge -savage -siliconmotion -sis
-sisusb (-sunbw2) (-suncg14) (-suncg3) (-suncg6) (-sunffb) (-sunleo) (-suntcx)
-tdfx -tga -trident -tseng -v4l -vesa -via -virtualbox -vmware (-voodoo) (-xgi)"
0 kB
</pre>
}}

First of all, make sure <code>udev</code> is added as a USE:

{{RootCmd|echo "x11-base/xorg-server udev" >> /etc/portage/package.use}}

After setting all the necessary variables Xorg can be installed:

{{Emerge|x11-base/xorg-server}}

{{Note|The {{Package|x11-base/xorg-x11}} meta-package could be installed instead of the more lightweight {{Package|x11-base/xorg-server}}. Functionally {{Package|x11-base/xorg-x11}} and {{Package|x11-base/xorg-server}} are the same, however {{Package|x11-base/xorg-x11}} brings in many more packages that most systems will probably not require. Additional packages include a large assortment of fonts in many languages. They are not necessary for a working X11 framework.}}

When the installation is finished, some environment variables will need to re-initialized before continuing. Source the profile with this command:

{{RootCmd|env-update
|source /etc/profile}}

=== NVidia users ===

For NVidia users it might be beneficial to run <tt>nvidia-xconfig</tt> in order to generate a working {{Path|xorg.conf}} file for the selected graphics card. Without this step the {{Path|xorg.conf}} file will need to be created manually as described below. Missing the {{Path|xorg.conf}} will sometimes generate a "No screens found" error to the terminal when attempting to <tt>startx</tt>.

Also the NVidia driver will only work after a reboot, so be sure to restart the system after running <tt>nvidia-xconfig</tt>.

{{RootCmd|nvidia-xconfig}}

It is both possible and recommended to set the OpenGL renderer to the hardware renderer instead of a software renderer:

{{RootCmd|eselect opengl set nvidia}}

== Xorg 설정 ==

The X server is designed to work out-of-the-box, with no need to manually edit Xorg's configuration files. It ''should'' detect and configure devices such as displays, keyboards, and mice.

Try [[#Using_startx|using startx]] without editing any configuration files. If Xorg will not start, or there is some other problem, then manual configuration of Xorg will be needed. This is explained in the following section. 

{{Note|If changes have been made to the kernel, do not forget to '''restart the system''' ''before'' using startx in order to be using the newly built kernel. If the kernel was updated to a newer version in the process this will most likely require the bootloader's configuration files to be updated as well.}}

=== The {{Path|xorg.conf.d}} directory ===

{{Important|Configuring files in {{Path|xorg.conf.d}} should be seen as a last resort option. If possible it is desirable to run Xorg without any special configuration.}}

Most of the configuration files for Xorg are stored in {{Path|/etc/X11/xorg.conf.d/}}. Each file is given a unique name and ends in {{Path|.conf}}. The file names in Xorg's configuration directory will read in alpha numeric order. For example, {{Path|10-evdev.conf}} will be read before {{Path|20-synaptics.conf}}; {{Path|a-evdev.conf}} will be read before {{Path|b-synaptics.conf}}, and so on. The files in this directory are not required to be numbered, but doing so will help keep them organize. Organization is helpful in when debugging faulty configuration files.

{{Note|Xorg provides example configurations in {{Path|/usr/share/doc/xorg-server-${version}/xorg.conf.example.bz2}}. These can be used to create custom configuration files in {{Path|/etc/X11/xorg.conf.d/}}. The examples are heavily commented, but if more documentation regarding the syntax is needed <tt>man xorg.conf</tt> is always available. Other examples can be found in the [[#Resources|Resources]] chapter at the end of this guide.}}

=== startx 사용하기 ===

Try <tt>startx</tt> to start up the X server. <tt>startx</tt> is a script that executes an ''X session''; that is, it starts the X server and some graphical applications on top of it. It decides which applications to run using the following logic: 

* 내 디렉터리에 {{Path|.xinitrc}} 파일이 있다면, 해당 파일에나열한 명령을 실행합니다.

* Otherwise, it will read the value of the <code>XSESSION</code> variable and will execute one of the sessions available in {{Path|/etc/X11/Sessions/}} accordingly. The value of <code>XSESSION</code> can be set in the {{Path|/etc/env.d/90xsession}} file to make a default session for all users on the system. For example, as root, run <tt>echo XSESSION="Xfce4" > /etc/env.d/90xsession</tt>. This will create the {{Path|90xsession}} file and set the default X session to [[Xfce/HOWTO|Xfce]]. Remember to run <tt>env-update</tt> after making changes to {{Path|90xsession}}.

{{Cmd|startx}}

If no window manager has been installed a solid black screen will appear. Since this can also be a sign that something is wrong, the {{Package|x11-wm/twm}} and {{Package|x11-terms/xterm}} packages can be installed only to test X. 

Once the programs are installed, run <tt>startx</tt> again. A few <tt>xterm</tt> windows should appear, making it easy to verify the X server is working correctly. Once satisfied with the results, unmerge {{Package|x11-wm/twm}} and {{Package|x11-terms/xterm}} if installed in the step above to remove the testing packages. They will not be needed to setup a proper desktop environment.

== X 세밀하게 설정하기 ==

=== Setting the screen resolution ===

If the screen resolution looks to be wrong, you will need to check two sections in your {{Path|xorg.conf.d}} configuration. First of all, you have the ''Screen'' section which lists the resolutions that your X server will run at. This section might not list any resolutions at all. If this is the case, Xorg will estimate the resolutions based on the information in the second section, ''Monitor''. 

Now let us change the resolution. In the next example from {{Path|/etc/X11/xorg.conf.d/40-monitor.conf}} we add the <code>PreferredMode</code> line so that our X server starts at 1440x900 by default. The <code>Option</code> in the <code>Device</code> section must match the name of your monitor (<code>DVI-0</code>), which can be obtained by running <tt>xrandr</tt>. Install <tt>xrandr</tt> (<tt>emerge xrandr</tt>) just long enough to get this information. The argument after the monitor name (in the <code>Device</code> section) must match the <code>Identifier</code> in the <code>Monitor</code> section. 

{{RootCmd|nano -w /etc/X11/xorg.conf.d/40-monitor.conf|output=<pre>
Section "Device"
  Identifier  "RadeonHD 4550"
  Option      "Monitor-DVI-0" "DVI screen"
EndSection
Section "Monitor"
  Identifier  "DVI screen"
  Option      "PreferredMode" "1440x900"
EndSection
</pre>
}}

Run X (<tt>startx</tt>) to discover it uses the desired resolution.

=== 다중 모니터 ===

More than one monitor in can be established in {{Path|/etc/X11/xorg.conf.d/}}. Give each monitor a unique identifier, then list its physical position, such as "RightOf" or "Above" another monitor. The following example shows how to configure a DVI and a VGA monitor, with the VGA monitor as the right-hand screen: 

{{RootCmd|nano -w /etc/X11/xorg.conf.d/40-monitor.conf|output=<pre>
Section "Device"
  Identifier "RadeonHD 4550"
  Option     "Monitor-DVI-0" "DVI screen"
  Option     "Monitor-VGA-0" "VGA screen"
EndSection
Section "Monitor"
  Identifier "DVI screen"
EndSection
Section "Monitor"
  Identifier "VGA screen"
  Option     "RightOf" "DVI screen"
EndSection
</pre>
}}

=== Configuring the keyboard ===

To setup X to use an international keyboard create the appropriate config file in {{Path|/etc/X11/xorg.conf.d/}}. This example features a Czech keyboard layout: 

{{RootCmd|nano -w /etc/X11/xorg.conf.d/30-keyboard.conf|output=<pre>
Section "InputClass"
        Identifier "keyboard-all"
        Driver "evdev"
        Option "XkbLayout" "us,cz"
        Option "XkbModel" "logitech_g15"
        Option "XkbRules" "xorg"
        Option "XkbOptions" "grp:alt_shift_toggle,grp:switch,grp_led:scroll,compose:rwin,terminate:ctrl_alt_bksp"
        Option "XkbVariant" ",qwerty"
        MatchIsKeyboard "on"
EndSection
</pre>
}}

The "terminate" command (<code>terminate:ctrl_alt_bksp</code>) lets users kill the X session by using the {{Key|Ctrl}}+{{Key|Alt}}+{{Key|Backspace}} key combination. This will, however, make X exit disgracefully -- something that users might want to avoid. It can be useful when programs have frozen the display entirely, or when configuring and tweaking the Xorg environment. Be careful when killing the desktop with this key combination - most programs really do not like it when they are ended this way. Some, if not all, of the information that has not been written to the disk (information stored in "open documents") will be lost.

=== 끝내기 ===

Run <tt>startx</tt> and be happy about the result. Congratulations, you now (hopefully) have a working Xorg! The next step is to install a useful window manager or desktop environment such as [[KDE]], [[GNOME]], or [[Xfce]]. Information on installing these desktop environments can be found here on the wiki.

== See also ==

[[Wayland]]

== External resources ==

=== 설정 파일 만들고 편집하기 ===

First of all, <tt>man xorg.conf</tt> and <tt>man evdev</tt><ref name=evdev /> provide quick yet complete references about the syntax used by these configuration files. Be sure to have them open on a terminal when editing Xorg configuration files! 

There are also many online resources on editing config files in {{Path|/etc/X11/}}. Only a few are listed here; use a choice favorite search engine to find more.

=== 기타 자료 ===

다양한 그래픽 데스크톱 환경및 프로그램을 설치하고 설정하는 정보는 문서의 [http://www.gentoo.org/doc/en/?catid=desktop 젠투 데스크톱 문서 자료] 섹션에서 찾을 수 있습니다. 

When upgrading to xorg-server 1.9 from an earlier version, be sure to read the [http://www.gentoo.org/proj/en/desktop/x/x11/xorg-server-1.9-upgrade-guide.xml migration guide]. 

X.org는 자체 사이트에 많은 [http://www.x.org/wiki/FAQ 자주 묻는 질문] 을 제공하며, 자체 문서도 있습니다.
== References ==
{{reflist}}

{{Migrated|originalauthors=swift, nightmorph}}
[[Category:X.Org]]
