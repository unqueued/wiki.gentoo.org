'''<big>Orange pi zero quickly install</big>''' 

one line en one line chinese.

安装gentoo arm32 在orang pi zero

first down 

http://www.orangepi.cn/   <big>cn</big>  important

product choice orangepizero(because cn page new than en)


选择产品 orangepi-zero


down the Ubuntu_Desktop 2018-02-01  for orangpi zero img


下载orangepizero的ubuntu桌面镜像 

dd ubuntu image file to the sd card


dd写入镜像或win下用其他软件


backup modules firmware
{{RootCmd
 | mount /dev/mmcblk0p2 /mnt
 | cp -r /mnt/lib/firmware /home/username
 | cp -r /mnt/lib/modules  /home/username
 | mkdir etc
 | cp -r /etc/firmware  /home/username/etc       ##this firmware for wifi bin file
 | umount /dev/mmcblk0p2
}}

备份原来ubuntu的固件内核模块


{{RootCmd
 |fdisk /dev/mmcblk0
}}
d del 2 disk partition   n  add 2  partition


将原来ubuntu第二分区删除再新建第二分区


{{RootCmd
 | resize2fs /dev/mmcblk0p2
 | mkfs.ext4 /dev/mmcblk0p2
}}

创建分区

mount orangpi w sd to mnt

{{RootCmd
 | mkdir /mnt/gentoo
 | mount /dev/mmcblk0p2 /mnt/gentoo
 | mkdir /mnt/gentoo/boot
 | mount /dev/mmcblk0p1 /mnt/gentoo/boot
}}

挂载分区到/mnt

down and install armv7a stage3 and portage 
{{RootCmd
 | cd /mnt/gentoo
 | wget -c http://distfiles.gentoo.org/releases/arm/autobuilds/20161129/stage3-armv7a-20161129.tar.bz2
 | tar xvpf stage3-armv7a-20161129.tar.bz2 -C /mnt/gentoo
 | wget http://distfiles.gentoo.org/snapshots/portage-latest.tar.bz2
 | tar xjf portage-latest.tar.bz2 -C /mnt/gentoo/usr 
}}

下载安装armv7astage 与portage

cp modules firmware to gentoo.
{{RootCmd
 | cp /home/username/firmware /mnt/gentoo/lib
 | cp /home/username/modules  /mnt/gentoo/lib
 | cp /home/username/etc/firmware /mnt/gentoo/etc
}}

复制firmware modules 到gentoo-arm系统中

edit fstab
{{RootCmd
 | nano /mnt/gentoo/etc/fstab
 |/dev/mmcblk0p1          /boot           vfat            umask=033       1 2
 |/dev/mmcblk0p2          /               ext4            defaults        0 1
}}

编辑fstab

change root passwd
{{RootCmd
 | sed -i 's/^root:.*/root::::::::/' /mnt/gentoo/etc/shadow
 | you shoule set /etc/ssh/sshd_config  root can ssh ; But this is dange you can search googel or baidu 
}}

更改root默认密码为空

start wifi insmod wifi driver.
{{RootCmd
 | cd /etc/init.d/
 | cp net.lo net.eth0
 | cp net.lo net.wlan0
 | nano /etc/local.d/insmod.start    
  insmod  /lib/modules/3.4.39_zero/xradio_wlan.ko #insmod modules
  /etc/init.d/net.wlan0 restart   #because no do this you can't use net-misc/netifrc set static ip if you don't need static ip you can # this line
}}
 设置静态ip才需要上面这行否则可以注释掉
开机引导wifi模块以及设置静态ip详细参考


https://wiki.gentoo.org/wiki/Handbook:AMD64/Networking/Wireless/zh-cn
now put you sd card in you orangepi zero .power 2A  wifi need 3.3v 
把sd取出 放入你的orangepi zero中，电源至少2A，wifi需要3.3v才能启动。
