TODO:
* intro, when 'n why?
* hardened basics
* lead into [[Hardened Gentoo/SELinux|SELinux]]
* lead into [[Hardened Gentoo/Grsecurity|Grsecurity]]
* lead into [[Hardened Gentoo/PaX|PaX]]
== Toolchain ==
The hardened GCC profile is the one without a suffix. If you want to disable PIE or SSP, choose the relavent '''hardenedno'''('''nopie'''|'''nossp''') or both, '''hardenednopiessp'''. The '''vanilla''' profile is of course the one with hardened disabled.
{{RootCmd|gcc-config -l
|output=[1] i686-pc-linux-gnu-4.5.3 *
[2] i686-pc-linux-gnu-4.5.3-hardenednopie
[3] i686-pc-linux-gnu-4.5.3-hardenednopiessp
[4] i686-pc-linux-gnu-4.5.3-hardenednossp
[5] i686-pc-linux-gnu-4.5.3-vanilla
}}

=== Per Package ===
{{Warning|This method is not supported by Gentoo.}}
Changing GCC profile to deal with specific packages can be a pain. A way to avoid this is to set per-package C(XX)FLAGS using '''package.env'''. Create the file /etc/portage/env/nossp and add to that:
{{File|/etc/portage/env/nossp|Disable SSP|<pre>
CFLAGS="${CFLAGS} -fno-stack-protector"
CXXFLAGS="${CXXFLAGS} -fno-stack-protector"
</pre>}}
To allow for disabling PIE, create and add to /etc/portage/env/nopie:
{{File|/etc/portage/env/nopie|Disable PIE|<pre>
CFLAGS="${CFLAGS} -nopie"
CXXFLAGS="${CXXFLAGS} -nopie"
LDFLAGS="${LDFLAGS} -nopie"
</pre>}}

Finally add the package you want to disable either PIE or SSP for to /etc/portage/package.env and the relevant /etc/portage/env/<filename>, for no justified reason {{Package|sys-libs/zlib}} is used here:
{{File|/etc/portage/package.env|Disable PIE for sys-libs/zlib|<pre>
sys-libs/zlib nopie
</pre>}}

== Links ==
* [http://www.gentoo.org/proj/en/hardened/ Gentoo Hardened Project]
* [http://www.gentoo.org/proj/en/hardened/selinux/ Gentoo Hardened SELinux Project]
