<languages />
{{Lowercase title}}
{{InfoBox stack
|{{InfoBox wikipedia|nouveau (software)|header=true}}
}}

'''nouveau''' es el controlador de código abierto para las tarjetas gráficas [[nVidia|NVIDIA]].

== Limitaciones ==

Al ser un proyecto de código abierto que se ejecuta en lo que es, en gran medida, el hardware propietario, hay algunas limitaciones inherentes a Nouveau que no son aplicables al controlador de código cerrado [[NVidia/nvidia-drivers|nvidia-drivers]]. Dicho esto, Nouveau está en constante evolución, por lo que estas limitaciones están sujetas a cambiar con el tiempo.

== Instalación ==

=== El núcleo de Linux ===

Necesita activar las siguientes opciones del núcleo:

{{KernelBox|title=̠Activar nouveau|1=
Device Drivers  --->
   Graphics support  --->
      <*> Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) --->
         <*> Enable legacy fbdev support for your modesetting driver
      <*> Nouveau (NVIDIA) cards
}}

=== El controlador ===

{{VIDEO_CARDS|nouveau}}

=== Udev ===

Si se ha instalado el Si se ha instalado el controlador propietario de NVIDIA, se habrá instalado tambień un archivo de reglas de udev en {{Path|/lib/udev/rules.d/99-nvidia.rules}}. Al intentar utilizar el controlador nouveau sin desactivar dicho archivo de reglas, el archivo del registro de X11 se llenará con bloques de mensajes como este repitiendose cada 10 ms:controlador propietario de NVIDIA, se habrá instalado tambień un archivo de reglas de udev en {{Path|/lib/udev/rules.d/99-nvidia.rules}}. Al intentar utilizar el controlador nouveau sin desactivar dicho archivo de reglas, el archivo del registro de X11 se llenará con bloques de mensajes como este repitiendose cada 10 ms:

{{FileBox|filename=/var/log/Xorg.0.log|title=Resultados de la regla de udev obsoleta para nvidia-drivers|1=
 <nowiki>
 [   180.669] (II) NOUVEAU(0): EDID vendor "SAM", prod id 430
 [   180.669] (II) NOUVEAU(0): Using hsync ranges from config file
 [   180.669] (II) NOUVEAU(0): Using vrefresh ranges from config file
 [   180.669] (II) NOUVEAU(0): Printing DDC gathered Modelines:
 [   180.669] (II) NOUVEAU(0): Modeline "1600x1200"x0.0  162.00  1600 1664 1856 2160  1200 1201 1204 1250 +hsync +vsync (75.0 kHz eP)
 [   180.669] (II) NOUVEAU(0): Modeline "800x600"x0.0   40.00  800 840 968 1056  600 601 605 628 +hsync +vsync (37.9 kHz e)
 [   180.669] (II) NOUVEAU(0): Modeline "800x600"x0.0   36.00  800 824 896 1024  600 601 603 625 +hsync +vsync (35.2 kHz e)
 [...]
 [   180.669] (II) NOUVEAU(0): Modeline "1152x864"x0.0  108.00  1152 1216 1344 1600  864 865 868 900 +hsync +vsync (67.5 kHz e)
 [   180.669] (II) NOUVEAU(0): Modeline "1280x1024"x0.0  108.00  1280 1328 1440 1688  1024 1025 1028 1066 +hsync +vsync (64.0 kHz e)
 [   180.669] (II) NOUVEAU(0): Modeline "1280x960"x0.0  108.00  1280 1376 1488 1800  960 961 964 1000 +hsync +vsync (60.0 kHz e)
 [   180.669] removing GPU device /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0/drm/card2 /dev/dri/card2
 </nowiki>
}}

Para evitar esto (sin desinstalar el paquete {{Package|x11-drivers/nvidia-drivers}}), basta con quitar/mover/renombrar el archivo udev {{Path|/lib/udev/rules.d/99-nvidia.rules}} de modo que ya no esté ocupado por udev (vea [[Udev#Advanced_Configuration|Advanced Configuration of udev]]). Tenga en cuenta que la próxima vez que actualice nvidia-drivers, se volverá a instalar ese archivo, por lo que considere desinstalar nvidia-drivers.

== Configuración ==

=== Permisos ===

Si tiene el parámetro USE <code>acl</code> activado a nivel global y está utilizando ConsoleKit (es decir, que está utilizando un perfil Desktop), los permisos para las tarjetas de vídeo serán manejados de forma automática. Puede comprobar los permisos con {{Path|getfacl}}:

{{Cmd||1=getfacl /dev/dri/card0 <nowiki>|</nowiki> grep <usuario><br />
user:<'''usuario'''>:rw-
}}

Una solución más amplia consiste en agregar el usuario al que desea darle capacidad de acceder a la tarjeta de ''vídeo'' al grupo «video»:

{{RootCmd|gpasswd -a <usuario> video}}

Tenga en cuenta que todavía será capaz de ejecutar X sin permisos para el subsistema DRI, pero, por lo general, no con la aceleración activada.

=== xorg.conf ===

El [[X server|servidor X]] está diseñado para funcionar una vez instalado, sin necesidad de modificar manualmente los archivos de configuración de X.Org. Este debe detectar y configurar dispositivos tales como pantallas, teclados y ratones.

Dicho lo anterior, el archivo de configuración principal del servidor X es {{Path|[[xorg.conf]]}}.

== Limitaciones ==

Algunos de los problemas o inconvenientes actuales del controlador nouveau en comparación con el de código cerrado {{Package|x11-drivers/nvidia-drivers}} serían:

* El rendimiento (especialmente el rendimiento en 3D) en la misma tarjeta/chipset puede ser significativamente peor que usando nvidia-drivers.
* Los intentos para funcionar a frecuencias más altas (es decir, por encima de los 60 Hz) pueden fallar.
* La utilización de funciones avanzadas de varias tarjetas NVIDIA (por ejemplo, capacidades de visualización múltiple de las tarjetas Quadro sin SLI) pueden no funcionar correctamente.


== Solución de problemas ==

* {{Bug|xf86-video-nouveau|search=package}}
* {{Bug|xorg|site=fdo|search=product|component=Driver%2Fnouveau}}

=== Multi-monitor problems ===

When the screen freezes often with possible EDID probes while using dual monitors/displays, try adding <code>video=VGA-1:e</code> or <code>video=VGA-1:d</code> (enable or disable respectively) to the {{Path|grub.cfg}} or {{Path|grub2.cfg}} command line options, substituting the name of the monitor listed within {{c|dmesg}} or {{Path|/var/log/Xorg.0.log}}. (ie. CRT-1, VGA-1, LVDS-1, DVI-1, ...)

For instance, on a Dell Inspiron 8100 laptop with a connected external display connected via the laptop's external VGA port, a possible command line is: <code>video=LVDS-1:1280x1024@60 video=VGA-1:1280x1024@60</code>. The EDID (DRM) probe on the external VGA connected display is still causing freezing during nouveau/drm load for the author, but at least it's usable if the display is connected after grub is loaded and prior to the nouveau/drm modules loading. And with the prior mentioned command line LVDS/VGA resolutions, the displays are cloned and centred with somewhat correct resolutions for cloned displays.

=== NVIDIA Optimus ===

When using a laptop with NVIDIA's Optimus technology (usually found in laptops built in 2010 and later), everything will be passed through the integrated graphics controller (usually Intel) before it gets to the discreet video card (NVIDIA), which can cause a lot of otherwise unexplained problems when enabled. There are a few ways to handle this, but the simplest is to disable Optimus through the BIOS (normally accessed by pressing {{Key|F12}} during boot). This will result in increased power consumption (decreased battery life, increased running temperature), as the NVIDIA card will now be handling all of the work all of the time.

== See also ==

* [[nVidia/nvidia-drivers]] - Closed source binary driver for NVIDIA graphic cards
* [[nouveau & nvidia-drivers switching]]
* [[Hprofile#VGA]] - Supporting live switching between graphic cards

== External resources ==

* [http://nouveau.freedesktop.org/wiki/VideoAcceleration/ Nouveau Video Acceleration]

[[Category:Graphics Adapters]]
