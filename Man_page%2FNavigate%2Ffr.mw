<languages />

Ce guide vous explique comment naviguer dans les pages de manuel en utilisant ''man''.

== Introduction ==

=== Le programme man ===

Chacun, à un certain stade de sa vie avec Linux l'a utilisé. Il s'agit de la commande <code>man</code>. Néanmoins, bien que le programme ''man'' lui-même soit assez simple dans sa structure, il dispose de quelques fonctionnalités  autres que celle de simplement faire défiler une page. Ce document espère apporter un peu de lumière sur ces fonctionnalités. 

=== Arrangement de Man ===

Les pages de manuel sont stockées principalement dans le répertoire {{Path|/usr/share/man}}. Cependant, tant que lemplacement d'une page de manuel est listé dans la variable d'environnement <code>MANPATH</code>, ''man'' est capable de la retrouver. Gentoo stocke généralement les variables <code>MANPATH</code> dans {{Path|/etc/env.d}}. Dans ces répertoires, il existe quelques dossiers intitulés ''manX'', ou X est le numéro de section. Par exemple, un arrangement standard de man ressemble à ceci : 

{{Cmd|ls /usr/share/man {{!}} grep man|output=<pre>
man0p
man1
man1p
man2
man3
man3p
man4
man5
man6
man7
man8
man9
mann
</pre>
}}

La numérotation réelle des sections semble être tout à fait standard. Néanmoins, notez qu'il y a un dossier {{Path|mann}}  et quelques  dossiers {{Path|man#p}}. La table suivante présente les répertoires de pages de manuel ci-dessus et ce qu'ils contiennent : 

{| class="wikitable" style="text-align: left;" 
|- 
! Répertoire Man 
! Description
|- 
| man0p
| Le  <code>p</code> ici signifie POSIX, tout comme pour les répertoires qui contiennent ''p'' dans leur nom. Les pages de manuel dans ce répertoire décrivent la fonction de différents fichiers d'entête POSIX.
|- 
| man1
| Cette section est réservée aux commandes standards. La plupart des programmes placent leurs pages de manuel ici ; c'est pourquoi cette section a tendance à être la plus volumineuse. 
|- 
| man1p
| Cette section décrit la version  POSIX de la commande décrite en 1p. Comme elle se contente de décrire les commandes de base, elle est beaucoup plus petite que man1.
|- 
| man2
| Cette section décrit les appels système au noyau Linux. 
|- 
| man3
| Cette section décrit les fonctions de la bibliothèque c standard.
|- 
| man4
| Cette section décrit les périphériques spéciaux. Ces périphériques son généralement orientés noyau, mais <code>Xorg-X11</code> y a aussi des entrées.
|- 
| man5
| Cette section décrit, à la fois, la constitution de certains fichiers et quels fichiers un programme utilise. Il se peut que ceux d'entre-vous qui lisent ce document  soient familiers avec les références  à <code>man 5 portage</code> pour une  description de la structure du fichier  <code>portage</code> , et à <code>man 5 make.conf</code> pour la constitution de  {{Path|make.conf}}.
|- 
| man6
| Cette section introduit les jeux et autres amusements. 
|- 
| man7
| Cette sections décrit des items standards et d'autres très variés. Ces items standards comprennent les jeux de caractères, les instructions SQL, les normes ISO et les expressions régulières.  
|- 
| man8
| Cette section décrit les commandes administratives (celles que l'administrateur utilise couramment).
|- 
| man9
|  Cette section est assez peu fournie, mais elle est prévue pour accueillir la documentation sur les différents parties du noyau.
|- 
| mann
| Cette  section est principalement utilisée par <code>Tcl/Tk</code> . Le <code>n</code> signifie  ''nouveau''.
|-
|}

Bien que cela ne soit pas une liste détaillée et exhaustive, elle couvre les pages de manuel qui intéressent la plupart des gens. Cependant, dans certains cas, vous pouvez savoir ce qu'une section présente aussi aisément que de consulter cette table. Le prochain chapitre vous montrera comment parcourir cet arrangement. 

== Travailler avec l'arrangement des pages de manuel ==

=== Feuilleter les pages de manuel ===

Maintenant que vous avez une idée claire de l'arrangement des pages de manuel, vous pouvez commencer à rechercher des commandes. Parfois, il nous faut affiner progressivement notre recherche. Le premier pas consiste à s'intéresser aux sections. Pour trouver la description d'une section, on peut utiliser <code>man section intro</code>, comme ceci : 

{{Cmd|man 3 intro|sortie=<pre>
## (Sortie légèrement modifiée pour s'adapter à ce document)
INTRO(3)               Linux Programmer's Manual                INTRO(3)
 
 
 
NAME
       intro - Introduction aux fonctions de bibliothèque
 
DESCRIPTION
       Cette section décrit toutes les fonctions de bibliothèques à l'exclusion des fonctions incluses dans la section 2, implémentant des appels système.
       Il y a différents groupes de fonctions  qui sont identifiés par une lettre ajoutée au numéro de section :
....
</pre>
}}

Malheureusement, cela ne marche pas toujours ! Cependant, heureusement pour nous, il y a une autre façon de rechercher des commandes qui peut retourner des résultats multiples (comme un appel à une bibliothèque et une commande système qui ont le même nom). Pour ce faire, nous utilisons le paramètre <code>-K</code>  de man de cette manière : 

{{Cmd|man -K sleep|sortie=<pre>
/usr/share/man/man0p/time.h.0p.gz? [ynq] n
/usr/share/man/man0p/unistd.h.0p.gz? [ynq] n
/usr/share/man/man2/alarm.2.gz? [ynq] n
/usr/share/man/man2/pause.2.gz? [ynq] n
/usr/share/man/man2/futex.2.gz? [ynq] n
/usr/share/man/man2/nanosleep.2.gz? [ynq] y
/usr/share/man/man2/semop.2.gz? [ynq] q
</pre>
}}

Parfois la sortie peut prendre pas mal de place. Dans ce cas, il peut être préférable de spécifier plus de mots clé. Maintenant que nous savons où trouver la page de manuel, la section suivante va vous montrer comment la visualiser. 

=== Visualiser les pages de manuel ===

Visualiser les pages de manuel peut être accompli de deux manières. En premier lieu avec la commande <code>man [nom de la page man ]</code>. La deuxième  manière utilise <code>man [section] [nom de page man page ]</code>. Considérons <code>bc</code>  par exemple. Nous pouvons voir, soit la première page de manuel qui apparaît avec <code>bc</code> (qui devrait être la section 1, parce que c'est la section de numéro le plus faible contenant une page de manuel sur <code>bc</code>) : 

{{Cmd|man bc|sortie=<pre>
bc(1)                                            bc(1)
 
 
NAME
       bc -  An arbitrary precision calculator language
...
</pre>
}}

Cependant, comment faire pour avoir la version POSIX ? Dans ce cas nous utilisons la deuxième forme : 

{{Cmd|man 1p bc|output=<pre>
BC(P)        POSIX Programmer's Manual           BC(P)
 
 
NAME
       bc - arbitrary-precision arithmetic language
...
</pre>
}}

Et la page de manuel est affichée. Maintenant que nous savons afficher une page de manuel, il est temps de l'utiliser. La section suivante vous montre comment naviguer et rechercher. 

=== Naviguer et chercher dans les pages de manuel ===

Naviguer dans une page de manuel est très facile. Utilisez les touches fléchées pour vous déplacer d'une ligne vers le haut ou vers le bas. Utilisez les touches « page vers le haut » et « page vers le bas » pour aller de page en page, respectivement vers le haut et vers le bas. Notez néanmoins que ces instructions de navigation supposent que la variable d'environnement <code>PAGER</code> est définie pour utiliser l'outil de  pagination par défaut, à savoir <code>less</code>. ''Less'' comprend aussi quelques autres commandes de navigation, mais les touches fléchées suffisent généralement : 

{{Code|Commande de navigation supplémentaire de  less |<pre>
  e  ^E  j  ^N  CR  *  Avancer d'une ligne   (ou N lignes).
  y  ^Y  k  ^K  ^P  *  Reculer d'une ligne   (ou N lignes).
  f  ^F  ^V  SPACE  *  Avancer d'une fenêtre (or N lignes).
  b  ^B  ESC-v      *  Reculer d'une fenêtre(or N lignes).
  z                 *  Avancer d'une fenêtre (et définir window à  N).
  w                 *  Reculer d'une fenêtre  (et définir window à  N).
  ESC-SPACE         *  Avancer d'une fenêtre, mais ne pas s'arrêter sur une fin de fichier.
  d  ^D             *  Avancer d'une demi-fenêtre (et définir half-window à N).
  u  ^U             *  vancer d'une demi-fenêtre  (et définir half-window à N)..
  ESC-)  Flèche à droite *  se décaler à droite d'un demi-écran (ou de N positions).
  ESC-(  Flèches à gauche  * se décaler à gauche d'un demi-écran (ou de N positions).
  F                    Avancer tout le temps ; comme "tail -f".
</pre>
}}

La recherche, pour sa part, est plus intéressante. Les deux commandes de recherche de base sont <code>/pattern</code> et <code>?pattern</code>. La première version cherche en avant, la seconde en arrière. <code>pattern</code> est une expression régulière qui est décrite dans <code>man 7 regex</code>. Prenons l'exemple de la recherche de l'option  <code>-D</code> de la commande  <code>emerge</code>. Tout d'abord appelons la page ''emerge'' : 

{{Cmd|man emerge}}

Ensuite, pressons la touche <code>/</code> pour faire apparaître l'invite de commande pour rechercher en avant et saisissons l'expression régulière à rechercher : 

{{Code|Faire apparaître l'invite de commande de recherche en avant|<pre>
     gracefully handles updating installed packages to newer releases as well.
     It handles both source and binary packages, and it can be used to create
     binary packages for distribution.
 
EBUILDS, TBZ2S, CLASSES AND DEPENDENCIES
/\-D
</pre>
}}

{{Note|Le  <code>\</code> sert à échapper le signe  <code>-</code> , qui devrait être utilisé en tant que partie de l'expression régulière.}}

Ceci recherchera la page de manuel et se focalisera sur l'item recherché : 

{{Code|Résultats de la recherche en avant|<pre>
  --deep (-D)
        When used in conjunction with --update, this flag forces emerge to consider the entire
        dependency tree of packages, instead of checking only the immediate dependencies of
        the packages.  As an example, this catches updates in libraries that are not directly
        listed in the  dependencies of a package.
</pre>
}}

Si vous atteignez un résultat de recherche par accident et que vous voulez continuer à chercher parmi les mêmes résultats, pressez simplement la touche <code>/</code>, puis faites  ''Entrée'' (c.à.d. ne saisissez pas d'expression régulière). Ceci fera repartir la recherche avec la dernière expression régulière utilisée. Maintenant, dans quelques pages, les options sont listées, puis expliqués plus loin dans le texte. Prenez  <code>man 5 portage</code>. Elle liste les fichiers utilisés , puis explique comment les utiliser. Une recherche en avant répétée quelques fois devrait retourner les résultats, mais il y a une manière plus facile d'appréhender cela ; elle consiste à utiliser la deuxième forme, la recherche en arrière.Essayons de l'utiliser pour trouver la description de {{Path|package.unmask}}. Tout d'abord, appelons la page <code>man 5 portage</code> : 

{{Cmd|man 5 portage}}

Maintenant pressez la combinaison de touches <code>SHIFT+g</code>. Cela vous amènera en fin de page : 

{{Code|Fin de la page de manuel après un SHIFT+g|<pre>
SEE ALSO
       emerge(1), ebuild(1), ebuild(5), make.conf(5)
 
Portage 2.0.51        Jan 2004            PORTAGE(5)
lines 418-442/442 (END)
</pre>
}}

Avançons maintenant en entrant l'expression régulière à chercher avec l'option  <code>?pattern</code> de recherche en arrière. Tout d'abord pressons la touche  <code>?</code> pour faire apparaître l'invite de commande et saisisson <code>package.unmask</code> , l'objet de notre recherche : 

{{Code|Spécifier notre recherche|<pre>
SEE ALSO
       emerge(1), ebuild(1), ebuild(5), make.conf(5)
 
Portage 2.0.51        Jan 2004           PORTAGE(5)
?package.unmask
</pre>
}}

Faites ''Entrée'' pour afficher le résultat : 

{{Code|Résutlat de notre recherche|<pre>
  package.unmask
       Just like package.mask above, except here you list packages you want to unmask.
       Useful for overriding the global  package.mask  file (see below).  Note that
       this does not override packages that are masked via KEYWORDS.
...
</pre>
}}

La recherche est terminée ! Notez que, tout comme avec  <code>/</code> , utiliser <code>?</code> sans expression régulière revient à rechercher avec la dernière expression régulière utilisée.

=== Conclusion ===

Ceci conclut le guide sur man. Nous espérons avoir apporter un peu de clarté sur la navigation dans les pages, et peut-être même, avoir apporté de nouvelles astuces à des utilisateurs plus expérimentés. Pour ceux qui préfèrent un moyen alternatif pour naviguer dans les pages de manuel, les moyens suivants sont aussi disponibles : 

* app-text/man2html - un programme de conversions des pages de manuel en  html
* app-text/tkman -  un navigateur de pages de manuel basé sur tk

Le navigateur <code>Konqueror</code> de <code>KDE</code> peut aussi vous permettre de naviguer dans les pages de manuel en utilisant la syntaxe <code>man:</code> dans la barre d'adresse. 

== Remerciements ==

Nous tenons à remercier les auteurs et éditeurs suivants pour leur contribution à ce guide :

* Chris White
* José Fournier (Traduction)
