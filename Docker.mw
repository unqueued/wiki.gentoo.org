{{InfoBox stack
|{{InfoBox homepage|https://www.docker.com/|header=true}}
|{{InfoBox gdoc|Docker}}
|{{InfoBox wikipedia|Docker_(software)}}
}}

Docker is a container virtualization environment. With it you can setup development environments without messing up your base system, or deploy instances of containers. This is a thin virtualization, using your host kernel, making it faster, but the container produces a kernel panic, you also will have a kernel panic.

== Installation ==

=== Kernel ===

If you miss the kernel config, you will get a list of kernel options missing. You can set them manually, by using / (slash) in menuconfig to search the name of the option.

{{KernelBox|title=Configuring the kernel for Docker|1=
   General setup  --->
    [*] Control Group support  --->
        [*]   Device controller for cgroups
        [*]   Resource counters
        [*]     Memory Resource Controller for Control Groups
        [*]       Memory Resource Controller Swap Extension
        [*]          Memory Resource Controller Swap Extension enabled by default
        [*]   Enable perf_event per-cpu per-container group (cgroup) monitoring
        [*]   Group CPU scheduler  --->
            [*]   Group scheduling for SCHED_OTHER
            [*]     CPU bandwidth provisioning for FAIR_GROUP_SCHED
        [*]   Block IO controller
[*] Networking support  --->
       Networking options  --->
        [*] Network packet filtering framework (Netfilter)  --->
            [*]   Advanced netfilter configuration
            [*]     Bridged IP/ARP packets filtering
        <*> 802.1d Ethernet Bridging
Device Drivers  --->
    [*] Multiple devices driver support (RAID and LVM)  --->
        <*>   Device mapper support
        <*>     Thin provisioning target
    [*] Network device support  --->
        [*]   Network core driver support
        <*>     Virtual ethernet pair device
       Character devices  --->
        -*- Enable TTY
        -*-   Unix98 PTY support
        [*]     Support multiple instances of devpts
}}

Exit the kernel configuration, [[Kernel/Rebuild|rebuild the kernel]], and reboot the system to the new kernel.

=== Emerge ===

Install {{Package|app-emulation/docker}}:

{{Emerge|params+=--verbose|app-emulation/docker}}

== Configuration ==

=== Services ===

==== OpenRC ====

After Docker has been successfully installed, start it and add it to the system's default runlevel:

{{RootCmd
|/etc/init.d/docker start
|rc-update add docker default
}}

=== Permissions ===

Add relevant users to the docker group:

{{RootCmd|usermod -aG docker <username>}}

== Usage ==

=== Testing ===

Create a new Dockerfile in an empty directory with the following content:

FROM php:5.6-apache

Run:

{{Cmd
|docker build -t my-php-app .
|docker run -it --rm --name my-running-app my-php-app
}}

== See also ==

* [[LXC]] - Linux containers.
