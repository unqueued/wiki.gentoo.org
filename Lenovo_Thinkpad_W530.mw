The Lenovo Thinkpad W530 and its associated hardware components can be difficult to configure properly in Gentoo. This article is a configuration guide to help you work out some of the details in order to get your notebook working as it should be. Do not expect to have exactly the same hardware listed in this guide in your W530. The hardware listed here is to be used as an example. Some of the components might be similar, but there are always variants in computer manufacturing. 

== General Platform Notes ==


=== Speed enhancements ===
==== Caching Portage in tmpfs ====
If you are using an SSD or HHD and you have a lot of RAM (16GB would be more than enough) you can both expand the life of your drive and speed up build time by caching your Portage temp directory completely in RAM. Be sure to adjust to the amount of memory you want to allocate. The example below allows Portage to use maximum of 10GBs of RAM (tmpfs) during compiles. You can read more about caching Portage in tmpfs by reading [[Portage_TMPDIR_on_tmpfs|this article]].
{{file|/etc/fstab|Adding Portage temp directory to 10GBs of tmpfs:|
<pre>
tmpfs		/var/tmp/portage	tmpfs	uid=portage,gid=portage,mode=0775,size=10240M,noatime	0 0
</pre>
}}

After {{path|/etc/fstab}} has been modified, Portage's temp directory will be mounted in RAM on every boot. To mount Portage temp directory now simply run this command:
{{RootCmd|mount /var/tmp/portage}}


== Kernel Configuration ==



In order to build your kernel properly use the <code>make menuconfig</code> command to start configure your kernel:
{{RootCmd|make menuconfig|}}

After configuration run these commands in this order to build and install your system's kernel and modules:
{{RootCmd|make|}}
{{RootCmd|make modules|}}
{{RootCmd|make install|}}
{{RootCmd|make modules_install|}}

== System Hardware ==

{{Important|As stated above, the hardware listed in the following commands might not match the hardware in your system verbatim.}}

{{RootCmd|lspci -nnk|output=<pre>

</pre>
}}

{{RootCmd|lsusb|output=<pre>

</pre>
}}


== X Display Configuration ==

=== Intel Graphics ===

This xorg.conf can make the integrated Intel GPU work properly:

{{file|/etc/X11/xorg.conf||
<pre>


</pre>
}}

=== Nouveau & Intel Graphics ===



=== NVidia Proprietary Graphics ===



[[Category:Laptops]]
