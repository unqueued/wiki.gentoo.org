{{stub}}
{{InfoBox stack
|{{InfoBox homepage|http://www.ansible.com|header=true}}
|{{InfoBox github|ansible/ansible}}
|{{InfoBox wikipedia|Ansible (software)}}
}}

'''Ansible''' is a configuration management system written in [[Python]]. It can be used for automating machine deployments.

== Installation ==

=== Emerge ===

Install {{Package|app-admin/ansible}}:

{{Emerge|app-admin/ansible}}

=== Configuration ===
The app-admin/ansible-1.9.4 ebuild will not generate the basic configuration. The default inventory file is named hosts should be in the /etc/ansible directory

{{RootCmd
|mkdir /etc/ansible
|nano /etc/ansible/hosts
}}
This file contains the managed computers organized in groups.

{{FileBox|filename=/etc/ansible/hosts|title=Sample inventory file|1=
[servers]
myserver01
myserver02
myserver03

[workstations]
evapc ansible_ssh_user=myuser ansible_ssh_port=9000
joepc ansible_ssh_user=myuser
mypc ansible_ssh_user=myuser
}}

With "ansible_ssh_user=" and "ansible_ssh_port=" remote users and ssh ports can be specified per hosts
{{FileBox|filename=/etc/ansible/ansible.cfg|title=Default configuration|1=
# Default remote user
remote_user = root
# SSH timeout in seconds
timeout = 10
}}

== Example usage ==

{{RootCmd
| ansible evapc -u myuser -m ping   # Check is ansible can manage remote machine with given user
| ansible evapc -u myuser -m setup  # Get info from remote machine, what can be used later in playbooks
| ansible evapc -s -u myuser -m command -a "emerge --sync"  # Run emerge --sync on evapc under myuser via sudo
}}

{| class="wikitable"
|-
! Switch
! Description
|-
| -u
| Specifies the user, if absent ansible will search in your inventory file for default user associated to the given host, if not any it will use the default specified in the /etc/ansible/ansible.cfg, if there is no such an entry it will use the current username. 
|-
| -m
| Specifies the module to be invoked
|-
| -a
| Specifies the arguments to passed to the module
|}
You can use ansible-doc to read module documentation
{{Cmd
| ansible-doc -l # List available modules
| ansible-doc ping # Print out info about the ping module
}}

== Roles for Gentoo ==

You can find over 40 roles specifically for Gentoo on https://github.com/gentoo-ansible.
