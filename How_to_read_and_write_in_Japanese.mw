<languages />
<translate>

<!--T:1-->
This guide aims at explaining how to read and write in Japanese on a non-Japanese system. Please feel free to amend it based on personal knowledge or experience.

== Requirements == <!--T:2-->

<!--T:3-->
In order to support Japanese language and characters, a number of required tools, libraries and capabilities need to be installed on the system.

=== Japanese fonts === <!--T:4-->

<!--T:5-->
Most non-Japanese systems have no Japanese fonts installed. Whenever a user tries to enter Japanese characters from the keyboard, they will only see small rectangle boxes in place of the characters on the screen.

=== Input method === <!--T:6-->

<!--T:7-->
To read and write in Japanese, the first thing that is needed is a way to enter Japanese characters with the keyboard. This is done via a piece of software usually called an ''input method''. At the moment, for the Japanese language,  there are 2 such common methods: ''anthy'' and ''mozc''.

<!--T:8-->
With such a software component typing "ta" on the keyboard will input the kana '''た''' into the word processor. Some simple manipulation that is relevant to the way the input method works, will permit to easily switch from the hiragana '''た''' to the katakana  '''タ'''.

<!--T:9-->
In a similar way typing "nihon" will input '''にほん''' and an other simple manipulation will permit to turn this to the kanji version of this word, '''日本'''.

<!--T:10-->
{{Note|It is not the purpose of this guide to  describe in detail how the "anthy" or "mozc" input methods work. Please refer to the documentation of these software components.}}

=== IME === <!--T:11-->

<!--T:12-->
On top of this users also need a way to switch from the input method normally used for the primary language to the one needed for the Japanese language. This functionality is provided by another piece of software called an IME (Input Method Editor) such as {{Package|app-i18n/ibus}}, {{Package|app-i18n/scim}} or {{Package|app-i18n/fcitx}}. 

<!--T:13-->
Once installed, this allows users to switch from one language's input method to the Japanese input method using a key combination or using the mouse to select a relevant icon in the icon tray.

== Installation == <!--T:14-->

=== Japanese fonts === <!--T:15-->

<!--T:16-->
As a minimum, install the {{Package|media-fonts/kochi-substitute}} package.

<!--T:17-->
{{Emerge|kochi-substitute}}

<!--T:18-->
Additionally, the following packages are also available:
* {{Package|media-fonts/ja-ipafonts}}
* {{Package|media-fonts/vlgothic}}
* {{Package|media-fonts/mplus-outline-fonts}}
* {{Package|media-fonts/monafont}}
* {{Package|media-fonts/ipamonafont}}
* {{Package|media-fonts/sazanami}}

=== Input tools === <!--T:19-->

<!--T:20-->
It is recommended to use ''ibus'' instead of ''scim''.

<!--T:21-->
To install ibus, install {{Package|app-i18n/ibus-anthy}}:

<!--T:22-->
{{Emerge|ibus-anthy}}

====  mozc ==== <!--T:23-->

<!--T:24-->
{{c|mozc}} is provided through the {{Package|app-i18n/mozc}} package.

<!--T:25-->
{{Note|''mozc'' has a better reputation than ''anthy'' though anthy has been proving working fine for years now. Among pros for ''mozc'', there are the fact that it shows the candidates instantly during typing and has a better learning system in order to present the user the best candidates depending on the user's habit and context. It also provides the ''ATOK'' mechanism for quickly change an hiragana input to katakana (e.g. F7 as default before hitting space) or to other modes.}}

<!--T:26-->
{{Note|When trying to use ''mozc'' some problems might occur. After selecting ''mozc'' as an input method in the ''ibus-preferences'' graphical utility, the ''mozc'' icon in the keyboard icon tray might not be visible. Open the {{Path|gnome settings}} --> {{Path|Countries & Languages}}, remove all Japanese input methods (in this case "anthy") and add "Japanese(Mozc)".
}}

==== Launching the ibus daemon at login time ==== <!--T:27-->

<!--T:28-->
Add these lines to the {{Path| ~/.xprofile}} file and log out/log in again.

<!--T:29-->
{{FileBox|filename=~/.xprofile|lang=bash|1=
export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
ibus-daemon -drx
}}

<!--T:30-->
This will allow the ibus daemon to start at login time.

==== Configuring ==== <!--T:31-->

<!--T:32-->
To configure the Input Method Editor, use the following command as a standard user

<!--T:33-->
{{Cmd|ibus-setup}} 

<!--T:34-->
Alternatively, when using [[GNOME]], type "ibus" in the search bar and launch "ibus-preferences".

<!--T:35-->
In the dialog box that appears, click on the {{Path|Input method}} tab and add the "japanese-anthy" method. Then return to the {{Path|General}} tab and define a key combination as a keyboard short cut for switching the input method.

=== Latex === <!--T:36-->

<!--T:37-->
Here are some additional requirements to write Latex files in Japanese.

==== ibus-qt ==== <!--T:38-->

<!--T:39-->
When using editor aiming at writing Latex files such as TexMaker or TexStudio, ibus crashes each time a Latex command is entered (specially after entering the {{Key|{}} char). To solve this kind of malfunctioning install {{Package|app-i18n/ibus-qt}}:

<!--T:40-->
{{Emerge|app-i18n/ibus-qt}}

==== CJK and xetex support ==== <!--T:41-->

<!--T:42-->
In order to write Japanese chunks in Latex files, add support for CJK languages and for [[http://en.wikipedia.org/wiki/XeTeX xetex]] in Texlive.

<!--T:43-->
This can be accomplished by adding or modifying the following lines in {{Path|/etc/portage/package.use}}:

<!--T:44-->
{{FileBox|title=Enabling cjk and xetex support|filename=/etc/portage/package.use/latex|1=
app-text/texlive cjk xetex
app-text/texlive-core cjk xetex
}}

<!--T:45-->
Then reinstall the packages:

<!--T:46-->
{{Emerge|params+=--newuse|app-text/texlive app-text/texlive-core}}

<!--T:47-->
Here is a working short LaTeX sample:

<!--T:48-->
{{FileBox|filename=japanese.tex|lang=latex|1=
\documentclass{article}
\usepackage{CJKutf8}
\usepackage{color}
 
\begin{document}
 
\begin{CJK}{UTF8}{min}
\section{One simple example}
\textcolor{red}{これは赤いです。}
\\
私は日本語で書けます。
\\
But I can also write with latin characters
\end{CJK}
 
\end{document}
}}

<!--T:49-->
{{Note|In the <code>\begin{CJK}{UTF8}{min}</code> command in the example above, the third argument defines the font. Here <code>{min}</code> is used for Mincho, but other supported fonts are Gothic (<code>{goth}</code>) and Maru Gothic (<code>{maru}</code>).}}

==== Editor configuration ==== <!--T:50-->

<!--T:51-->
To compile and visualize the output of the sample above Texmaker or Texstudio editor needs to be configured properly.

<!--T:52-->
Open Texmaker, and go to {{Path|Options}} -> {{Path|Configure Texmaker}}. Under the {{Path|Commands}} tab change the following:

<!--T:53-->
* At the LaTeX line, change "latex" with "platex". 
* At the Dvipdfm line, change "divipdfm" with "dvipdfmx".

<!--T:54-->
Through the {{Path|Fast compile}} tab, choose "Latex + Dvipdfm + View PDF".

<!--T:55-->
Finally go to the {{Path|Editor}} tab, choose UTF8 encoding and deselect {{Path|On the fly}} on the dictionary line.

== See also == <!--T:56-->

<!--T:57-->
* [[IBus|Ibus]]
* [[TeX_Live| Tex Live]]

</translate>
[[Category:Localization]]
[[Category:Desktop]]
