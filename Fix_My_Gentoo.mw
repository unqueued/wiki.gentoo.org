== Preamble ==
=== Introduction ===
This guide is something I've posted on the forums several times in response to users posting about nothing works.
If your gcc is broken after a --depclean, this guide is not for you. You almost certainly need gcc-conf. Be more careful in future.

This guide is for rescuing your install when you can't chroot in, almost nothing seems to work but you have determined that you need some binary packages to fix your system.

Its actually very difficult to break Gentoo so badly, it can't be fixed.

=== Overview ===
You need some binary packages to fix your Gentoo.  You might find them on a BINHOST or tinderbox on the web but they are unlikely to be built for your system, with your USE and your CCFLAGS.  This guide shows you how to make your own binary packages to use to fix your own system.  You will not need another system, a spare partition or even another install.

=== Prerequsites === 

You need a working internet connection.
A way to boot your broken box, e.g. System Rescue CD.
About 20G of free space on your broken install. 5G may do, depending on what you need to build.

=== Summary ===
As the bootable install is not working and we need a working install to build binary packages, we need another install.
This install need not be bootable.  Its sufficient to be able to chroot into it and run emerge.
This rescue install will share some elements with the main install that is to be rescued.  It saves space and makes thing easier in the final steps.

== Getting Started ==
=== Terminology ===
/mnt/gentoo  Mount your own broken install here
/home/rescue  The new rescue install 

=== The Rescue Install ===

Make a directory at /home/rescue or wherever you hove some free space.
Fetch a stage3 tarball and untar it to /home/rescue
Do not get a portage snapshot, we will use the one in the main install.
Follow the handbook for all the odds and ends, like copying /etc/resolv.conf
Mount /dev and friends in /home/rescue just as if you were doing a new install but do not chroot yet.

Mount your broken install at /mnt/gentoo so we can use its /usr/portage

Bind mount /mnt/gentoo/usr/portage onto /home/rescue/usr/portage.
This makes your tree and distfiles available to the rescue system
Copy over /mnt/gentoo/etc/portage to /home/rescue/etc/portage
Now the rescue install has all your own settings too.

=== Change Root ===
Just like the handbook says but into /home/rescue

=== Edit /etc/portage/make.conf ===
Now we are in the chroot, we need to tell portage me want it to save binary packages of everything we build.
Edit /etc/portage/make.conf by adding buildpkg to the FEATURES statement.
This causes portage to save binary tarballs of every package built to /usr/portaage/packages.

Note that because of the bind mount of /usr/portage, /usr/portaage/packages will exist in your main install too.
