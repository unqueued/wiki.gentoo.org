<languages />

{{Metadata|abstract=이 글은 오래된 커널의 제거를 설명합니다}}

이 글은 오래된 [[kernel]]의 제거를 설명합니다.

== 커널 소스 제거 ==

새 커널을 설치하고 기대하던 바대로 동작한다면 이전 커널을 제거할 수 있습니다.  이전 커널 소스를 제거하는데 emerge 의 ''--depclean'' 옵션(줄임 표기는 ''-c'')을 사용하여 사용하지 않은 슬롯의 패키지와 오래된 모든 커널, 예를 들어 {{Package|sys-kernel/gentoo-sources}}와 같은 패키지를 삭제할 수 있습니다.

{{Emerge|params+=--depclean|gentoo-sources}}

현재 동작중인 커널의 소스를 제거하는 것은 아닌지 확인하십시오. (업그레이드 방법에서 [[Kernel/Upgrade|커널 업그레이드]] 참고.)

=== 커널 소스 보호 ===

새 커널 소스를 머지하고 새 소스로 전환하기 전에 ''--depclean''을 실행하면, 현재 소스를 제거합니다. 다만 현재 소스를 그대로 두고 싶다면, 외부 커널 모듈을 업데이트하는데 소스가 필요하기 때문에 이러한 제거 방식은 원하지 않을 것입니다. 따라서 지정된 커널 버전을 추가하는 바람직한 연습을 통해 ''--depclean'' 동작으로부터 world 파일이 제거되는걸 막으십시오.

{{Emerge|params+=--noreplace|gentoo-sources:3.3.8}}

대시 대신 구두점을 사용하여 슬롯 표기를 하십시오. 모든 커널 버전에 대해 슬롯을 보유하고 있습니다.

== Remove kernel leftovers ==

=== Using eclean-kernel ===

{{Package|app-admin/eclean-kernel}} is a simple tool for old kernel cleanup/removal. It removes both built kernel files and build directories if they're no longer reference by any preserved kernel.

For example, to keep three newest kernels around:

{{RootCmd|eclean-kernel -n 3}}

=== Manual removal ===

Portage however only removes the files it installed - the files generated during the kernel build and installation remain. They can be safely removed.

* When a kernel is built in the source directory, files generated during the build process remain, and are not removed by Portage:

: {{RootCmd|rm -r /usr/src/linux-3.X.Y}}

* During kernel setup, the kernel modules are copied to a sub directory of <tt>/lib/modules/</tt>:

: {{RootCmd|rm -r /lib/modules/3.X.Y}}

* The old files in {{Path|/boot}} can also be removed:

: {{RootCmd|rm /boot/kernel-3.X.Y|rm /boot/System.map-3.X.Y|rm /boot/config-3.X.Y}}

* Lastly, remove all leftover entries from your bootloader's config file.

[[Category:Kernel]]
