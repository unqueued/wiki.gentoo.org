{{Lowercase title}}

{{InfoBox stack
|{{InfoBox wikipedia|Bootsplash|header=true}}
}}
fbsplash is a Gentoo implementation of a Bootsplash screen to provide some eye candy during boot up or while working on a terminal without X. It is currently available in portage as {{Package|media-gfx/splashutils}}.

== Installation ==
You can install {{Package|media-gfx/splashutils}} with the following command:
{{Emerge|media-gfx/splashutils}}
To also install the Gentoo themes which are also used on the Live CD/DVD:
{{Emerge|media-gfx/splash-themes-gentoo}}
And more themes with:
{{Emerge|media-gfx/bootsplash-themes}}
Many libraries need to be build with static libraries to be ready at boot, here is a list of USE flags which could be put into {{Path|/etc/portage/package.use}} (03/07/2012):
{{File|/etc/portage/package.use||<pre># for boot-splash
media-libs/freetype static-libs
media-libs/libpng static-libs
media-libs/lcms static-libs
virtual/jpeg static-libs
media-libs/libjpeg static-libs
media-libs/libjpeg-turbo static-libs
media-libs/libmng static-libs
sys-libs/zlib static-libs
app-arch/bzip2 static-libs</pre>}}

=== USE Flags ===
{{USEflag|package=media-gfx/splashutils
|hardened++no+
|png+yes+yes+
|truetype+yes+yes+
|mng+yes+yes+
|gpm
|fbcondecor++yes+
}}

=== Requirements ===
To use a splash image the kernel needs to support [[initramfs]].

==== Kernel ====
Enable framebuffer console decorations:
{{Kernel|Kernel framebuffer configuration|<pre>
Device Drivers ->
    Graphics support ->
        Console display driver support --->
            [*] VGA text console
            [*]   Enable Scrollback Buffer in System RAM
            (64)    Scrollback Buffer Size (in KB)
            <*> Framebuffer Console support
            -*-   Map the console to the primary display device
            [ ]   Framebuffer Console Rotation
            [*]   Support for the Framebuffer Console Decorations
            [ ] Select compiled-in fonts</pre>}}
Enable Keyboard support for framebuffer themes:
{{Kernel|Enabling the Event Interface|<pre>
Device Drivers --->
    Input Device Support --->
        <*> Event Interface</pre>}}

Using either [[radeon]], [[intel]] or [[nouveau]] drivers provides a framebuffer capable device which is well implemented into the operating system. For users with the binary nVidia or AMD driver, there are workarounds using [[uvesafb]] to get frambuffer support.

== Usage ==
General usage screnarios

=== Themes ===
{{Important|this requires the fbcondecor USE flag}}
The different themes are stored in {{Path|/etc/splash}} where the folder represents the theme name. To test some of them on the console use:
{{RootCmd|splash_manager <nowiki>-c set --theme=livecd-2007.0 --tty=1</nowiki>}}
This will change the theme on ''tty1'' to ''natural_gentoo''. You can choose any theme in {{Path|/etc/splash}} that matches your current resolution. Now to see the theme go to tty1 by pressing {{Key|Ctrl}}+{{Key|Alt}}+{{Key|F1}}.
If you want to preview a theme in silent mode without reboot, then try
{{RootCmd|splash_manager <nowiki>-c demo -t natural_gentoo -m s --steps=100</nowiki>}}
{{Note|don't run this command under X window}}
For more reference please refer to
{{RootCmd|<nowiki>splash_manager --help</nowiki>}}

=== Genkernel ===
If you already use [[genkernel]] to generate your initramfs, then just change the configuration in {{Path|/etc/genkernel.conf}} to the theme you want to use. This is especially the case if you use any other compression method than gzip. Please see also [http://www.gentoo.org/doc/de/genkernel.xml Gentoo Linux Genkernel Guide]. As example just uncomment the lines:
{{File|/etc/genkernel.conf||<pre>
# Enable splashutils in early space (initrd). Default is "no".
SPLASH="yes"

# Use this splash theme. If commented out - the "default" name theme is used.
# Also, SPLASH="yes" needs to be enabled for this one to one work.
# This supersedes the "SPLASH_THEME" option of /etc/conf.d/splash (in early space).
SPLASH_THEME="emerge-world"</pre>}}
Alternatively the {{Path|/etc/conf.d/splash}} could be used to configure the theme, which will be loaded after initramfs.

=== Append ===
To append the theme to an existing initramfs:
{{RootCmd|splash_geninitramfs --verbose --res NxN --append /path/to/initramfsimage theme}}

=== Generate ===
To create a new initramfs for our theme:
{{RootCmd|splash_geninitramfs --verbose --res NxN --generate /boot/initramfs-bootsplash theme}}

=== Copy ===
To create a new initramfs with the content of an existing one to add our theme:
{{RootCmd|splash_geninitramfs --verbose --res NxN --copy /path/to/initramfsdir theme}}

=== Bootloader ===
In [[GRUB2]] the parameters can be added to the variable GRUB_CMDLINE_LINUX_DEFAULT in {{Path|/etc/defaults/grub}}. For GRUB or other bootloaders check their manual pages on how to append to the kernel commandline. Example:
{{Code|Kernel parameters|<nowiki>splash=silent,theme:emerge-world</nowiki>}}
This enables the ''verbose'' version of the ''emerge-world'' theme, a full list of parameters can be found in {{Path|/usr/share/doc/splashutils*/kernel_parameters}}

== External Resources ==
* [http://fbsplash.alanhaggai.org/ - fbsplash homepage]
* [http://en.gentoo-wiki.com/wiki/Fbsplash - en.gentoo-wiki.com]

[[category:Bootloaders]]
