Joomla is a powerful php content management system built upon the LAMP stack.


== Preinstall ==
edit /etc/make.conf and add "apache2" to your use flags then merge up lamp.

{{emerge|apache mysql php}}

start mysql

{{RootCmd|/etc/init.d/mysql start}}

scroll up into the emerge log and setup the root user for mysql running the command printed.

set the lamp stack to start upon boot

{{RootCmd|rc-update add mysql default}}
{{RootCmd|rc-update add apache default}}

edit /etc/conf.d/apache2

add '-D PHP5' to your APACHE2_OPTS line

start up your lamp stack
{{RootCmd|/etc/init.d/apache2 start}}

== Install ==

=== Backend ===
setup a directory for joomla in your web server

{{RootCmd|mkdir /var/www/localhost/htdocs/joomla}}

the ebuilds for joomla are very out of date.  pull the latest to your web server.

{{RootCmd|<nowiki>wget -o /var/www/localhost/htdocs/joomla/joomla.zip http://joomlacode.org/gf/download/frsrelease/17965/78414/Joomla_3.0.3-Stable-Full_Package.zip</nowiki>}}

unpack the zip

{{RootCmd|unzip joomla.zip}}

=== Frontend ===

point your browser @ http://127.0.0.1/joomla/installation/index.php

*Step 1
Name, and describe your site, point at your email and password the admin account. (change the admin account name if you so choose, more secure)

Click next.

*Step 2

==== Mysql ====

It is a good idea to setup an unprivileged mysql user and database for joomla.

{{RootCmd
|mysql -u root -p
|output=<pre>
mysql> CREATE DATABASE IF NOT EXISTS `joomla` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`;
mysql> CREATE USER 'joomla'@'localhost' IDENTIFIED BY 'dbpass!!! change me';
mysql> GRANT LOCK TABLES, SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER ON `joomla`.* TO 'joomla'@'localhost' IDENTIFIED BY 'dbpass!!! change me';
mysql> \q
</pre>}}

In the web page enter joomla for username and joomla for database

Press next

*Step 3

==== Ftp ====

Select no for now.

*Step4

Delete the install directory, and go to http://127.0.0.1/joomla/index.php to see your website, and http://127.0.0.1/joomla/administrator/index.php to administer your website.

[[Category:Software]]
