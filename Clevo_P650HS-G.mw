{{InfoBox stack
|{{InfoBox homepage|http://www.eurocom.com/ec/components(409)CLEVO_P650HS-G_SAGER_NP8157|header=true}}

}}

This is a Laptop model made by OEM manufacturer Clevo and sold under many different brands using many different model names.

== Hardware ==

=== Standard ===

{| class="table table-condensed table-striped" style="width: auto;"
! scope="col" width="20%" | Device
! scope="col" width="20%" | Make/model
! scope="col" width="10%" | Status
! scope="col" width="10%" | Vendor ID / Product ID
! scope="col" width="10%" | Kernel driver(s)
! scope="col" width="10%" | Kernel version
! scope="col" width="20%" | Notes
|-
| CPU
| Intel(R) Core(TM) i7-7820hk / i7-7700HQ
| {{Yes|Works}}
| N/A
| N/A
| 4.14.16
| Thermal throttles under heavy load.
|-
| Video card 0
| NVIDIA Corporation GP104M [GeForce GTX 1070 Mobile]
| {{Partial|Functions limited}}
| 10de:1be1
| nouveau / nvidia
| 4.14.16
| Can use Nouveau or Nvidia when integrated graphics is turned off. Can only use Nvidia with Bumblebee when in hybrid mode. Can be passed using KVM and VFIO to virtual machines running Linux with Nouveau.
|-
| Video card 1
| Intel Gen9.5 Integrated Graphics [HD Graphics 630]
| {{Yes|Works}}
| 8086:591b
| i915
| 4.14.16
| Can be turned off in bios.
|}

== Installation ==

The dual graphics cards setup would cause problems during installation. To install the system, you can either turn integrated graphics off in UEFI mode or use Bios mode to install (you may still need to turn of integrated graphics)

=== Use UEFI mode ===

# Turn off integrated graphics card by switching to DISCRETE mode in bios (not doing so might cause live system to freeze) 
# Boot into LiveDVD and follow installation guide

*If you want to use it in Discrete mode:
Turn on relevant kernel options of the Nvidia card and install the drivers
*If you want to use it in hybrid mode:
Turn on options of Intel and Nvidia cards, include Intel firmware, and do not turn on any frame buffer options.

Here is a list of options that should work for kernel 4.14.16
{{KernelBox|title=Enable support for these hardware drivers|1=

Write menuconfig instructions here.

}}
Install drivers, grub, initramfs.
Turn on integrated graphics by switching to MSHYBRID mode in bios and the system should boot without freezing. To use X, extra setups are needed.
Only boot loader GRUB is tested.

=== Kernel ===

(Show what options are necessary in the kernel in order to get all device components functional for this hardware platform.)

{{KernelBox|title=Enable support for these hardware drivers|1=

Write menuconfig instructions here.

}}

== Configuration ==

=== Xorg ===

To use X in Hybrid mode, you might need to specify modesetting driver options.
Example:

{{FileBox|title=xorg conf example for hybrid mode||filename=/etc/X11/xorg.conf.d/modesetting.conf|1=/etc/X11/xorg.conf.d/modesetting.conf 
Section "Module"
  Load "modesetting"
EndSection

Section "Device"
  Identifier    "Intel HD630"
  Driver        "modesetting"
  BusID         "00:02:0"
  Option        "AccelMethod"   "glamor"
  Option        "DRI"           "3"
EndSection
}}

To use the Nvidia card, set up Bumblebee.

=== Keyboard backlight ===

Refer to [https://bitbucket.org/tuxedocomputers/clevo-xsm-wmi] for keyboard backlight control. 



* (Link to external resource== External resources ==

(Optional section.)s (outside the Wiki) using bullet points in this section. It is common for the information in this section to full sentences that are links.)

[[Category:Laptops]]
