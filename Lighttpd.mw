{{DISPLAYTITLE:lighttpd}}
{{InfoBox stack
| {{InfoBox wikipedia|lighttpd|header=true}}
}}

The lighttpd web server is a fast, lightweight web server. Its primary intention is to provide a secure yet powerful web server to system administrators.

== Installation ==
Install {{Package|www-servers/lighttpd}}:

{{Emerge|www-servers/lighttpd}}

Next, make sure the lighttpd service is started automatically:

{{RootCmd|rc-update add lighttpd default}}

== Configuration ==
The lighttpd configuration is handled by {{Path|/etc/lighttpd/lighttpd.conf}}. Example 1 shows a single-site access, with SSL and no dynamic capabilities (such as PHP).

{{File|/etc/lighttpd/lighttpd.conf|Example 1|<pre>
$SERVER["socket"] == "192.168.1.10:443" {
  server.name = "www.genfic.com"
  server.document-root = "/var/www/www.genfic.com/"
  server.errorlog = "/var/log/lighttpd/http_error.log"
  accesslog.filename = "/var/log/lighttpd/http_access.log"
  ## SSL Configuration
  ssl.engine = "enable"
  ssl.pemfile = "/etc/ssl/lighttpd-ssl.pem"
  ssl.ca-file = "/etc/ssl/certs/ca-certificate.crt"
  # SSL options
  ssl.use-sslv2 = "disable"
  ssl.cipher-list = "TLSv1+HIGH !SSLv2 RC4+MEDIUM !aNULL !eNULL !3DES @STRENGTH"
}</pre>
}}

To enable additional functionalities configure needed modules in {{Path|/etc/lighttpd/lighttpd.conf}}. For instance to enable PHP usig the FastCGI processor:

{{File|/etc/lighttpd/lighttpd.conf|Example 2 - Enabling PHP support|<pre>
server.modules = {
  ...
  "mod_fastcgi",
  ...
}

fastcgi.server = (
  ".php" => ((
    "bin-path" => "/usr/bin/php-cgi",
    "socket" => "/tmp/fcgip_php.socket"
  ))
)
</pre>
}}

==Troubleshooting==
Verifying {{Path|/etc/lighttpd/lighttpd.conf}} configuration file with '''lighttpd-angel''', it will return the exitcode 0, if everything is configured properly,
{{RootCmd|lighttpd-angel -f -t /etc/lighttpd/lighttpd.conf
|output=<pre>
Syntax OK
lighttpd-angel.c.140: child (pid=32491) exited normally with exitcode: 0
</pre>
}}

If the configuration file has errors, it will print it to stdout, like in a example below:
{{RootCmd|lighttpd-angel -f -t /etc/lighttpd/lighttpd.conf
|output=<pre>
2012-09-02 12:52:08: (plugin.c.131) Cannot load plugin mod_fastcgi more than once, please fix your config
2012-09-02 12:52:08: (network.c.379) can't bind to port: 192.168.0.1 80 Address already in use 
lighttpd-angel.c.140: child (pid=32139) exited normally with exitcode: 255
</pre>
}}

[[Category:Server]]
