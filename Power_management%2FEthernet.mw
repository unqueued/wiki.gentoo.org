This article describes the setup of [[power management]] of [[:Category:Network devices|Ethernet devices]].

== Disable Wake On LAN ==

With [[Wikipedia:Wake-on-LAN|Wake On LAN]] (WOL) the computer's network card will remain powered to monitor for a 'magic' packet that will instruct it to wake the computer. To save some power WOL can be disabled.

{{c|ethtool}} is needed in order to perform this action if it's not already installed:

{{Emerge|sys-apps/ethtool}}

The current WOL setting can be checked with:

{{RootCmd|ethtool eth0 {{!}} grep -i wake| output=<pre>
        Supports Wake-on: pumbg
        Wake-on: g
</pre>}}

Disable WOL via:

{{RootCmd|ethtool -s eth0 wol d}}

=== BIOS ===

Motherboards with on-board Ethernet devices usually have an option to disable WOL (if it's supported at all) in the [[BIOS]].

=== Permanent Change ===

Add the following string to the {{Path|/etc/conf.d/net}} configuration file to disable WOL for a specific network interface using ethtool:

{{FileBox|filename=/etc/conf.d/net|lang=bash|1=
ethtool_change_eth0="wol d"
}}

or using a Systemd link file.
{{FileBox|filename=/etc/systemd/network/50-wired.link|1=
[Match]
MACAddress=ff:ff:ff:ff:ff:ff
# your lan mac addres ofc, use ifconfig to find out.

[Link]
WakeOnLan=off
}}


== Throttle Gigabit-Ethernet ==
Gigabit-Ethernet needs more power than Fast-Ethernet. If you don't use the greater bandwidth, you can throttle your connection to Fast-Ethernet. For it install {{Package|sys-apps/ethtool}}:
{{Emerge|sys-apps/ethtool}}

Now you can throttle the connection:
{{RootCmd|ethtool -s eth0 autoneg off speed 100}}

If you want to always throttle the connection, add command to ethtool_change_''INTERFACE'' string in /etc/conf.d/net file.

[[Category:Power management]]
