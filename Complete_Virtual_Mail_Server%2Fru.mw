<languages/>
{{InfoBox stack
|{{InfoBox todo|[[Complete Virtual Mail Server/ToDo|ToDo subpage]]|header=true}}
}}

Целью данного руководства является создание виртуального почтовый сервер, который может работать с несколькими доменами с множеством различных вариантов интерфейса. Статья не предназначена для обычного пользователя, который ищет почтовый клиент. Эта статья о полномасштабном Mail Transfer Agent (MTA). Он предназначен для лиц, обладающим своими собственными доменами и/или обеспечивающим поддержку виртуальных доменов.

В результате получится простой в управлении почтовый сервер, который поддерживает следующие функции:

* администрирование системы на основе веб
* неограниченное количество доменов
* виртуальные пользователи почты без необходимости  аккаунта в оболочке
* доменные (специфические) имена пользователей
* квоты для почтовых ящиков
* веб доступ к учетным записям электронной почты
* IMAP и (что весьма необязательно) поддержка POP3
* SMTP аутентификация для безопасной ретрансляции
* SSL для обеспечения безопасности транспортного уровня
* хорошая фильтрация спама
* антивирусная фильтрация
* анализатор логов

Хорошим плюсом является то, что все это находится в одной базе данных.

== Начнем ==

=== [[Complete_Virtual_Mail_Server/System_Setup_and_Packages/ru|Настройка системы и пакетов]] ===

В этом разделе описана настройка системы (реализация мульти-сервер), а также базовые пакеты, которые мы использовали. ОБЯЗАТЕЛЬНО прочитайте это, прежде чем читать дальше (не волнуйтесь, это быстро).

== Базовая настройка ==

=== [[Complete_Virtual_Mail_Server/Linux_vmail_user/ru|Учетная запись linux 'vmail' ]] ===

Почтовые ящики хранятся на обычном файловой системе и поэтому для них требуется специальный пользователь и группа для безопасности.

=== [[Complete_Virtual_Mail_Server/Admin_Support_Systems/ru|Поддержка систем администрирования]] ===

Пакеты {{Package|www-apps/postfixadmin}} и {{Package|www-servers/apache}} являются ключевыми инструментами для тестирования работы и связанности. Детали установки Apache/PHP выходят за рамки этого руководства; они настраиваются как обычно.

=== [[Complete_Virtual_Mail_Server/Postfix_to_Database/ru|Подключение Postfix к базе данных]] ===

Пакет {{Package|mail-mta/postfix}} будет подключен к внутренней базе данных с возможностью получить виртуальных пользователей в разных доменах.

=== [[Complete_Virtual_Mail_Server/Courier-IMAP_to_Database/ru|Подключение Courier-imap к базе данных]] ===

{{Package|net-mail/courier-imap}} будет подключен к той же базе данных.

== Расширенная настройка ==

=== [[Complete_Virtual_Mail_Server/SMTP_Authentication/ru|SMTP аутентификация]] ===

Обладать почтовым сервером, который передает локальную почту довольно неплохо для большинства, но обладать сервером, который передает почту после аутентификации еще лучше. 

=== [[Complete_Virtual_Mail_Server/Web_Access/ru|Веб-доступ]] ===

Теперь, когда основная часть почтового сервер была настроена, может быть полезным настроить веб-доступ, а также он полезен во время тестирования.

=== [[Complete_Virtual_Mail_Server/SSL_Certificates/ru|SSL сертификат]] ===

Защита почтового сервера с помощью SSL сертификата.

=== [[Postfix/DKIM|DKIM]] ===

Подпись всех исходящих сообщений ключами проверки для предотвращения их попадания в спам.

=== [[Complete_Virtual_Mail_Server/Postfix_additions/ru|Уточнение настройки]] ===

Используя стандартные настройки Postfix, сервер получает некоторые возможности для улучшения производительности и настройки безопасности.

== Антиспам мероприятия ==

=== [[Complete_Virtual_Mail_Server/amvisd_spamassassin_clamav/ru|Amavisd, Spam-Assassin и ClamAV]] ===

Защита от спама с помощью Amavis, Spam-assassin, а также ClamAV для защиты от вирусов.

== Анализатор логов ==

=== [[Complete_Virtual_Mail_Server/awstats|Журналирование почтового трафика с помощью AWStats]] ===

Мониторинг всегда важен. AWStats используется для того, чтобы получить необходимую информацию о пропущенных сообщений.

[[Category:Mail Servers]]
