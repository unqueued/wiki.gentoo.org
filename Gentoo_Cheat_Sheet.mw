{{Stub}}

This is a reference card of useful commands for administrating gentoo.

=Portage Package Management=

Sync the Portage tree using the mirrors by fetching the latest differences:
{{RootCmd|emerge --sync}}

Sync the Portage tree using the mirrors by obtaining a Portage snapshot that is at most a day old:
{{RootCmd|emerge-webrsync}}

Sync the overlay and Portage tree:
{{RootCmd|eix-sync}}

List what packages would be installed without installing them:
{{RootCmd|emerge -pv cat/pkg}}

Install a specific version of a package:
{{RootCmd|emerge {{=}}cat/pkg-1.0}}

Remove a package and the dependencies that no other packages depend on:
{{RootCmd|emerge -cav cat/pkg}}

Remove a package but not its dependencies:
{{RootCmd|emerge -C cat/pkg}}

Remove no longer needed packages:
{{RootCmd|emerge -av --depclean}}

Upgrade the selected packages, dependencies and deep dependencies that are outdated or have USE flag changes:
{{RootCmd|emerge -uDN world}}

Tell which installed package provides a command.
{{Cmd|equery b "which vim"}}

Tell which packages depend on cat/pkg:
{{Cmd|equery d cat/pkg}}

Get information about a package:
{{RootCmd|eix cat/pkg}}

A graphical user interface to use with the Portage tree:
{{RootCmd|porthole}}

Manage configuration changes after an emerge completes:
{{RootCmd|dispatch-conf}}

Rebuilds packages that depend on an recently updated library:
{{RootCmd|revdep-rebuild}}

==Use Flags==

Obtain descriptions and usage of the USE flag X:
{{Cmd|euse -i X}}

Obtain a description of the png USE flag:
{{Cmd|<nowiki>euse -i | grep png</nowiki>}}

==Typical Administration==
Used by an user listed in the sudoers list to obtain root shell:
{{Cmd|sudo -s #}}

Start the ssh daemon in the default runlevel at boot:
{{RootCmd|rc-update add sshd default}}

Start the xdm service now:
{{RootCmd|rc-service xdm start}}

Check if the sshd service is running or not:
{{RootCmd|rc-status sshd}}

==Important Files==

{{File|/etc/portage/make.conf|Global settings (USE flags, compiler options).|<pre></pre>}}

{{File|/etc/portage/package.use|USE flags of individual packages.|<pre></pre>}}

{{File|/etc/portage/package.accept_keywords|Keyword individual packages; eg. ~adm64, ~x86, or âˆ¼arm.|<pre></pre>}}

{{File|/etc/portage/package.license|Accepted licenses.|<pre></pre>}}

{{File|/var/lib/portage/world|List of explicitly installed package atoms.|<pre></pre>}}

{{File|/var/db/pkg|Contains for every installed package a set of files about the installation.|<pre></pre>}}

== External resources ==

* [https://github.com/jonasstein/gentoo-cheat Original gentoo-cheat repository]
* [https://forums.gentoo.org/viewtopic-p-7370146.html Forum post about gentoo-cheat]

[[Category:Core system]]
