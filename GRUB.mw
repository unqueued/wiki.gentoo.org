{{Stub}}
'''GRUB''' (GRand Unified Bootloader) is the default [[bootloader]] on Gentoo. This article discusses <code>sys-boot/grub:0</code> (slot zero) also known as "Grub Legacy". Version 2, now available in the testing tree, is completely reworked and fundamentally a different bootloader â€” see [[GRUB2]].

==Installation==
Install grub with:
{{Emerge|sys-boot/grub:0}}
Specifying slot 0 will make sure grub:2 will not get installed on world updates, unless you specifically install it.

=== USE flags ===
{{USEflag|package=sys-boot/grub
|custom-cflags++no+
|ncurses+yes+yes+
|netboot
|static
}}

=== Example of installing grub on an USB harddisk ===
The key to understand grub is to remember, in what environment grub is running. <br />
Suppose you have 3 internal sata disk. Your gentoo is running on them and you want to install grub now on an external USB hard disk to boot a version of gentoo, which is installed on the second partition of the USB disk. <br />
So the linux system has the following device names:<br />
<br />
''/dev/sda, /dev/sdb /dev/sdc - internal drives<br />
/dev/sdd - USB disk<br />''
<br />
The configuration of grub, which he reads while booting, is stored in
/boot/grub/grub.conf or menu.lst, which is a symlink to grub.conf.<br />
The kernel and the linux system of the USB drive is installed in the /dev/sdd2.<br />
But when grub boots from the USB disk, for him it is the first harddisk.<br />
So you would write in grub.conf<br />
<br />
<code>
default 0<br />
timeout 10<br />
<br />
title gentoo USB<br />
root (hd0,1)<br />
kernel /boot/kernel-3.4.9 rootwait root=/dev/sdd2<br />
</code>
<br />
In contrast, the kernel sees the USB disk as /dev/sdd, so the ''root='' kernel parameter has to contain ''/dev/sdd2''.<br />
Sidenote: ''rootwait'' is given, so that the kernel waits until the USB disk is ready<br />
The same applies for the installation of grub. Here you give grub the names, under which linux sees it now.
You would fire up grub, give him the root of the USB linux with<br />
<br />
<code>root (hd3,1)</code><br />
<br />
and then tell him to install on the MBR of the USB disk with<br />
<br />
<code>setup (hd3)</code><br />
<br />
Consequence: if you want to boot the USB disk, regardless of how many disks are installed, you have to use an initramfs or something else (UUID?).
<br />

==See also==
[http://www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&chap=10 Gentoo AMD64 Handbook page on grub]

[[Category:Bootloaders]]
