{{DISPLAYTITLE:elogind}}
{{InfoBox stack
|{{InfoBox github|elogind/elogind|header=true}}
|{{InfoBox package|sys-auth/elogind}}
}}

'''elogind''' is  [[Article description::the [[systemd]] project's ''logind'', extracted to a standalone package.]] It's designed for users who prefer a non-systemd init system, but still want to use popular software such as KDE/Wayland or GNOME that otherwise hard-depends on systemd.

== Installation ==

=== Unmasking ===

While elogind works very well with KDE Plasma 5, it is still seeing heavy upstream development and is not yet well tested with other desktop environments. For these reasons it hasn't been marked stable yet, so stable users will need to unmask it:

{{FileBox|filename=/etc/portage/profile/use.stable.mask|lang=bash|1=
-elogind # don't forget the leading dash
}}

{{FileBox|filename=/etc/portage/package.accept_keywords|lang=bash|1=
sys-auth/elogind

# Make elogind support available for these packages, if you have them installed
>=app-admin/packagekit-base-1.1.5-r1
>=net-misc/networkmanager-1.8.0
>=sys-apps/accountsservice-0.6.43-r1
>=sys-auth/pambase-20150213-r1
>=sys-auth/polkit-0.113-r2
>=sys-fs/udisks-2.6.5
>=sys-process/procps-3.3.12-r1
>=x11-misc/sddm-0.14.0-r3
}}

=== Kernel ===

The following kernel options are recommended:

{{KernelBox|1=
General setup  --->
    [*] Control Group support  --->
    [*] Configure standard kernel features (expert users)  --->
        [*]   Enable eventpoll support
        [*]   Enable signalfd() system call
        [*]   Enable timerfd() system call
File systems  --->
    [*] Inotify support for userspace
Security options  --->
    [*] Simplified Mandatory Access Control Kernel Support
}}

=== USE flags ===

{{USEflag|package=sys-auth/elogind}}

There is a global <code>elogind</code> USE flag for enabling elogind support in other packages. It's also recommended to disable support for other session trackers to avoid conflicts:

{{FileBox|filename=/etc/portage/make.conf|lang=bash|1=
USE="elogind -consolekit -systemd"
}}

=== Emerge ===

After updating your USE flags update the system so the changes take effect:

{{Emerge|params+=--changed-use --deep|@world}}

== Configuration ==

=== Service ===

elogind needs to be started at boot time in order to be useful:

{{RootCmd|rc-update add elogind boot}}
== Troubleshooting ==
=== Migration from systemd ===
Elogind determines the cgroup controller at configure time.<ref>https://github.com/elogind/elogind/issues/18.</ref>

Therefore elogind must be emerged ''after'' OpenRC was started
(or possibly from a binhost running openrc). It will otherwise crash on boot with a message like this:

<pre>
[ 38.055321] elogind[2231]: Cannot determine cgroup we are running in: No data available
[ 38.055332] elogind[2231]: Out of memory.
</pre>
== See also ==

* {{bug|599470}} - {{Package|sys-auth/elogind}} integration into Gentoo tracker bug.

== References ==

{{reflist}}
