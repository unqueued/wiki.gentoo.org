<languages />
<translate>

{{InfoBox stack|{{InfoBox homepage|http://www.intel.com/products/wireless/prowireless_mobile.htm|header=true}}}}

== Hardware detection ==

{{RootCmd|lspci -kv|output=<pre>
08:00.0 Network controller: Intel Corporation PRO/Wireless 3945ABG [Golan] Network Connection (rev 02)
        Subsystem: Hewlett-Packard Company PRO/Wireless 3945ABG [Golan] Network Connection
        Flags: bus master, fast devsel, latency 0, IRQ 16
        Memory at e8000000 (32-bit, non-prefetchable) [size=4K]
        Capabilities: [c8] Power Management version 2
        Capabilities: [d0] MSI: Enable- Count=1/1 Maskable- 64bit+
        Capabilities: [e0] Express Legacy Endpoint, MSI 00
        Kernel driver in use: iwl3945
        Kernel modules: iwl3945
</pre>}}

{{RootCmd|lshw||output=<pre>
  *-core
     *-pci
        *-pci:0
           *-network
                description: Ethernet interface
                product: PRO/Wireless 3945ABG [Golan] Network Connection
                vendor: Intel Corporation
                physical id: 0
                bus info: pci@0000:08:00.0
                logical name: wlp8s0
                version: 02
                serial: 00:1b:77:b1:c8:8e
                width: 32 bits
                clock: 33MHz
                capabilities: pm msi pciexpress bus_master cap_list ethernet physical
                configuration: broadcast=yes driver=iwl3945 driverversion=4.1.8-gentoo firmware=15.32.2.9 ip=192.168.178.23 latency=0 link=yes multicast=yes
                resources: irq:16 memory:e8000000-e8000fff
</pre>}}

== IEEE 802.11 ==

{{:Wifi/IEEE 802.11}}

== Device driver iwl3945 ==

Intel Corporation PRO/Wireless 3945ABG needs the iwl3945 driver aka [https://wireless.wiki.kernel.org/en/users/drivers/iwlegacy iwlegacy].

{{CodeBox|title=linux-4.1.8 search results|<pre>
 Symbol: IWL3945 [=m]
 Type  : tristate
 Prompt: Intel PRO/Wireless 3945ABG/BG Network Connection (iwl3945)
   Location:
     -> Device Drivers
       -> Network device support (NETDEVICES [=y])
 (1)     -> Wireless LAN (WLAN [=y])
   Defined at drivers/net/wireless/iwlegacy/Kconfig:37
   Depends on: NETDEVICES [=y] && WLAN [=y] && PCI [=y] && MAC80211 [=y]
   Selects: IWLEGACY [=m]  
</pre>}}

Set it as a module as shown here. After changes on kernel configuration do not forget to [[Kernel/Rebuild|rebuild the kernel]].

{{KernelBox|title=linux-4.1.8|<pre>
        Device Drivers  --->
    [*] Network device support  --->
    --- Network device support
    [*]   Wireless LAN  --->
    --- Wireless LAN
    < >   Marvell 8xxx Libertas WLAN driver support with thin firmware
    < >   Cisco/Aironet 34X/35X/4500/4800 ISA and PCI cards
    < >   Atmel at76c50x chipset  802.11b support
    < >   Atmel at76c503/at76c505/at76c505a USB cards
    < >   Intersil Prism GT/Duette/Indigo PCI/Cardbus (DEPRECATED)
    < >   USB ZD1201 based Wireless device support
    < >   Wireless RNDIS USB support
    < >   Realtek 8180/8185/8187SE PCI support
    < >   Realtek 8187 and 8187B USB support
    < >   ADMtek ADM8211 support
    < >   Simulated radio testing tool for mac80211
    < >   Marvell 88W8xxx PCI/PCIe Wireless support
    < >   Atheros Wireless Cards  ----
    < >   Broadcom 43xx wireless support (mac80211 stack)
    < >   Broadcom 43xx-legacy wireless support (mac80211 stack)
    < >   Broadcom IEEE802.11n PCIe SoftMAC WLAN driver
    < >   Broadcom IEEE802.11n embedded FullMAC WLAN driver
    < >   IEEE 802.11 for Host AP (Prism2/2.5/3 and WEP/TKIP/CCMP)
    < >   Intel PRO/Wireless 2100 Network Connection
    < >   Intel PRO/Wireless 2200BG and 2915ABG Network Connection
    < >   Intel Wireless WiFi Next Gen AGN - Wireless-N/Advanced-N/Ultimate-N (iwlwifi)
    < >   Intel Wireless WiFi 4965AGN (iwl4965)
    <M>   Intel PRO/Wireless 3945ABG/BG Network Connection (iwl3945)
          iwl3945 / iwl4965 Debugging Options  --->
    < >   Marvell 8xxx Libertas WLAN driver support
    < >   Hermes chipset 802.11b support (Orinoco/Prism2/Symbol)
    < >   Softmac Prism54 support
    < >   Ralink driver support  ----
    < >   Realtek rtlwifi family of devices  ----
    [ ]   TI Wireless LAN support  ----
    < >   ZyDAS ZD1211/ZD1211B USB-wireless support
    < >   Marvell WiFi-Ex Driver
    < >   CW1200 WLAN support
    < >   Redpine Signals Inc 91x WLAN driver support
</pre>}}

{{CodeBox|title=linux-4.1.8 help|<pre>
 CONFIG_IWL3945:
  
 Select to build the driver supporting the:
  
 Intel PRO/Wireless 3945ABG/BG Network Connection
  
 This driver uses the kernel's mac80211 subsystem.
  
 In order to use this driver, you will need a microcode (uCode)
 image for it. You can obtain the microcode from:
  
         <http://intellinuxwireless.org/>.
  
 The microcode is typically installed in /lib/firmware. You can
 look in the hotplug script /etc/hotplug/firmware.agent to
 determine which directory FIRMWARE_DIR is set to when the script
 runs.
  
 If you want to compile the driver as a module ( = code which can be
 inserted in and removed from the running kernel whenever you want),
 say M here and read <file:Documentation/kbuild/modules.txt>.  The
 module will be called iwl3945.
  
 Symbol: IWL3945 [=m]
 Type  : tristate
 Prompt: Intel PRO/Wireless 3945ABG/BG Network Connection (iwl3945)
   Location:
     -> Device Drivers
       -> Network device support (NETDEVICES [=y])
         -> Wireless LAN (WLAN [=y])
   Defined at drivers/net/wireless/iwlegacy/Kconfig:37
   Depends on: NETDEVICES [=y] && WLAN [=y] && PCI [=y] && MAC80211 [=y]
   Selects: IWLEGACY [=m] 
</pre>}}

== Firmware ==

Also firmware [https://wireless.wiki.kernel.org/en/users/drivers/iwlegacy#firmware iwlwifi-3945-ucode-15.32.2.9.tgz] or later is needed. It is available in {{Package|sys-kernel/linux-firmware}}.

{{Emerge|sys-kernel/linux-firmware}}

{{Important|In case the driver is built into the kernel (CONFIG_IWL3945) instead as a module (iwl3945), also the firmware needs to be built [[Kernel_Modules#Compile-in-kernel_modules_vs_Loadable_kernel_modules_.28LKMs.29|into the kernel]].}}

== Dmesg ==

After reboot, grep the dmesg output for 08:00.0, iwl3945 and wlp8s0, and get:

{{Cmd|dmesg {{!}} grep -i '08:00.0\{{!}}iwl3945\{{!}}wlp8s0'|output=<pre>
[    0.148048] pci 0000:08:00.0: [8086:4222] type 00 class 0x028000
[    0.148099] pci 0000:08:00.0: reg 0x10: [mem 0xe8000000-0xe8000fff]
[    0.148419] pci 0000:08:00.0: PME# supported from D0 D3hot D3cold
[    0.148518] pci 0000:08:00.0: disabling ASPM on pre-1.1 PCIe device.  You can enable it with 'pcie_aspm=force'
[    7.198115] iwl3945: Intel(R) PRO/Wireless 3945ABG/BG Network Connection driver for Linux, in-tree:s
[    7.198118] iwl3945: Copyright(c) 2003-2011 Intel Corporation
[    7.198183] iwl3945 0000:08:00.0: can't disable ASPM; OS doesn't have ASPM control
[    7.252250] iwl3945 0000:08:00.0: Tunable channels: 13 802.11bg, 23 802.11a channels
[    7.252254] iwl3945 0000:08:00.0: Detected Intel Wireless WiFi Link 3945ABG
[    7.492257] iwl3945 0000:08:00.0 wlp8s0: renamed from wlan0
[    7.504225] systemd-udevd[278]: renamed network interface wlan0 to wlp8s0
[   15.828778] iwl3945 0000:08:00.0: loaded firmware version 15.32.2.9
</pre>}}

== References ==

{{reflist}}

== See also ==

* [[wifi]] - Guide for other wifi network devices
* [[wpa_supplicant]] - Popular tool for connecting to wlan access points
* [[OpenRC/Network_Management]] - Tools for managing network access

<!--
== External resources ==
-->

[[Category:Hardware]] [[Category:Network devices]]
</translate>
