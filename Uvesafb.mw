{{Lowercase title}}
{{InfoBox stack
|{{InfoBox wikipedia|VESA BIOS Extensions|header=true}}
{{InfoBox todo|Update regarding the removal of [https://gitweb.gentoo.org/repo/gentoo.git/commit/profiles/package.mask?id{{=}}209bf189be46f4151e50da2b8b213d2240a322f8 v86d]}}
}}

'''uvesafb''' is a [[framebuffer]] driver to use the VESA BIOS Extensions for changing display modes or display graphics on the console.

== Installation ==

The uvesafb relies on kernel modules and the daemon {{Package|sys-apps/v86d}} to change the resolutions and display. Prepare the system for the daemon by including kernel support.

=== Kernel ===

Activate the following kernel options:

{{KernelBox|1=
Device Drivers  --->
   <*> Connector - unified userspace <-> kernelspace linker  --->
   Graphics support  --->
      Frame buffer Devices  --->
         [*] Support for frame buffer devices --->
            [*] Enable firmware EDID
            <*> Userspace VESA VGA graphics support
}}

=== Emerge ===

{{Important|Before this step, the kernel needs to be built and the link in {{Path|/usr/src/linux}} updated to point to the compiled kernel sources with uvesafb enabled.}}

Rebuild {{Package|dev-libs/klibc}} and install {{Package|sys-apps/v86d}}:

{{Emerge|params+=--oneshot|dev-libs/klibc}}

{{Emerge|sys-apps/v86d}}

=== Initramfs inclusion ===

Once the installation is finished, you need to activate the following kernel options and ''then'' rebuild the initramfs:

{{KernelBox|1=
General setup  --->
    [*] Initial RAM filesystem and RAM disk (initramfs/initrd) support
    (/usr/share/v86d/initramfs) Initramfs source file(s)
}}

Use [[dracut]], [[genkernel]], or another initramfs generator of choice to rebuild the initramfs.

== Configuration ==

=== Bootloader ===

Be sure the kernel command-line parameters are fixed in whatever bootloader loads the kernel.

===== GRUB2 =====

{{GRUB2|video{{=}}uvesafb:1024x768-32,mtrr:3,ywrap}}

== Usage ==

The resolution and behavior of uvesafb is set during boot, a full list of kernel parameters can be found [http://www.mjmwired.net/kernel/Documentation/fb/uvesafb.txt online] or in the local kernel documentation via {{Path|/usr/src/linux/Documentation/fb/uvesafb.txt}}.

== External resources ==

* [http://www.funtoo.org/wiki/Uvesafb Funtoo Wiki's entry on uvesafb]

[[Category:Graphics Adapters]]
