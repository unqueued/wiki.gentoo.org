{{Lowercase title}}

{{InfoBox stack
|{{InfoBox wikipedia|VESA_BIOS_Extensions|header=true}}
}}
The uvesafb is a kernel module to use the VESA BIOS Extensions for changing display modes or display graphics on the console.

== Installation ==
The uvesafb relys on kernel modules and the daemon {{Package|sys-apps/v86d}} to change the resolutions and display.
=== Kernel ===
The following need to be enabled in the kernel:
{{Kernel|Enable usevafb|<pre>
Device Drivers ->
    <*> Connector - unified userspace <-> kernelspace linker
    Graphics support ->
        [*] Support for frame buffer devices  --->
        [*] Enable firmware EDID
        ...
        <*> Userspace VESA VGA graphics support</pre>}}
=== Software ===
{{Important|Before this step, the kernel needs to be build and the link in {{Path|/usr/src/linux}} updated to point to the compiled kernel sources with the enabled uvesafb.}}
Rebuild {{Package|dev-libs/klibc}} and install {{Package|sys-apps/v86d}}:
{{RootCmd|emerge --oneshot --ask {{Package|dev-libs/klibc}}}}
{{Emerge| sys-apps/v86d}}
Once the installation is finished update the kernel configuration to build v86d into the kernel:
{{Kernel|Include v86d|<pre>
General Setup ->
	(/usr/share/v86d/initramfs) Initramfs source file(s)</pre>}}
{{Important|Rebuild the kernel with the new configuration}}

== Usage ==
The resolution and behaviour of uvesafb is set during boot, a full list of kernel parameters can be found online here:
[http://www.mjmwired.net/kernel/Documentation/fb/uvesafb.txt Documentation/fb/uvesafb.txt] or in the local kernel documentation {{Path|/usr/src/linux/Documentation/fb/uvesafb.txt}}.

=== Bootloader ===
In [[GRUB2]] the parameters can be added to the variable GRUB_CMDLINE_LINUX_DEFAULT in {{Path|/etc/defaults/grub}}. For GRUB or other bootloaders check their manual pages on how to append to the kernel commandline. Example:
{{Code|kernel commandline|<nowiki>video=uvesafb:1024x768-32,mtrr:3,ywrap</nowiki>}}

== External Resources ==
* [http://www.funtoo.org/wiki/Uvesafb - Funtoo wiki]

[[category:Bootloaders]]
