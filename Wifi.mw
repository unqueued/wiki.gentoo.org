This article describes the setup of a Wifi network device.

== Installation ==

=== Hardware detection ===
To choose the right driver, first detect the used Wifi controllers. You can use [[Hardware detection#lspci|lspci]] or [[Hardware detection#lsusb|lsusb]] for this task:
{{RootCmd|lspci {{!}} grep -i network}}
{{Cmd|lsusb {{!}} grep -i network}}

=== Kernel ===
You need to activate the following kernel options:
{{Kernel||<pre>
[*] Networking support  --->
    [*] Wireless  --->
        <*> cfg80211 - wireless configuration API
        <*> Generic IEEE 802.11 Networking Stack (mac80211)

        Optionally enable a Wifi LED:
        [*] Enable LED triggers

Device Drivers  --->
    [*] Network device support  --->
        [*] Wireless LAN  --->

            Select the driver for your Wifi network device, e.g.:
            <*> Broadcom 43xx wireless support (mac80211 stack) (b43)
            [*]    Support for 802.11n (N-PHY) devices
            [*]    Support for low-power (LP-PHY) devices
            [*]    Support for HT-PHY (high throughput) devices
            <*> Intel Wireless WiFi Next Gen AGN - Wireless-N/Advanced-N/Ultimate-N (iwlwifi)
            <*> Intel Wireless WiFi 4965AGN (iwl4965)
            <*> Intel PRO/Wireless 3945ABG/BG Network Connection (iwl3945)
            <*> Ralink driver support  --->
                <*>   Ralink rt27xx/rt28xx/rt30xx (USB) support (rt2800usb)
</pre>}}

=== Firmware ===

Note: Some of these may have been replaced by linux-firmware.

Besides the kernel driver, you will also need firmware:
{| class="wikitable"
|-
! Wifi device
! driver
! Firmware
! Note
|-
| Broadcom 43xx wireless support
| b43
| {{Package|net-wireless/b43-firmware}}
| mask, see {{Bug|410297}}
|-
| Intel PRO/Wireless 3945ABG/BG
| iwl3945
| {{Package|sys-firmware/iwl3945-ucode}}
|
|-
| Intel Wireless WiFi 4965AGN
| iwl4965
| {{Package|sys-firmware/iwl4965-ucode}}
|
|-
| Intel Wireless WiFi 5100AGN, 5300AGN, 5350AGN
| iwlwifi
| {{Package|sys-firmware/iwl5000-ucode}}
|
|-
| Intel Wireless WiFi 5150AGN
| iwlwifi
| {{Package|sys-firmware/iwl5150-ucode}}
|
|-
| Intel Centrino Wireless-N 1000
| iwlwifi
| {{Package|sys-firmware/iwl1000-ucode}}
|
|-
| Intel Centrino Ultimate-N 6300, Advanced-N 6200
| iwlwifi
| {{Package|sys-firmware/iwl6000-ucode}}
|
|-
| Intel Centrino Advanced-N + WiMAX 6250, Wireless-N + WiMAX 6150 
| iwlwifi
| {{Package|sys-firmware/iwl6050-ucode}}
|
|-
| Intel Centrino Advanced-N 6205
| iwlwifi
| {{Package|sys-firmware/iwl6005-ucode}}
|
|-
| Intel Centrino Advanced-N 6230, Wireless-N 1030, Wireless-N 130
| iwlwifi
| {{Package|sys-firmware/iwl6030-ucode}}
|
|-
| Intel Centrino Wireless-N 2200
| iwlwifi
| {{Package|sys-firmware/iwl2000-ucode}}
|
|-
| Intel Centrino Wireless-N 2230
| iwlwifi
| {{Package|sys-firmware/iwl2030-ucode}}
|
|-
| Intel Centrino Wireless-N 100, 105, 135
| iwlwifi
| {{Package|sys-kernel/linux-firmware}}
|
|-
| Ralink driver support
| e.g. rt2800usb
| {{Package|sys-kernel/linux-firmware}}
|
|}

Install the required package, e.g for {{Package|iwl3945-ucode}}:
{{Emerge|iwl3945-ucode}}

If there is no package, you have to download the firmware and move it to {{Path|/lib/firmware}} yourself.

== Testing ==
After a reboot with the new kernel or after loading the modules, check that the device is ready:
{{Cmd|ifconfig wlan|output=<pre>
wlan0     ...
</pre>}}

If not, check dmesg for errors:
{{Cmd|dmesg}}

== Configuration ==
* [[Network management]]

== Advanced Configuration ==
* [[Power management/Wifi|Power management]]

[[Category:Network devices]]
