{{InfoBox stack
|{{InfoBox wikipedia|GNU build system|header=true}}
}}

'''Autotools''' is a build system used commonly in open source projects. Although it is common, not every developer enjoys using autotools. Some projects have attempted to avoid the build system.<ref>http://suckless.org/faq</ref>

== Gentoo development ==

The following sections explain eclasses related to autotools.

=== autotools.eclass ===

[https://devmanual.gentoo.org/eclass-reference/autotools.eclass/ ''autotools'' eclass] provides functions and dependencies necessary to reconfigure (bootstrap) autotools files in packages. These are usually used in live ebuilds and when applying patches to {{Path|configure.ac}} or {{Path|Makefile.am}} files.

{{CodeBox|title=Example ebuild code using autotools.eclass|lang=bash|
inherit autotools

src_prepare() {
   eautoreconf
}
}}

The ''eautoreconf'' function, similarly to {{c|autoreconf -vi}}, regenerates {{Path|configure}} and template files used by autotools. It automatically detects use of the following tools and calls necessary auto-reconfiguration commands for them:

* autoconf,
* automake,
* libtool,
* gettext,
* glib-gettext,
* intltool,
* gtk-doc,
* gnome-doc.

It also detects the use of the <var>AC_CONFIG_SUBDIRS</var> variable and performs the recursive auto-reconfiguration in that case.

=== autotools-utils.eclass ===

The [https://devmanual.gentoo.org/eclass-reference/autotools-utils.eclass/ {{Path|autotools-utils.eclass}}] is meant to provide an extensive support for autotools build system features in ebuilds, in a syntax similar to {{Path|cmake-utils.eclass}}.

Right now, {{Path|autotools-utils.eclass}} handles:

* Intelligent removal of unnecessary {{Path|.la}} files,
* Automatic handling of <code>IUSE=static-libs</code>,
* Out-of-source builds,
* Handling <var>PATCHES</var>, <var>DOCS</var>, <var>HTML_DOCS</var> variables and applying user patches (alike {{Path|base.eclass}}),
* Wrapping {{Path|[[#autotools.eclass|autotools.eclass]]}} in order to perform auto-reconfiguration (either on request or when user patches require that),
* Wrapping {{Path|[[#libtool.eclass|libtool.eclass]]}} for the ''elibtoolize'' call.


{{CodeBox|title=Example ebuild using autotools-utils.eclass|lang=bash|1=
EAPI=4

IUSE="foo static-libs"

src_configure() {
	local myeconfargs=(
		$(use_enable foo)
	)
	autotools-utils_src_configure
}
}}

=== libtool.eclass ===

{{Note|You don't usually need to use {{Path|libtool.eclass}} yourself. It is called by default in {{Path|[[#autotools-utils.eclass|autotools-utils.eclass]]}} and by {{Path|[[#autotools.eclass|eautoreconf.eclass]]}}.}}

The [https://devmanual.gentoo.org/eclass-reference/libtool.eclass/ {{Path|libtool.eclass}}] is an eclass providing means to apply Gentoo-specific patches and fixes to libtool used in package build system without the need for regenerating build system completely.

== See also ==

* [[Comparison of build systems]]

== References ==

{{reflist}}

[[Category:Build systems]]
