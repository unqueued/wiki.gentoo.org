<languages />
This article provides information on how to get up and running with '''GRUB2''' in the simplest configurations. For more comprehensive information, see [[GRUB2]]. For a migration from [[GRUB|GRUB Legacy]] to GRUB2, see [[GRUB2 Migration]].

== GRUB2 프로그램 설치 ==

The {{Package|sys-boot/grub}} package is slotted; both grub-0.97 and grub-2.00 may be installed at the same time. However, while both versions of GRUB can be installed on the system at the same time, only one version of GRUB may be active as the system's boot loader at the same time.

To install GRUB2, first set the <code>GRUB_PLATFORMS</code> variable in {{Path|make.conf}} (optional). If unset, GRUB2 will guess which platform to use on the system. It guesses "pc" (which is not UEFI; see examples below) for X86/AMD64 architecture.

{{FileBox|filename=/etc/portage/make.conf|title=GRUB_PLATFORMS example|lang=bash|1=
# Standard PC (BIOS)
GRUB_PLATFORMS="pc"
 
# UEFI on amd64
GRUB_PLATFORMS="efi-64"
 
# UEFI and PC
GRUB_PLATFORMS="efi-64 pc"
}}

After the variable is get, emerge the software:

{{emerge|sys-boot/grub:2}}

== Activating the GRUB2 boot loader ==

Mount {{Path|/boot}} if applicable:

{{RootCmd|mount /boot}}

When using an EFI platform, make sure that the EFI System Partition is available at {{Path|/boot/efi}}. This can either be through a specific mount point (at {{Path|/boot/efi}}) or by having the boot partition ''be'' the EFI System Partition.

{{RootCmd|mount /boot/efi}}

Run the <kbd>grub2-install</kbd> utility to copy the relevant files to {{Path|/boot/grub}}. On the PC platform, this also installs a boot image to the Master Boot Record (MBR) or a partition's boot sector.

To install GRUB2 to the MBR:

{{RootCmd|grub2-install /dev/sda||output=<pre>
Installation finished. No error reported.
</pre>}}

To install GRUB2 to a partition (not recommended):

{{RootCmd|grub2-install /dev/sda1|output=<pre>
Installation finished. No error reported.
</pre>}}

EFI 기능 탑재 시스템에 GRUB2를 설치하려면:

{{RootCmd|grub2-install --target{{=}}x86_64-efi|output=<pre>
Installation finished. No error reported.
</pre>}}

{{Important|When installing GRUB2 to an EFI capable system (like the example above) is giving troubles, make sure the <code>GRUB_PLATFORMS</code> variable is properly set in {{Path|/etc/portage/make.conf}}}}

The <tt>grub2-install</tt> command accepts a <tt>--target</tt> option to specify which CPU/Platform to install. If unspecified, grub2-install will make a guess; on X86/AMD64 it will use "i386-pc" by default.

== 자동 설정 ==

GRUB2 is traditionally configured by using the <tt>grub2-mkconfig</tt> program to generate a configuration file.

<tt>grub2-mkconfig</tt> generates the configuration file based on template sections located in {{Path|/etc/grub.d}}. The default templates should cover most common boot setups.

{{Cmd|ls /etc/grub.d|lang=bash|
|output=00_header  10_linux  20_linux_xen  30_os-prober  40_custom  41_custom  README}}

The behavior of these templates can be controlled by setting variables in {{Path|/etc/default/grub}}. See the [http://www.gnu.org/software/grub/manual/html_node/Simple-configuration.html GRUB manual] for more information.

=== 커널 이름 형태 ===

In order for <tt>grub2-mkconfig</tt> to detect the available Linux kernel(s), their names must start with <code>vmlinuz-</code> or <code>kernel-</code>.

예를 들자면:

{{CodeBox|title=GRUB2에서 발견할 수 있는 커널 이름 예제|<pre>
 /boot/vmlinuz-3.4.3
 /boot/kernel-2.6.39-gentoo
 /boot/kernel-genkernel-x86_64-3.17.1-gentoo-r1
</pre>}}

When using an [[initramfs]], its name should start with <code>initramfs-</code> or <code>initrd-</code> and end with <code>.img</code>. The version must match one of a kernel image. File names generated by [[genkernel]] will also work.

예를 들자면:

{{CodeBox|title=GRUB2에서 발견할 수 있는 initramfs 이름 예제|<pre>
 /boot/initramfs-3.4.3.img
 /boot/initramfs-genkernel-x86_64-2.6.39-gentoo
</pre>}}

To generate the {{Path|grub.cfg}} file, execute the <kbd>grub2-mkconfig</kbd> command like so:

{{RootCmd|grub2-mkconfig -o /boot/grub/grub.cfg|output=<pre>
Generating grub.cfg ...
Found linux image: /boot/vmlinuz-3.2.9
done
</pre>}}

=== 메시지를 출력하지 않는 커널 압축해제 ===

To silence kernel decompression at boot time, edit {{Path|/etc/default/grub}} and add <code>quiet</code> to the <code>GRUB_CMDLINE_LINUX_DEFAULT</code> parameter.

{{FileBox|filename=/etc/default/grub|title=Silent decompression example|lang=bash|1=
GRUB_CMDLINE_LINUX_DEFAULT="quiet"
}}

=== Systemd ===

To boot systemd while using GRUB2 make the <code>GRUB_CMDLINE_LINUX</code> variable look like this:

{{FileBox|filename=/etc/default/grub|title=Systemd 예제|lang=bash|1=
GRUB_CMDLINE_LINUX="init=/usr/lib/systemd/systemd"
}}

=== 다른 운영체제 불러오기 ===

<tt>grub2-mkconfig</tt> can also generate configurations to load ''other'' operating systems. This requires the {{Package|sys-boot/os-prober}} package.

To boot Windows, the {{Package|sys-fs/ntfs3g}} also needs to be installed. It allows for the <tt>grub2-mkconfig</tt> utility to probe NTFS filesystems.

== 직접 설정 ==

Users do not need to use <tt>grub2-mkconfig</tt>. The {{Path|grub.cfg}} file can be edited manually as well.

As most users have experience with GRUB Legacy format, the next example shows how to write a GRUB2 configuration file based on information from the GRUB Legacy configuration.

{|
! style="text-align: left;" | <code>grub.conf</code> (GRUB Legacy)
|
! style="text-align: left;" | <code>grub.cfg</code> (GRUB 2)
|-
| style="background: rgb(250,250,250); vertical-align: top; border: 1px solid black; padding: 5px 7px;" | <code style="color: gray; margin: 0; padding: 0; border: 0; background: transparent; line-height: normal;">timeout 5<br />
<br />
<span style="font-weight: bold; color: maroon;">title</span> Gentoo Linux 3.2.12<br />
root <span style="font-weight: bold; color: maroon;">(</span>hd0,<span style="font-weight: bold; color: maroon;">0)</span><br />
<span style="font-weight: bold; color: maroon;">kernel</span> /boot/kernel-3.2.12-gentoo root=/dev/sda3</code>
| style="vertical-align: middle; font-size: 50px; color: gray;" | ⇨
| style="background: rgb(250,250,250); vertical-align: top; border: 1px solid black; padding: 5px 7px;" | <code style="color: gray; margin: 0; padding: 0; border: 0; background: transparent; line-height: normal;">timeout<span style="font-weight: bold; color: green;">=</span>5<br />
<br />
<span style="font-weight: bold; color: green;">menuentry</span> <span style="font-weight: bold; color: green;">'</span>Gentoo Linux 3.2.12<span style="font-weight: bold; color: green;">'</span> <span style="font-weight: bold; color: green;">{</span><br />
<span style="display: inline-block; width: 4ex; overflow: hidden;">	</span>root<span style="font-weight: bold; color: green;">=</span>hd0,<span style="font-weight: bold; color: green;">1</span><br />
<span style="display: inline-block; width: 4ex; overflow: hidden;">	</span><span style="font-weight: bold; color: green;">linux</span> /boot/kernel-3.2.12-gentoo root=/dev/sda3<br />
<span style="font-weight: bold; color: green;">}</span>
|}

== 추가 참조 ==

더 많은 내용과 완전한 자료들을 살펴보려면 [[GRUB2/ko|GRUB2]] 게시물을 참고하십시오.


[[Category:Bootloaders]]
