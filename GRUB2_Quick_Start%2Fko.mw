<languages />
이 글에서는 '''GRUB2'''를 가져오는 방법과 초간단 설정으로 '''GRUB2'''을 동작하는 방법을 설명합니다. 더욱 실제적인 정보를 찾아보려면 [[GRUB2/ko|GRUB2]]를 참고하십시오. [[GRUB/ko|기존의 GRUB]] 에서 GRUB2로 옮겨가는 방법을 찾아보려면 [[GRUB2 Migration/ko|GRUB2로 옮겨가기]]를 보십시오.

== GRUB2 프로그램 설치 ==

{{Package|sys-boot/grub}} 꾸러미는 각 버전을 슬롯으로 분리해두었는데 grub-0.97과 grub-2.xx를 동시에 설치할 수 있다는 의미입니다. 그러나 GRUB 두 버전을 동시에 설치할 수 있지만, 이 중 한가지 버전만 시스템 부트로더로 활성화할 수 있습니다.

To install GRUB2, first set the <var>GRUB_PLATFORMS</var> variable with one or more appropriate values in the system's {{Path|make.conf}}. If unset, GRUB2 will guess which platform to use on the system. It guesses <code>pc</code> (which is the MBR style of installation) for {{Keyword|x86}}/{{Keyword|amd64}} architectures.

{{FileBox|filename=/etc/portage/make.conf|title=GRUB_PLATFORMS 예제|lang=bash|1=
# Standard PC (BIOS)
GRUB_PLATFORMS="pc"
 
# UEFI on amd64
GRUB_PLATFORMS="efi-64"
 
# Both UEFI and PC
GRUB_PLATFORMS="efi-64 pc"
}}

변수를 설정했다면, 프로그램을 이머지하십시오:

{{emerge|sys-boot/grub:2}}

== GRUB2 부트 로더 활성화 ==

가능하다면 {{Path|/boot}} 를 마운트하십시오:

{{RootCmd|mount /boot}}

When using an EFI platform, make sure that the [[EFI System Partition]] is available (mounted) at {{Path|/boot/efi}}. This can either be through a specific mount point (at {{Path|/boot/efi}}) or by having an entire {{Path|/boot}} partition formatted with the FAT filesystem. This will effectually render {{Path|/boot}} into a large EFI System Partition.

{{Path|/boot/efi}}는 FAT이라고만 가정합니다:

{{RootCmd|mount /boot/efi}}

{{c|grub-install}} 유틸리티를 실행하여 {{Path|/boot/grub}}에 관련 파일을 복사하십시오. PC 플랫폼에서는 마스터 부트 레코드(MBR)또는 파티션 부트섹터의 부트 이미지를 설치합니다.

MBR에 GRUB2를 설치하려면:

{{RootCmd|grub-install /dev/sda||output=<pre>
Installation finished. No error reported.
</pre>}}

EFI 기능 탑재 시스템에 GRUB2를 설치하려면:

{{RootCmd|grub-install --target{{=}}x86_64-efi|output=<pre>
Installation finished. No error reported.
</pre>}}

{{Important|EFI 기능을 지닌 시스템에 (위의 예제처럼) GRUB2를 설치할 때 문제가 있으니, {{Path|/etc/portage/make.conf}}에 <var>GRUB_PLATFORMS</var> 변수값을 제대로 설정했는지 확인하십시오}}

{{c|grub-install}} 명령은 <code>--target</code> 옵션으로 설치할 CPU/플랫폼을 지정합니다. 지정하지 않으면 {{c|grub-install}}이 알아서 추정합니다. {{Keyword|x86}}/{{Keyword|amd64}}에서는 기본적으로 <code>i386-pc</code> 값을 사용합니다.

== 자동 설정 ==

GRUB2는 초기부터 {{c|grub-mkconfig}} 프로그램으로 설정 파일을 생성하여 설정했습니다.

{{c|grub-mkconfig}}는 {{Path|/etc/grub.d}}의 템플릿 섹션을 기반으로 설정파일을 만듭니다. 기본 템플릿은 대부분의 일반 부팅 설정을 다루어야합니다.

{{Cmd|ls /etc/grub.d|output=<pre>
00_header  10_linux  20_linux_xen  30_os-prober  40_custom  41_custom  README
</pre>}}

이 템플릿의 동작은 {{Path|/etc/default/grub}}의 변수를 설정하여 통제할 수 있습니다. 더 많은 정보는  [http://www.gnu.org/software/grub/manual/html_node/Simple-configuration.html GRUB 설명서]<sup style="color:#ff0077">en</sup> 를 살펴보십시오.

=== 커널 이름 형태 ===

{{c|grub-mkconfig}}가 존재하는 리눅스 커널을 발견하게 하려면 커널 이름이 {{Path|vmlinuz-}} 또는 {{Path|kernel-}}로 시작해야합니다.

예를 들자면:

{{CodeBox|title=GRUB2에서 발견할 수 있는 커널 이름 예제|<pre>
 /boot/vmlinuz-3.4.3
 /boot/kernel-2.6.39-gentoo
 /boot/kernel-genkernel-x86_64-3.17.1-gentoo-r1
</pre>}}

[[initramfs]]<sup style="color:#ff0077">en</sup>을 사용할 때, 파일 이름은 {{Path|initramfs-}} 또는 {{Path|initrd-}}로 시작해야 하며 {{Path|.img}}로 끝나야합니다. 버전은 커널 이미지와 같아야 합니다. {{c|[[Genkernel/ko|Genkernel]]}}로 만든 이름을 붙인 파일도 동작합니다.

예를 들자면:

{{CodeBox|title=GRUB2에서 찾을 수 있는 initramfs 명칭 예제|<pre>
 /boot/initrd.img-3.4.3
 /boot/initrd-3.4.3.img
 /boot/initrd-3.4.3.gz
 /boot/initrd-3.4.3
 /boot/initramfs-3.4.3.img
 /boot/initramfs-genkernel-3.4.3-gentoo
 /boot/initramfs-genkernel-x86_64-2.6.39-gentoo
</pre>}}

To generate the {{Path|grub.cfg}} file, execute the {{c|grub-mkconfig}} command like so:

{{RootCmd|grub-mkconfig -o /boot/grub/grub.cfg|output=<pre>
Generating grub.cfg ...
Found linux image: /boot/vmlinuz-3.2.9
done
</pre>}}

=== 메시지를 출력하지 않는 커널 압축해제 ===

부팅 도중에 압축한 커널을 조용히 풀려면, {{Path|/etc/default/grub}}을 편집하여 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 변수에  <code>quiet</code> 값을 추가하십시오.

{{FileBox|filename=/etc/default/grub|title=메시지를 출력하지 않는 압축 해제처리|lang=bash|1=
GRUB_CMDLINE_LINUX_DEFAULT="quiet"
}}

=== Systemd ===

GRUB2에서 systemd로 부팅하려면 <code>GRUB_CMDLINE_LINUX</code> 변수를 다음과 같이 설정하십시오:

{{FileBox|filename=/etc/default/grub|title=Systemd 예제|lang=bash|1=
GRUB_CMDLINE_LINUX="init=/usr/lib/systemd/systemd"
}}

=== 다른 운영체제 불러오기 ===

{{c|grub-mkconfig}}는 ''다른'' 운영체제도 불러오는 설정을 만들 수도 있습니다. 이 경우 {{Package|sys-boot/os-prober}} 꾸러미가 필요합니다.

윈도우로 부팅하려면 {{Package|sys-fs/ntfs3g}}도 설치해야 합니다. {{c|grub-mkconfig}} 유틸리티에서 NTFS 파일 시스템을 감지할 수 있게 해줍니다.

== 직접 설정 ==

사용자는 {{c|grub-mkconfig}}를 사용할 필요가 없습니다. 마찬가지로 {{Path|grub.cfg}} 파일을 직접 편집할 수도 있습니다.

대부분의 사용자가 기존의 GRUB 형식을 사용했듯이 다음 예제에서는 기존의 GRUB 설정에서 가져온 정보를 기반으로 설정 파일을 작성하는 방법을 보여줍니다.

{|
! style="text-align: left;" | {{Path|grub.conf}} (GRUB Legacy)
|
! style="text-align: left;" | {{Path|grub.cfg}} (GRUB 2)
|-
| style="background: rgb(250,250,250); vertical-align: top; border: 1px solid black; padding: 5px 7px;" | <code style="color: gray; margin: 0; padding: 0; border: 0; background: transparent; line-height: normal;">timeout 5<br />
<br />
<span style="font-weight: bold; color: maroon;">title</span> Gentoo Linux 3.2.12<br />
root <span style="font-weight: bold; color: maroon;">(</span>hd0,<span style="font-weight: bold; color: maroon;">0)</span><br />
<span style="font-weight: bold; color: maroon;">kernel</span> /boot/kernel-3.2.12-gentoo root=/dev/sda3</code>
| style="vertical-align: middle; font-size: 50px; color: gray;" | ⇨
| style="background: rgb(250,250,250); vertical-align: top; border: 1px solid black; padding: 5px 7px;" | <code style="color: gray; margin: 0; padding: 0; border: 0; background: transparent; line-height: normal;">timeout<span style="font-weight: bold; color: green;">=</span>5<br />
<br />
<span style="font-weight: bold; color: green;">menuentry</span> <span style="font-weight: bold; color: green;">'</span>Gentoo Linux 3.2.12<span style="font-weight: bold; color: green;">'</span> <span style="font-weight: bold; color: green;">{</span><br />
<span style="display: inline-block; width: 4ex; overflow: hidden;">	</span>root<span style="font-weight: bold; color: green;">=</span>hd0,<span style="font-weight: bold; color: green;">1</span><br />
<span style="display: inline-block; width: 4ex; overflow: hidden;">	</span><span style="font-weight: bold; color: green;">linux</span> /boot/kernel-3.2.12-gentoo root=/dev/sda3<br />
<span style="font-weight: bold; color: green;">}</span>
|}

== 추가 참조 ==

* [[GRUB2/ko|GRUB2]] - 자세한 내용과 더 많은 자료가 있는 '완전한' GRUB2 게시글입니다


[[Category:Bootloaders]]
