<languages />

{{Confused|GNOME/gdm{{!}}GDM}}

{{Metadata|abstract=このガイドでは GPM (the General Purpose Mouse server) をコマンドラインインターフェース内からセットアップし使用する方法について説明します。これは新しい Gentoo インストールや、 X サーバーを使用できない、またはしないシステムでは特に便利です。}}

このガイドでは GPM (the General Purpose Mouse server) をコマンドラインインターフェース内からセットアップし使用する方法について説明します。これは新しい Gentoo インストールや、 X サーバーを使用できない、またはしないシステムでは特に便利です。

== GPM を入手する ==

Gentoo をインストールしたばかりなら、ほぼ間違いなくあなたのマウスはコマンドラインインターフェース (CLI) 内で使用できるように設定されていないでしょう。あるいは、マウスを使う必要があるにもかかわらず、X サーバーを使用できなかったり使用する必要がなかったりするかもしれません。これらには単純な解決策があります: {{c|gpm}}、the General Purpose Mouse server です。 

まず GPM を入手する必要があります: 

{{Emerge|sys-libs/gpm}}

コンパイルしている間に、サーバーの設定に関するいくつかのメッセージに気付くかもしれません。これは GPM を開始する前に行う必要があります。

== GPM の設定 ==

GPM を使用できるようにするには、マウスの場所やプロトコルに対応する行をアンコメントする必要があるでしょう。これは GPM の設定ファイルを編集して行います: 

{{RootCmd|nano /etc/conf.d/gpm}}

次の例では USB マウスが {{Path|/dev/input/mouse0}} にあります。したがって、システム上の全てのマウスの累積的デバイスである {{Path|/dev/input/mice}} と適切なプロトコルをアンコメントします。{{Path|/dev/input/mice}} を {{Path|/dev/psaux}} の前に試すようにしてください。後者は非推奨となっており、最近のカーネルでは無効化されているかもしれません。{{Path|/dev/input/mice}} が失敗した場合には他のデバイスに戻ってみてください。以下は {{Path|/etc/conf.d/gpm}} の例です: 

{{CodeBox|title=GPM の設定例|lang=bash|1=
## (Please uncomment the type of mouse you have and the appropriate MOUSEDEV entry)
 
#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
}}

If you have a wheelmouse, you will want to use the imps2 protocol, so uncomment that line. If imps2 and ps2 both fail to work for you, please refer to the GPM info page ({{c|info gpm}}) for other protocols to try. Also, if you want to be able to click on hyperlinks in terminals to navigate to a website, it is a good idea to follow the suggestion in the {{Path|/etc/conf.d/gpm}} file: 

{{CodeBox|title=Other options|lang=bash|1=
## (Please uncomment this line if you want GPM to understand charsets
##  used in URLs and names with ~ or : in them, etc.
##  This is a good idea to turn on!)
 
APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
}}

The rest of the conf.d file contains other suggestions for your mouse server; uncomment the various options according to your needs. See {{c|man gpm}} for more information.

== Running GPM ==

Now that your mouse server is installed and configured, it's time to start using it: 

{{RootCmd|/etc/init.d/gpm start}}

You should see a block cursor appear. Remember that only root can run the GPM init script. However, to avoid having to {{c|su}} and run the script every single time you begin a new session, why not set GPM to begin every time you turn on your computer? 

{{RootCmd|rc-update add gpm default}}

Now, whenever you start your computer, you'll be greeted by the console cursor by the time you get to the login prompt. The mouse server will continue to run even if you're not logged in as root.

== Working with GPM ==

=== Copying and pasting ===

Copying and pasting large blocks of text with a working mouse server is very easy. Simply highlight the text with the left mouse button (it will stay highlighted when you release the button), switch to a different terminal if you wish, position the cursor, and press the middle mouse button to paste the text where you placed the cursor. Note that you can copy and paste without ever leaving the terminal you started. This makes posting the output of error messages to the [https://forums.gentoo.org/ Gentoo Forums] extremely simple.

=== Text-mode browsing and GPM ===

If you have a message on one screen and a text-mode web browser on the other, you can copy the error message by highlighting it, then change to the other terminal, left-click the appropriate text entry box to select it, and then press the middle mouse button. Your error message can now be posted to the forums. 

Though discussion of text-only browsers is somewhat beyond the scope of this guide, inevitably users will need to find a compatible console browser. Though {{c|lynx}} is most likely the oldest and well established browser, its interface has poor mouse support and recognition. Instead, try using {{c|links}} which has excellent mouse integration. 

{{Emerge|links}}

This concludes the guide to using a mouse within the console. Happy mousing!
{{Migrated|originalauthors={{Dev|nightmorph}}}}
