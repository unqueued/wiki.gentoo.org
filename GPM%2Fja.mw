<languages />

{{Confused|GNOME/gdm{{!}}GDM}}

{{Metadata|abstract=このガイドでは GPM (the General Purpose Mouse server) をコマンドラインインターフェース内からセットアップし使用する方法について説明します。これは新しい Gentoo インストールや、 X サーバーを使用できない、またはしないシステムでは特に便利です。}}

このガイドでは GPM (the General Purpose Mouse server) をコマンドラインインターフェース内からセットアップし使用する方法について説明します。これは新しい Gentoo インストールや、 X サーバーを使用できない、またはしないシステムでは特に便利です。

== GPM を入手する ==

Gentoo をインストールしたばかりなら、ほぼ間違いなくあなたのマウスはコマンドラインインターフェース (CLI) 内で使用できるように設定されていないでしょう。あるいは、マウスを使う必要があるにもかかわらず、X サーバーを使用できなかったり使用する必要がなかったりするかもしれません。これらには単純な解決策があります: {{c|gpm}}、the General Purpose Mouse server です。 

まず GPM を入手する必要があります: 

{{Emerge|sys-libs/gpm}}

コンパイルしている間に、サーバーの設定に関するいくつかのメッセージに気付くかもしれません。これは GPM を開始する前に行う必要があります。

== GPM の設定 ==

GPM を使用できるようにするには、マウスの場所やプロトコルに対応する行をアンコメントする必要があるでしょう。これは GPM の設定ファイルを編集して行います: 

{{RootCmd|nano /etc/conf.d/gpm}}

次の例では USB マウスが {{Path|/dev/input/mouse0}} にあります。したがって、システム上の全てのマウスの累積的デバイスである {{Path|/dev/input/mice}} と適切なプロトコルをアンコメントします。{{Path|/dev/input/mice}} を {{Path|/dev/psaux}} の前に試すようにしてください。後者は非推奨となっており、最近のカーネルでは無効化されているかもしれません。{{Path|/dev/input/mice}} が失敗した場合には他のデバイスに戻ってみてください。以下は {{Path|/etc/conf.d/gpm}} の例です: 

{{CodeBox|title=GPM の設定例|lang=bash|1=
## (Please uncomment the type of mouse you have and the appropriate MOUSEDEV entry)
 
#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
}}

ホイールマウスをお持ちの場合は imps2 プロトコルを使用したいでしょうから、その行をアンコメントします。imps2 と ps2 が両方とも動かない場合に試せる他のプロトコルについては、GPM の info ページ ({{c|info gpm}}) を参照してください。また、端末内のハイパーリンクをクリックするとウェブサイトへナビゲートされるようにしたいなら、{{Path|/etc/conf.d/gpm}} ファイル内の提案に従うのが良いでしょう: 

{{CodeBox|title=その他のオプション|lang=bash|1=
## (Please uncomment this line if you want GPM to understand charsets
##  used in URLs and names with ~ or : in them, etc.
##  This is a good idea to turn on!)
 
APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
}}

conf.d ファイルの他の部分には、マウスサーバーに関するその他の提案が含まれています; 必要に応じてさまざまなオプションをアンコメントしてください。詳細については {{c|man gpm}} を見てください。

== GPM の実行 ==

これでマウスサーバーのインストールと設定ができましたから、サーバーを開始しましょう: 

{{RootCmd|/etc/init.d/gpm start}}

ブロックカーソルが現れたはずです。root のみが GPM の init スクリプトを実行できることを覚えておいてください。ただし、新しいセッションを開始する度に {{c|su}} を使用してスクリプトを実行する必要性をなくすために、コンピューターが起動したときに GPM が毎回実行されるように設定しておくのがよいでしょう。 

{{RootCmd|rc-update add gpm default}}

これで、コンピューターを起動するたびに、ログインプロンプトが出る時までにはコンソールカーソルが表示されます。マウスサーバーは root としてログインしていない時にも実行され続けます。

== GPM の操作 ==

=== コピーと貼り付け ===

マウスサーバーが動作していれば、テキストの大きなブロックをとても簡単にコピーしたり貼り付けたりできます。単にマウスの左ボタンでテキストをハイライトし(ボタンを離してもハイライトされ続けます)、お望みなら別の端末へ切り替え、カーソルを移動させてからマウスの中ボタンを押せばテキストがカーソルのある場所に貼り付けられます。開始した端末を離れなくてもコピー、貼り付けができることに留意してください。これにより、エラーメッセージの出力を [https://forums.gentoo.org/ Gentoo Forums] に投稿するのが非常に容易になります。

=== テキストモードでのブラウジングと GPM ===

あるスクリーンにメッセージがありもう一つの方にテキストモードのウェブブラウザーがある場合、エラーメッセージをハイライトさせてコピーし、もう片方の端末に切り替え、適切なテキスト項目を左クリックして選択してからマウスの中ボタンを押します。これでエラーメッセージをフォーラムに投稿できます。 

テキストブラウザーについての解説は幾分このガイドの範囲を超えますが、しかしユーザーは必然的に相性の良いコンソールブラウザーを見つける必要があるでしょう。おそらく {{c|lynx}} がもっとも歴史があり安定したブラウザーですが、そのインターフェースはあまりマウスをサポート・認識していません。代わりにマウスとの素晴らしい統合がなされている {{c|links}} を試してみてください。 

{{Emerge|links}}

This concludes the guide to using a mouse within the console. Happy mousing!
{{Migrated|originalauthors={{Dev|nightmorph}}}}
