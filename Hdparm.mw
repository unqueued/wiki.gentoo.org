{{Lowercase title}}
{{InfoBox stack
|{{InfoBox wikipedia|header=true}}
|{{InfoBox homepage|https://sourceforge.net/projects/hdparm/}}
|{{InfoBox ohloh}}
}}

{{c|hdparm}} is [[Article description::a command-line utility to set and view ATA and SATA [[HDD|hard disk drive]] hardware parameters.]]

== Installation ==

{{USEflag|package=sys-apps/hdparm|desc=}}

=== Emerge ===

Install {{Package|sys-apps/hdparm}}:

{{Emerge|sys-apps/hdparm}}

== Configuration ==

=== Service ===

==== OpenRC ====

To set parameters on boot, edit the {{Path|/etc/conf.d/hdparm}} configuration file:

* <var>sdX_args</var>: Set parameters for the given drive (replace ''sdX'' with the right device file name).
* <var>discX_args</var>: Set parameters for the given disc drive.
* <var>cdromX_args</var>: Set parameters for the given optical drive.
* <var>all_args</var>: Set parameters for all drives.

For example, to disable power management for all drivers and enable the DMA feature for {{Path|/dev/sda}}:

{{FileBox|filename=/etc/conf.d/hdparm|1=
all_args="-B 255"
sda_args="-d1"
}}

When finished modifying the configuration file be sure to add the {{c|hdparm}} service to the default runlevel so that it can start at system boot:

{{RootCmd|rc-update add hdparm default}}

== Usage ==

=== General ===

Show identification and feature info:

{{RootCmd|hdparm -I /dev/sdX}}

=== Benchmarking drives ===

Be sure that no other programs are stressing the drive at the time of testing:

{{RootCmd|hdparm -tT /dev/sdX}}

=== Get current settings ===

This is not consistent: for some features the current values can be found in the common info, for other features {{c|hdparm}} must be called with the right parameters, but without any value, like <code>-d</code>:

{{RootCmd|hdparm -d /dev/sdX}}

Set features by put the value directly behind the parameter (without space), e.g. to enable the DMA mode:

{{RootCmd|hdparm -d1 /dev/sdX}}

{{Warning|Changing the default values can harm the drive or freeze the system.}}

The following tables introduces the most common parameters. For a complete list see the ''hdparm'' [[man page]].

{| class="table table-condensed table-striped"
! Parameter
! Description
|-
| <code>-B</code>
| Set the Advanced  Power  Management feature. The value ''1'' saves the most energy, the value ''255'' disables the feature. The values in-between are corresponding steps. Values of ''127'' and below allow the spin-down of the drive.
{{Warning|Aggressive power management can wear the drive because of often spin-downs.}}
|-
| <code>-d</code>
| Set the DMA feature for IDE and PATA drives. The value ''1'' enables the feature, ''0'' disables the feature.
|-
| <code>-E</code>
| Set CD / DVD drive speed. Lower speeds can reduces the running noise.
|-
| <code>-M</code>
| Set the Automatic Acoustic Management feature. The values ''0'' disables the feature, ''128'' sets the most quiet mode, ''254'' is the fastest mode.
|-
| <code>-S</code>
| Set the standby (spin-down after idling) timeout. The value ''0'' disables the feature, the values from ''1'' to ''240'' specifies time steps of 5 seconds, ''241'' to ''251'' time steps of 30 minutes.
|}

== See also ==

* {{See also|HDD}}

== External resources ==

* {{Bug|hdparm|search=package}}

[[Category:Core system]]
