<languages />

Цель этой статьи — обратить внимание на ряд моментов, которые следует учесть при создании отчетов об ошибках, в целях облегчения жизни тех, кто будет их просматривать. Помните, что они занимаются вашими проблемами бесплатно.

== Лучшие практики ==

* '''Перечитайте текст отчета перед отправкой'''; текст нельзя отредактировать впоследствии. Текст отчета об ошибке, как правило, немедленно отправляется по электронной почте множеству людей. Напишите отчет ясно, на чистом языке; избегайте разговорной лексики. '''Подсказка:''' Представьте, что у вас есть '''только один шанс в вашей жизни''', чтобы написать этот очень важный отчет об ошибке. Вы должны понимать, что получатель может прочитать по-английски, но это может быть не его родной язык.

* '''Поищите дубликаты''', перед созданием нового бага. 

* '''Не отклоняйтесь от темы.''' — bug ticket предназначен для технических отчетов, а не для болтовни. Оставьте ее для [https://www.gentoo.org/support/ каналов поддержки] (форумы, IRC и списки рассылок).
* '''Подтверждайте существование проблемы только один раз.''' — Если вы и кто-то другой сообщите дважды о той же самой проблеме, это не поспособствует ее решению. Однако, если ваша система очевидно отличается от системы подтвердившего ошибку, и это имеет значение, тогда добавьте эту информацию.
* '''Открывайте один отчет для каждой проблемы''' — Если ваша проблема не обсуждается в отчете, поищите отчет, имеющий к ней отношение или создайте новый. Не захватывайте другие отчеты об ошибках.
* '''Никаких разговоров в TRACKER bugs.''' — Эти отчеты являются мета-отчетами. Если вы хотите добавить полезную информацию, добавьте ее в подходящий суб-отчет или создайте новый отчет.

=== Optional: Commercial Gentoo support ===

If you need commercial support with bugs, any trouble around Gentoo or a new ebuild, have a look on the list of professional [[Foundation:Consultants|Gentoo consultants.]]

== Packages/ebuild ==

Вы должны всегда добавлять информацию о системной конфигурации в баг. Для этого создайте новое вложение (attachment) и вставьте содержимое:

{{Cmd|emerge --info > /tmp/emerge--info.txt}}

=== Сообщите об ошибке во время сборки (emerge failed) ===

* First write the exact version of the package in the title of the bug report e.g. ''sys-apps/package-2.3-r4''
* Add a short description to the title.
* '''Attach''' the logfile in {{Path|/var/tmp/portage/<category>/<packagename>/temp/build.log}}
** If your logfile is too big to upload, compress it: {{Cmd|xz -9 {{Path|/var/tmp/portage/<category>/<packagename>/temp/build.log}}}} and upload the build.log.xz
* '''Attach''' the output of {{Cmd|emerge --info <category/packagename>}}

=== Сообщите об ошибках во время выполнения ===

Файлы и информация, представляющая интерес, в порядке приоритета:

* Точная версия пакета в заголовке отчета, например ''sys-apps/package-2.3-r4 аварийно завершается с ошибкой: Не могу продолжать...''
* Описание проблемы, чтобы другие могли ее воспроизвести:
** Как запускается программа (в консоли, в терминале, в качестве демона, в каком уровне запуска и так далее)
** Какие ошибки выводятся
** Что заставляет программу аварийно завершаться, неправильно работать, не запускаться
** Есть ли возможность обойти проблему?
** Последняя версия пакета, которая работала нормально, если таковая была
** Какие изменения привели к тому, что программа перестала работать?
* Прикрепите вывод команды ''emerge --info''
* Прикрепите вывод команды ''emerge -pv <packagename>'' для быстрого просмотра зависимостей

=== Report a version bump; a newer upstream release is available since a while ===

* Search Bugzilla before posting a bump request - is there already a bug open? '''Has the local Portage tree been synced lately'''; is it already in Portage? 
* Avoid [[Zero-day bump requests]] (wait at least '''48 hours''' after the release announcement)
* Has it actually been '''released''' by upstream sources, '''or is it just marked''' in the source tree? Some projects mark a release in the tree long time before it is officially released.
* Be sure to '''mention if it compiles and runs well on your arch'''. Any other helpful information you provide is most welcome.
* Add a link to the upstream website
* Give a link or list of fixed bugs or new features (sometimes called '''changelog''')
* Write a title in the form '''app-editors/vim-12.3.5 version bump'''

==== Optional ====

* Does the ebuild need changes? (changed dependencies, obsolete patch files)
* Please note, if the new version needs no changes to the ebuild's contents
* [[Package testing|Test the ebuild]] in a local overlay before submitting attachments
* Provide patches for proposed ebuild edits, with optional explanation of changes (file name should match the new version number, not old)
* Provide additional files (initd, unit files) as separate attachments (as needed)
* Do not paste files directly into comments; '''use attachments'''

=== Request for a new package; ebuild request ===

Если вы хотите добавить в Portage новый ebuild для какой-либо программы, вам нужно найти куратора (maintainer) для пакета, либо самому им стать:

* Link to the upstream website in the bug report
* Give a link or list of features
* Suggest a preliminary category and package name for the ebuild in the subject line for example "media-gfx/inkscape ebuild request"
* Provide an ebuild and patches that were tested in your [[Handbook:Parts/Portage/CustomTree#Defining_a_custom_repository|local overlay]] (you can get help in [https://www.gentoo.org/support/ IRC or in the forums] with that)

=== Пакет XY следует отметить как стабильный ===

Пакет собирается и работает без проблем более 30 дней, но все еще отмечен как нестабильный:

* Более подробную информацию о стабильной/нестабильной ветвях можно найти в статье [[KEYWORDS]]
* Вы тщательно оттестировали версию, которую вы хотите сделать стабильной?
* Существуют другие отчеты, относящиеся к этой ошибке?
* Версия пакета была добавлена как минимум 30 дней назад?
* Все зависимости этой версии отмечены, как стабильные?

== Ядро ==

Файлы и информация, представляющая интерес для отчетов об ошибках ядра, в порядке приоритета:

* Какая версия ядра используется, на какой архитектуре, например ''gentoo-sources-3.4.2-r2'' на ''x86_64''
* Файл конфигурации ядра следует прикрепить к отчету: {{Path|/usr/src/linux/.config}}
* Список всех устройств в системе можно получить с помощью команды ''lspci -k''
* Следует прикрепить файлы журналов ядра, содержащие информацию о его инициализации: {{Path|/var/log/dmesg}} или {{Path|/var/log/messages}}

{{Note|Может потребоваться осуществить [[kernel git-bisect]] для определения плохих патчей.}}

== Другие отчеты об ошибках ==

Тут нет шаблонов, это относится к категории проблем вроде тех, которые возникают с captcha на wiki.gentoo.org, forum.gentoo.org недоступен, или к любым другим проблемам, не относящимся к программному обеспечению.

== Смотрите также ==

* [[Bugzilla/Guide|Руководство по Bugzilla]]
* [[Contributing to Gentoo|Как помочь Gentoo]]
* [[Stable request|Запрос о стабилизации]]
* [[Gentoo Github#Bug report|Gentoo Github]] — Как помочь проекту Gentoo и отправить [https://github.com/gentoo/gentoo/pulls Pull Request via GitHub]

== Внешние ресурсы ==

* [https://bugs.gentoo.org/ Сайт Gentoo Bugzilla]


[[Category:Project and Community]]
