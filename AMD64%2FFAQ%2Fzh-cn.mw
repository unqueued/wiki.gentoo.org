<languages />


{{Metadata|abstract=这是Gentoo Linux在AMD64平台上经常被问到的问题}}

这是 Gentoo Linux 在 AMD64 平台上经常被问到的问题的文章。从复查现在的目录开始。

== 介绍 ==

This document contains the most commonly asked questions about using Gentoo Linux on AMD64 systems. Many of these questions come from the [http://forums.gentoo.org forums], IRC, and various [https://www.gentoo.org/get-involved/mailing-lists/all-lists.html mailing lists]. The [[Project:AMD64|AMD Project]] provides support for Gentoo Linux on this architecture. If you have suggestions or questions about this FAQ, you are welcome to send an e-mail to {{Mail|amd64@gentoo.org}}.

== 安装 ==

===AMD64 和 EM64T 有什么区别？===

AMD64 和 EM64T 指的都是64位处理器，只是一个是AMD的（AMD64）,一个是英特尔的（EM64T）。AMD的64位处理器包括Athlon 64（速龙64）, Turion（炫龙）, Neo（速龙 Neo）, Phenom（羿龙）, 和 Opteron（皓龙）系列。英特尔的64位处理器包括 Core 2（酷睿2），Core i3/i5/i7，Xeon（至强）和Pentium（奔腾）（它们全都基于Core 2 架构。[//en.wikipedia.org/wiki/x86-64#Intel_64 last few versions] 中的较老的奔腾四代和至强处理器也支持M64T。

AMD的64位处理器生产线的发布远远早于英特尔。因此，出于历史原因，在 Gentoo 中所有兼容 x86-64 的架构的关键字都是{{keyword|amd64}}。所以，"AMD64"只是个64位处理器芯片的通称，并不专指某个公司的处理器。

===我该使用哪种CFLAGS参数?===

You should use simple <var>CFLAGS</var> to avoid future problems with your system. Supported <var>CFLAGS</var> values are <code>-O2 -march=native -pipe</code> for both AMD and Intel (EM64T) systems.

===我该使用哪种内核？===

您可以使用 Portage 中几乎所有的内核源代码。我们推荐使用{{Package|sys-kernel/gentoo-sources}} 因为它是专为 Gentoo Linux 设计的。它包含了许多针对AMD64构架的补丁，因此是在 AMD64 平台上受 Gentoo 官方支持的唯一的内核。

Make sure you have the <var>IA32_EMULATION</var> option activated in the kernel.

{{RootCmd|cd /usr/src/linux
|make menuconfig}}

{{KernelBox|title=Enabling IA32 emulation|1=
Executable file formats / Emulations  --->
  [*] IA32 Emulation
}}

{{Warning/zh-cn|如果你关闭此选项你可能在 [[multilib]] 系统上遇到编译失败的情况。}}

===如果我从32位系统升级到64位系统，电脑会有更好的表现么？===

这是一个很难回答的问题。在某些情况下，你将会体验到性能的提高，但这不是绝对的。仅就日常使用而言，64位和32位之间几乎没有差别。当涉及到浮点运算时， 64位通常的速度更快，这是通常运行多媒体应用程序和3D渲染的情形。您可能会对Linux.com的文章 [http://www.linux.com/articles/114024?tid=121 "64-bit performance in Gentoo Linux"] 和[http://www.linux.com/feature/43873 "64-bit Linux and BSD are maturing steadily"]感兴趣。在我们的论坛里，还有一个很好的帖子：[https://forums.gentoo.org/viewtopic-t-349691.html "Article: 64-bit performance in Gentoo Linux"] 。

===什么是multilib，我该怎么使用它？===

每一台AMD64处理器都能够运行32位代码和64位代码。但是，当你使用一个32位的应用程序，你将不能把它和64位的库混用，反之亦然。然而，如果一个32位程序所需要的共享库都完备地作为32位对象，你就可以以原生（无仿真）的方式运行32位应用程序，这就是multilib。您可以通过配置选择是否要[multilib的]支持。默认配置是启用multilib的。

{{Warning/zh-cn|当前并不支持从 no-multilib 到 multilib-enabled 的切换 ([http://jkroon.blogs.uls.co.za/it/gentoo/gentoo-converting-no-multilib-to-multilib conversion hints])，所以在你决定用 no-multilib 之前请三思。}}

=== 我该怎么创建一个32位的chroot? ===

请阅读[[Project:AMD64/32-bit_Chroot_Guide|32bit chroot guide]].

=== Can I upgrade from my x86 system to AMD64 by doing emerge -e @world? ===

因为 {{keyword|x86}} (32位) 和{{keyword|amd64}} (64位) 安装的一些差异，无法通过这种方法升级。请使用[[Handbook:AMD64|AMD64 Handbook]]的方法执行全新安装。

注意在x86系统上创建的二进制文件很有可能无法被AMD64系统上的 Package 读取。就比如说，MySQL, innoDB, Berkeley DB, SQLite, OpenLDAP的数据库就不能简单地原样复制。您需要转储 (Dump) 数据库到一个与体系结构无关的格式，如文本文件，然后才能尝试在AMD64系统中还原它。

===我能用Reiser4么？===

答案是否定的。Reiser4 在任何 Gentoo 内核项目中都不可用，所以 AMD64 团队也没有提供支持。

=== 硬件 ===

=== 我的 NVIDIA/ATI 的驱动程序能工作么？ ===

Yes, NVIDIA and ATI provide drivers that work on AMD64. You can install them by executing {{c|emerge x11-drivers/nvidia-drivers}} or {{c|emerge x11-drivers/ati-drivers}}. If you have more questions about these drivers, you should read the [[NVidia/nvidia-drivers|nvidia-drivers guide]] or the [[ATI FAQ]].

===我该怎么使用 Cool'n'Quiet（清凉安静技术）、PowerNow 和SpeedStep（智能功效管理）？===

{{Dated|section}}

你必须为支持这些特性编译内核。你只需要启用如下功能： 

{{KernelBox|title=Cool'n'Quiet/PowerNow/SpeedStep 的内核选项|1=
Power management options --->
  [*] Run-time PM core functionality
  [*] ACPI (Advanced Configuration and Power Interface) Support --->
    <*>   Processor
    <*>     Thermal Zone
  CPU Frequency scaling --->
  [*] CPU Frequency scaling
         Default CPUFreq governor (ondemand) --->
  -*-   'performance' governor
  <*>   'userspace' governor for userspace frequency scaling
  -*-   'ondemand' cpufreq policy governor
  <*>   ACPI Processor P-States driver
  <*>   AMD Opteron/Athlon64 PowerNow!
-*- CPU idle PM support
}}

Then {{c|emerge sys-power/cpufrequtils}} and edit {{Path|/etc/conf.d/cpufrequtils}} with a preferred text editor. 

{{FileBox|filename=/etc/conf.d/cpufrequtils|title=配置实例|1=
# Options when starting cpufreq (given to the 'cpufreq-set' program)
START_OPTS="--governor ondemand"
  
# Options when stopping cpufreq (given to the 'cpufreq-set' program)
STOP_OPTS="--governor performance"
}}

Now you only have to run {{c|rc-update add cpufrequtils boot}} to make sure it is started every time the system boots. 

{{Note/zh-cn|关于 CPU 电源管理的更多技巧你可以参考[[Power management/Guide|电源管理指南]]。}}

==应用程序==

===我能用Adobe Flash么？===

是的，只需使用 Emerge 安装{{Package|www-plugins/adobe-flash}}。请务必阅读所可能出现的任何ebuild消息。

{{Warning|The {{Package|www-plugins/adobe-flash}} package is old, outdated and will shortly be officially unmaintained by Adobe. See the [[Adobe Flash]] article for better, up to date information.}}

=== 我想安装某个Package,但是Emerge显示：(masked by: ~amd64 keyword) ===

This means that the package is still in the 'testing' tree. Please read Portage's manual page ({{c|man portage}}) or the [[Handbook:AMD64/Portage/Branches|Mixing Software Branches]] chapter of the [[Handbook:AMD64|AMD64 Handbook]] for more information.

=== 我想安装某个Package,但是Emerge显示：(masked by: missing keyword) ===

这意味着 Package 还没有被测试过。它不一定意味着Package不能正常工作。您可以通过接受另一种（一些）架构的方式来接受它。下面的例子显示，你可以通过给Portage一些关键字使之接受给定Package的安装。

{{RootCmd|echo "category/packagename **" >> /etc/portage/package.accept_keywords
|emerge packagename}}

如果你运行正常，请在[https://bugs.gentoo.org/ Gentoo's Bugzilla]登记Bug来让我们知道，这样AMD64平台团队就可以把此Package标记，其他用户就可以从你的测试中受益。 

{{Warning|Do not try to invoke commands like {{c|ACCEPT_KEYWORDS{{=}}"~x86" emerge packagename}}. It will most certainly break the Portage tree and render the system useless.}}

==我该怎么帮助 Gentoo/AMD64 项目？==

===我该怎么帮助？===

With a growing popularity of the {{Keyword|amd64}} architecture, we also increasingly need more help. There's still much work to be done to improve the quality of Gentoo/AMD64. An average user can help us by: 

* Filing general bug reports.
* Testing software that does not yet have the {{Keyword|~amd64}} keyword.
* Participating in the [[Project:Arch Testers|Arch testers project]].
* Help answering questions on the mailing lists, forums and IRC channels.
* Sending patches.

==其他资源==

===我在哪里可以得到有关 Gentoo/ AMD64 的更多的帮助或信息？===

If any of your questions wasn't answered here, you can try other resources listed on [[Handbook:AMD64|our project homepage]]. You can also ask us at {{IRC|gentoo-amd64}} on chat.freenode.net, [https://forums.gentoo.org/viewforum-f-46.html Gentoo/AMD64 Forums], or on the {{Mail|gentoo-amd64@lists.gentoo.org}} mailing list.

[[Category:Core system]] {{Migrated|originalauthors= Simon Stelling, Luis Medinas, Gerald J. Normandin Jr., Xavier Neys, nightmorph+}}
