{{InfoBox stack
|{{InfoBox homepage|http://store.hp.com/us/en/pdp/hp-zbook-studio-g4-mobile-workstation---customizable-x5e42av-mb|header=true}}
|{{InfoBox wikipedia|https://en.wikipedia.org/wiki/HP_ZBook}}
}}

== Hardware ==
{{RootInvocation|lspci -k|output=<pre>00:00.0 Host bridge: Intel Corporation Device 5910 (rev 05)
	Subsystem: Hewlett-Packard Company Device 826b
00:02.0 VGA compatible controller: Intel Corporation Device 591b (rev 04)
	Subsystem: Hewlett-Packard Company Device 826c
	Kernel driver in use: i915
00:04.0 Signal processing controller: Intel Corporation Skylake Processor Thermal Subsystem (rev 05)
	Subsystem: Hewlett-Packard Company Skylake Processor Thermal Subsystem
00:14.0 USB controller: Intel Corporation Sunrise Point-H USB 3.0 xHCI Controller (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H USB 3.0 xHCI Controller
	Kernel driver in use: xhci_hcd
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-H Thermal subsystem (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H Thermal subsystem
00:15.0 Signal processing controller: Intel Corporation Sunrise Point-H Serial IO I2C Controller #0 (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H Serial IO I2C Controller
00:16.0 Communication controller: Intel Corporation Sunrise Point-H CSME HECI #1 (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H CSME HECI
00:17.0 SATA controller: Intel Corporation Sunrise Point-H SATA controller [AHCI mode] (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H SATA controller [AHCI mode]
	Kernel driver in use: ahci
00:1c.0 PCI bridge: Intel Corporation Sunrise Point-H PCI Express Root Port #1 (rev f1)
	Kernel driver in use: pcieport
00:1c.1 PCI bridge: Intel Corporation Sunrise Point-H PCI Express Root Port #2 (rev f1)
	Kernel driver in use: pcieport
00:1c.4 PCI bridge: Intel Corporation Sunrise Point-H PCI Express Root Port #5 (rev f1)
	Kernel driver in use: pcieport
00:1d.0 PCI bridge: Intel Corporation Sunrise Point-H PCI Express Root Port #9 (rev f1)
	Kernel driver in use: pcieport
00:1f.0 ISA bridge: Intel Corporation Sunrise Point-H LPC Controller (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H LPC Controller
00:1f.2 Memory controller: Intel Corporation Sunrise Point-H PMC (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H PMC
00:1f.3 Audio device: Intel Corporation Device a171 (rev 31)
	Subsystem: Hewlett-Packard Company Device 826b
	Kernel driver in use: snd_hda_intel
00:1f.4 SMBus: Intel Corporation Sunrise Point-H SMBus (rev 31)
	Subsystem: Hewlett-Packard Company Sunrise Point-H SMBus
	Kernel driver in use: i801_smbus
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (2) I219-LM (rev 31)
	Subsystem: Hewlett-Packard Company Ethernet Connection (2) I219-LM
	Kernel driver in use: e1000e
01:00.0 Network controller: Intel Corporation Wireless 8265 / 8275 (rev 78)
	Subsystem: Intel Corporation Wireless 8265 / 8275
	Kernel driver in use: iwlwifi
02:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. RTS525A PCI Express Card Reader (rev 01)
	Subsystem: Hewlett-Packard Company RTS525A PCI Express Card Reader
6e:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller SM961/PM961
	Subsystem: Samsung Electronics Co Ltd NVMe SSD Controller SM961/PM961
	Kernel driver in use: nvme
</pre>}}

=== Sound Card ===
{{RootCmd|lspci {{!}} grep Audio |output=<pre>00:1f.3 Audio device: Intel Corporation Device a171 (rev 31)</pre>}}
Be sure to enable {{c|HD Audio PCI}} (snd-hda-intel) and enable the codecs.
{{KernelBox|
Device Drivers --->
    <*> Sound card support
        <*> Advanced Linux Sound Architecture --->
            HD-Audio  --->
                <*> HD Audio PCI
                [*] Build Realtek HD-audio codec support
                [*] ...
                [*] Build Silicon Labs 3054 HD-modem codec support
                [*] Enable generic HD-audio codec parser
General setup --->
    [*] System V IPC
}}

=== Thunderbolt 3 ===
Thunderbolt 3 is a hot pluggable PCIe port, with USB 3.1 support.
{{KernelBox|title=Thunderbolt 3 Support|1=
Bus options (PCI etc.)  --->
    [*] PCI support
    [*]   PCI Express Port Bus support
    [*]     PCI Express Hotplug driver
    [*] Support for PCI Hotplug  --->
}}
Should be enough.

=== USB ===
Easy, just enable xHCI.
{{KernelBox|1=
Device Drivers  --->
    [*] USB support  --->
        <*>     xHCI HCD (USB 3.0) support
}}
No need to enable EHCI or OHCI. xHCI is backwards compatible already.
=== Wifi ===
{{RootCmd|lspci {{!}} grep Network|output=<pre>
01:00.0 Network controller: Intel Corporation Wireless 8265 / 8275 (rev 78)
</pre>}}
Intel Corporation Wireless 8265 / 8275 does not work out of the box.
The following kernel config is copied from [[Iwlwifi#When_using_built-in_config|here]].
{{KernelBox|title=iwlwifi kernel support|1=
Device Drivers  --->
    Generic Driver Options  --->
        -*- Userspace firmware loading support
        (iwlwifi-8265-22.ucode) External blobs to build into the kernel binary
        (/lib64/firmware) Firmware blobs root directory
    [*] Network device support  --->
        [*]   Wireless LAN  --->
            [*]   Intel devices
            <*>     Intel Wireless WiFi Next Gen AGN - Wireless-N/Advanced-N/Ultimate-N (iwlwifi)
            < >       Intel Wireless WiFi DVM Firmware support
            <*>       Intel Wireless WiFi MVM Firmware support
[*] Networking support  --->
    [*] Wireless  --->
        <*>   cfg80211 - wireless configuration API
        [*]     enable powersave by default
        <*>   Generic IEEE 802.11 Networking Stack (mac80211)
        [*]   Minstrel
        [*]     Minstrel 802.11n support
}}
No need to enable DVM: 
{{KernelBox|1=
< >       Intel Wireless WiFi DVM Firmware support
}}

Check if the driver is on your system.
{{Cmd|ls /lib64/firmware {{!}} grep iwlwifi-8265}}
If the driver is not available, download the driver from https://wireless.wiki.kernel.org/en/users/drivers/iwlwifi.

{{reflist}}

[[Category:Laptops]]
