{{InfoBox stack
|{{InfoBox homepage|http://www.nagios.org|header=true}}
|{{InfoBox wikipedia}}
}}
'''Nagios''' offers complete monitoring and alerting for servers, switches, applications, and services.

== Installation ==

=== Prerequisites ===
Decide which web server you want to use and set it up:
* [[Apache]] with PHP
* [[Lighttpd]] with [[PHP]]

=== net-analyzer/nagios ===
Set the right USE flag for {{Package|net-analyzer/nagios-core}}:
{{USEflag|package=net-analyzer/nagios-core
|apache2
|lighttpd
}}

Also enable the right USE flags for the plugins you want for {{Package|net-analyzer/nagios-plugins}}.

Finally install {{Package|net-analyzer/nagios}}:
{{Emerge|nagios}}

== Configuration ==

=== Apache ===
Enable the Nagios module for Apache:
{{File|/etc/conf.d/apache2||<pre>
APACHE2_OPTS="... -D NAGIOS"</pre>}}

Restart the Apache service:
{{RootCmd|rc-service apache restart}}

=== Lighttpd ===
Enable the Nagios config for Lighttpd:
{{File|/etc/lighttpd/lighttpd.conf||<pre>
include "nagios.conf"</pre>}}

Configure athentication, more option on how to set this up can be found in the Lighttpd docs
{{File|/etc/lighttpd/nagios.conf||<pre>
$HTTP["url"] =~ "nagios" {
    auth.backend ="plain"
    auth.backend.plain.userfile = "/etc/nagios/passwd"
    auth.require = ( "" => (
        "method" => "digest",
        "realm" => "nagios",
        "require" => "user=nagiosadmin"
        )
    )
    setenv.add-environment = ( "REMOTE_USER" => "user" )
}
</pre>}}

Restart the Lighttpd service:
{{RootCmd|rc-service lighttpd restart}}

=== Permissions ===
Add the user name(s) to the nagios group, whom are allowed access to the Nagios service:
{{RootCmd|gpasswd -a YOUR_USER nagios}}

Once done, completely log-out from all shells and relogin for the update to apply.

=== Boot service ===
You can now start Nagios:
{{RootCmd|/etc/init.d/nagios start}}

To start Nagios  at boot time, add it your default runlevel:
{{RootCmd|rc-update add nagios default}}

== Testing ==
Open your browser and navigate to "http://localhost/nagios".

== Troubleshooting  ==
* {{Bug|net-analyzer/nagios|search=package}}

[[Category:Monitoring]]
