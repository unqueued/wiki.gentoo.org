{{Stub}}

{{InfoBox stack
|{{InfoBox homepage|https://01.org/powertop/|text=PowerTOP homepage|header=true}}
|{{InfoBox wikipedia|PowerTOP}}
|{{InfoBox ohloh}}
}}

PowerTOP is a Linux utility that can monitor and display a system's electrical power usage. It is useful as a hardware monitoring and diagnostic tool. It is among the most powerful battery stretching utilities for notebook computers.

__TOC__

== Installation ==

=== Kernel ===

Both <var>CPU_FREQ_STAT</var> and <var>CPU_FREQ_STAT_DETAILS</var> must be enabled in the kernel for PowerTOP to work properly. Enabling <var>CPU_FREQ_STAT_DETAILS</var> might be a good idea as well:

{{KernelBox|title=Enable support for PowerTOP in kernel|1=
Power management and ACPI options  --->
   CPU Frequency scaling  --->
      [*] CPU Frequency scaling
      <*> CPU frequency translation statistics
      [*] CPU frequency translation statistics details
      [*] Extra PM attributes in sysfs for low-level debugging/testing
Kernel hacking  --->
   [*] Kernel debugging
   [*] Collect kernel timers statistics
}}

If the above options have not properly been enabled Portage should display warning messages at the end of the emerge.

=== USE flags ===

{{USEflag|package=sys-power/powertop}}

=== Emerge ===

After setting USE flags, {{c|emerge}} PowerTOP:

{{Emerge|sys-power/powertop}}

== Configuration ==

(Software configuration.)

== Usage ==


== Troubleshooting ==

=== Could not find a Makefile in the kernel source directory ===

After an emerge a message similar to the following message may be displayed:

{{CodeBox|title=Post emerge warning message|1=
 * Could not find a Makefile in the kernel source directory.
 * Please ensure that /usr/src/linux points to a complete set of Linux sources
 * Unable to calculate Linux Kernel version for build, attempting to use running version
 *   CONFIG_DEBUG_FS:    is not set when it should be.
 *   CONFIG_TRACEPOINTS:         is not set when it should be.
 *   CONFIG_BLK_DEV_IO_TRACE:    is not set when it should be.
 *   CONFIG_TIMER_STATS:         is not set when it should be.
 *   CONFIG_TRACING:     is not set when it should be.
 * Please check to make sure these options are set correctly.
 * Failure to do so may cause unexpected problems.
}}

This warning indicates the PowerTOP ebuild has attempted to verify a successful operating environment for the PowerTOP software package. In order to be sure PowerTOP will work as intended, at the end of the {{c|emerge}} process, a check is ran against the current kernel source configuration. In the case of the above message two warnings were provided:

# No kernel sources have been detected. This can happen as a result of running an {{c|emerge --depclean}} or failed to have a specific kernel set using the {{c|eselect kernel}} command.
# Since no kernel sources have been detected Portage was not able to scan the kernel's {{Path|.config}} file to determine if the correct features have been enabled in the kernel. According to the error message above, five features are not set. The features may or may not be set in the current running kernel. Portage is simply making the user aware there is no way to verify these features have been set without a {{Path|.config}} file. If PowerTOP can perform some functions but not others, be sure all the kernel features listed have been enabled. For more information on how to do so consult the [[Kernel/Configuration|kernel configuration article]].

== See also ==

* [[Power_management|Power management]]

== External resources ==

== References ==

{{reflist}}

[[Category:Software]]
