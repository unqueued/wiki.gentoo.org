<languages/>
{{Lowercase title}}
{{InfoBox stack
|{{InfoBox homepage|http://tmux.sourceforge.net|header=true}}
|{{InfoBox wikipedia}}
|{{InfoBox ohloh}}
}}

{{c|tmux}} ('''t'''erminal '''mu'''ltiple'''x'''er) è un programma che abilita diversi terminali (o finestre), su ognuno dei quali giri un programma separato, ad essere creatim acceduti e controllati da un singolo schermo o finestra di terminale. {{c|tmux}} può essere staccato (detached) da uno schermo  e continuare a girare in background, ed essere ricollegato nuovamente in seguito.<ref>http://man7.org/linux/man-pages/man1/tmux.1.html</ref> Gli utenti familiari con GNU [[Screen]] possono trovare in tmux una valida alternativa.

== Installazione ==

=== Flags USE ===

{{USEflag|package=app-misc/tmux}}

=== Emerge ===

Installare {{Package|app-misc/tmux}}:

{{Emerge|app-misc/tmux}}

== Configurazione ==

L'installazione standard di {{c|tmux}} non installerà i file di configurazione globale ({{Path|/etc/tmux.conf}}) o specifici per ciascun utente ({{Path|~/.tmux.conf}}). Sono disponibili degli esempi nella directory {{Path|/usr/share/doc/tmux-2.0/examples}} e possono essere copiati nella location globale o utente ed editati a piacere utilizzando un [[text editor]].

=== Esempi dal package ===

Per vedere una lista dei file di configurazione, lanciare il seguente comando:

{{Cmd|ls /usr/share/doc/tmux-2.0/examples|output=<pre>
h-boetes.conf.bz2  n-marriott.conf.bz2  screen-keys.conf.bz2  t-williams.conf.bz2  vim-keys.conf.bz2
</pre>}}

Usare poi {{c|cp}} per copiare uno dei file alla location globale (che impatterà tutti gli utenti) o nella home dell'utente.

=== Esempio wiki ===

Il seguente è un esempio del file {{Path|~/.tmux.conf}}:

{{FileBox|filename=~/.tmux.conf|1=
set -g default-terminal "screen-256color"   # Usa 256 colori
set -g status-utf8 on                       # Abilita utf-8
set -g history-limit 100000                 # Numero di righe nel buffer di scroll
 
# L'indice iniziale delle finestre parte da 1 invece che da 0
set -g base-index 1
 
# Setta la combinazione di prefix ed alcuni key bindings per corrispondere a GNU Screen
set -g prefix C-a
bind-key C-a last-window
 
# Key bindings per pannelli orizzontali e verticali
unbind %
bind {{!}} split-window -h
bind - split-window -v
 
# Abilita i titoli delle finestre
#set -g set-titles on
 
# Stringa per titolo della finestra (usa variabili della barra di stato)
set -g set-titles-string '#T'
 
# Barra di stato con carico ed ora
set -g status-bg '#4e4e4e'
set -g status-fg '#ffffff'
set -g status-left ' '
set -g status-right '#[bg=#bbbbbb]#[fg=#000000]#(cut -d " " -f -3 /proc/loadavg) #[bg=#4e4e4e]#[fg=#ffffff]#(
date +" %H:%M ")'
set -g window-status-format '#I #W'
set -g window-status-current-format ' #I #W '
setw -g window-status-current-bg '#55ff55'
setw -g window-status-current-fg '#000000'
 
# Colore del bordo pannello
set -g pane-active-border-fg '#bbbbbb'
set -g pane-border-fg '#555555'
 
# Scorciatoia per ricaricare la configurazione
bind r source-file ~/.tmux.conf
}}

=== Plugins ===

Alcuni [[Tmux/plugins|plugins]] sono disponibili per {{c|tmux}}. Vedere la sezione seguente per le opzioni disponibili.

==== tmux-mem-cpu-load ====

{{c|tmux-mem-cpu-load}} è un piccolo programma disegnato per monitorare l'attività di sistema nella barra di stato di {{c|tmux}}. Vedere l'articolo [[Tmux/plugins/tmux-mem-cpu-load|{{c|tmux-mem-cpu-load}}]] per maggiori dettagli riguardo il processo di installazione.

==== Tmux Resurrect ====

{{c|tmux-resurrect}} rende l'ambiente di {{c|tmux}} persistente tra i riavvii di sistema. Vedere l'articolo [[Tmux/plugins/resurrect|resurrect]] per maggiori dettagli riguardo il processo di installazione.

== Utilizzo ==

=== Assegnazione dei tasti (key bindings) ===

tmux può essere controllato da un client collegato utilizzando delle combinazioni di tasti, composte da una "pressione della combinazione di prefisso" (di default {{Key|Ctrl}}+{{Key|b}}) seguita da una combinazione di "comando".

Dopo aver premuto {{Key|Ctrl}}+{{Key|B}} è possibile utilizzare le seguenti combinazioni:

==== General ====

* {{Key|?}} = List all key bindings.
* {{Key|d}} = Detach the current client.
* {{Key|:}} = Enter the tmux command prompt.

==== Creating and managing windows ====

* {{Key|c}} = Create a new window
* {{Key|n}} = Change to the next window.
* {{Key|p}} = Change to the previous window.
* {{Key|l}} = Move to the previously selected window.
* {{Key|0-9}} = Select windows 0 to 9.
* {{Key|'}} = Prompt for a window index to select. Then enter a number or title to switch to that window.
* {{Key|,}} = Rename the current window.
* {{Key|w}} = Choose the current window interactively.
* {{Key|:}}, then type list-windows {{Key|enter}} = Display the list of windows.

==== Creating and managing panes ====

* {{Key|"}} = Split the current pane into two, top and bottom.
* {{Key|%}} = Split the current pane into two, left and right.
* {{Key|o}} = Select the next pane in the current window.
* {{Key|;}} = Move to the previously active pane.
* {{Key|{}} = Swap the current pane with the previous pane.
* {{Key|<nowiki>}</nowiki>}} = Swap the current pane with the next pane.
* {{Key|Ctrl}}+{{Key|o}} = Rotate the panes in the current window forwards.
* {{Key|Alt}}+{{Key|1}} to {{Key|Alt}}+{{Key|5}} = Arrange panes in one of the five preset layouts: even-horizontal, even-vertical, main-horizontal, main-vertical, or tiled.
* {{Key|x}} = Kill the current pane.
* {{Key|!}} = Break the current pane out of the window.

==== Copy, paste, and scroll operations ====

The keys available depend on whether emacs (default) or vi mode is selected. The mode-keys option can be set in {{Path|.tmux.conf}} for vi mode.

* {{Key|[}} = Enter copy mode to copy text or view the history.
* {{Key|]}} = Paste the most recently copied buffer of text.
* {{Key|#}} = List all paste buffers.
* {{Key|-}} = Delete the most recently copied buffer of text.

=== Session control ===

==== Start session ====

Once started {{c|tmux}} creates a socket for the session in {{Path|/tmp/S-<UID>/<Session Name>}}

{{c|tmux}} can be started with the following command:

{{Cmd|tmux}}

Or, to give the session a name on start up, run:

{{Cmd|tmux new-session -s portage}}

==== Listing sessions ====

List {{c|tmux}} sessions to see existing session information:

{{Cmd|tmux ls|output=<pre>
0: 1 windows (created Thu Apr  9 09:09:03 2015) [180x65] (attached)
</pre>}}

When listing sessions the name of the session should appear as the first item in the session information line. It is possible to see from the output above the session was created without a name, hence the session is to be referenced as <code>0</code>.

Another way to list sessions is by typing out the long <code>list-sessions</code> argument.

{{Cmd|tmux list-sessions|output=<pre>
0: 1 windows (created Thu Apr  9 09:09:03 2015) [180x65] (attached)
</pre>}}

The exact same output as the previous list command is displayed.

==== Renaming a session ====

Simply using {{c|tmux}} to start a session will not provide the session with a nice, human readable name.

If the default session name is not descriptive enough (<code>0</code> does not tend to describe much), then a session can be renamed. Suppose Larry the cow started {{c|tmux}} without specifying a session name on start up. He begins working on compiling a new version of Portage, and wants to change the session name to reflect his current task. To change the session name he would first assume control of {{c|tmux}} by pressing the magic key stroke: {{Key|Ctrl}}+{{Key|b}}, then {{Key|:}} which will drop focus into the {{c|tmux}} control line. By default the line should turn yellow. Once there he would issue:

{{Cmd|prompt=:|rename-session -t 0 portage}}

Where <code>0</code> is the existing (default) session name and <code>portage</code> is the desired new name for the session. To rename when detached from a {{c|tmux}} session issue:

{{Cmd|tmux rename-session -t 0 portage}}

==== Resuming a session ====

After the session is detached, all the active terminals remain active and so do commands that did not finish yet. To resume a session use <code>attach -t <session_name></code>.

{{Cmd|tmux a -t portage}}

Or use the long way of attaching to an existing session:

{{Cmd|tmux attach -t portage}}

==== Daemon-like operation ====

To start a command in a {{c|tmux}} session ''without'' attaching to the session (like a daemon) use <code>new-session -d</code> followed by the command to execute in quotes:

{{Cmd|tmux new-session -d 'emerge -uDNvp @world'}}

== See also ==

* [[Screen]] - An alternative to tmux.

== External resources ==

* [https://danielmiessler.com/study/tmux/ An excellent {{c|tmux}} primer].
* [https://leanpub.com/the-tao-of-tmux/read The Tao of tmux], ebook by Tony Narlock, creator of [https://libtmux.git-pull.com libtmux] and [https://tmuxp.git-pull.com tmuxp].

== References ==

{{reflist}}

[[Category:Software]]
