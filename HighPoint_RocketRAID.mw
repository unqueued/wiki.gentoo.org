<languages />
<translate>
<!--T:1-->
{{InfoBox stack
|{{InfoBox homepage|http://www.highpoint-tech.com/|header=true}}
}}

<!--T:2-->
This guide assists with the installation of a RocketRAID card on Gentoo Linux.

== Installation == <!--T:3-->

{{Warning|These instructions are only applicable to Linux kernels with a version less than 4.7.}}

=== Enabling the HPT-RR overlay === <!--T:4-->

<!--T:5-->
The [https://github.com/dsiggi/RocketRAID.git HPT-RR overlay] contains the necessary packages to easily install and configure a RocketRAID card.

<!--T:6-->
The preferred method to enable the overlay is through [[layman]]. Edit {{Path|/etc/layman/layman.cfg}} and add the overlay definition:

<!--T:7-->
{{FileBox|filename=/etc/layman/layman.cfg|title=At the overlay to the config|lang=bash|1=<pre>
...
overlays  :
    https://api.gentoo.org/overlays/repositories.xml
    https://raw.githubusercontent.com/dsiggi/RocketRAID/master/overlays.xml
...
</pre>}}

<!--T:8-->
Next, synchronize the overlays and add the RocketRAID one (which is named ''RocketRAID''):

<!--T:9-->
{{RootCmd
|layman -S
|layman -a RocketRAID
}}

<!--T:10-->
It is of course also possible to clone the repository for a local overlay:

<!--T:11-->
{{RootCmd|git clone https://github.com/dsiggi/RocketRAID.git }}

=== Building and installing the Linux kernel module === <!--T:12-->

<!--T:13-->
Depending on the [[#Supported_cards|hardware card]], enable the right USE flag.

<!--T:15-->
Then, install the [https://github.com/dsiggi/RocketRAID/tree/master/sys-block/rocketraid sys-block/rocketraid] package in order to automatically build and install the right kernel module:

<!--T:16-->
{{Emerge|rocketraid}}

=== Loading the kernel module === <!--T:17-->

<!--T:18-->
Load the newly built kernel module (example for the rr232x module):

<!--T:19-->
{{RootCmd|modprobe rr232x}}

<!--T:20-->
Validate that the hardware has been properly detected by reading through the {{c|dmesg}} output close after loading the module:

<!--T:21-->
{{RootCmd|dmesg|output=<pre>
...
[    2.499913] rr232x: module license 'Proprietary' taints kernel.
[    2.500453] rr232x:RocketRAID 232x controller driver v1.10 (Dec 24 2014 11:50:36)
[    2.500684] rr232x:adapter at PCI 3:4:0, IRQ 16
[    3.073130] rr232x:start channel [0,0]
[    3.073149] rr232x:start channel [0,1]
[    3.073167] rr232x:start channel [0,3]
[    3.424978] rr232x:channel [0,0] started successfully
[    3.785922] rr232x:channel [0,1] started successfully
[    4.156860] rr232x:channel [0,3] started successfully
[    4.498815] scsi host6: rr232x
...
</pre>}}

<!--T:22-->
If the module correctly found the hardware, then make sure that this module is automatically loaded at boot. This can be accomplished by adding it to the {{Path|/etc/conf.d/modules}} file.

=== Installing supporting software === <!--T:23-->

<!--T:24-->
There are a couple of software packages that provide additional support for the RocketRAID cards.

<!--T:25-->
The [https://github.com/dsiggi/RocketRAID/tree/master/sys-block/hptraidconf sys-block/hptraidconf] package provides configuration and monitoring support for the RocketRAID card. It requires a daemon running on the system, provided through the [https://github.com/dsiggi/RocketRAID/tree/master/sys-block/hptsvr sys-block/hptsvr] package. The client itself does not need to be installed on the system that has the RAID card in it.

<!--T:27-->
Deploy the two packages:

<!--T:28-->
{{Emerge|hptsvr}}

<!--T:29-->
{{Emerge|hptraidconf}}

== Configuration == <!--T:30-->

<!--T:31-->
To run the server, add the right hardware module to {{Path|/etc/hptcfg}}:

<!--T:32-->
{{RootCmd|echo "rr232x" > /etc/hptcfg}}

<!--T:33-->
Now start the server:

<!--T:34-->
{{RootCmd|/etc/init.d/hptsvr start}}

<!--T:35-->
To start the server on every system boot, type in:

<!--T:36-->
{{RootCmd|rc-update add hptsvr default}}

== Administration == <!--T:37-->

<!--T:38-->
To administer the RAID card settings, connect to the server using the {{c|hptraidconf}} command.

<!--T:39-->
The default username is '''RAID''' and the default password is '''hpt'''.

<!--T:40-->
{{RootCmd|hptraidconf [-i server:port]|output=<pre>
        HighPoint RAID Management Command Line Utility v3.3
Copyright (C) 2009 HighPoint Technologies, Inc. All rights reserved.
 
Login:RAID
Password:
</pre>}}

<!--T:41-->
After a successful login, a prompt will appear through which the administrative tasks can be executed.

<!--T:42-->
{{RootCmd|prompt=HighPoint CLI> |query arrays 1|output=<pre>
ID:             1                   Name:           Storage             
Type:           RAID5               Status:         NORMAL              
Capacity(GB):   2000.25             BlockSize:      64k                 
SectorSize:     512B                CachePolicy:    WB                  
Progress:       --                  
ID      Capacity    MaxFree     Flag    Statue    ModelNumber
-------------------------------------------------------------------------------
1/1     1000.12     0           NORMAL  RAID      ST1000LM024 HN-M101MBB
1/2     1000.12     0           NORMAL  RAID      ST1000LM024 HN-M101MBB
1/4     1000.12     0           NORMAL  RAID      ST1000LM024 HN-M101MBB
-------------------------------------------------------------------------------
</pre>}}

<!--T:43-->
All supported commands are documented in the [http://www.highpoint-tech.com/BIOS_Driver/GUI/linux/CLL/CLI-Linux-3.5-100701.tgz official documentation (.tgz)].

== Supported cards == <!--T:44-->

</translate>
{| class="table table-condensed table-striped"
! Card
! module
|-
| RocketRAID 1720 
| rr172x
|-
| RocketRAID 1740/1742
| rr174x
|-
| RocketRAID 2210 
| rr2210
|-
| RocketRAID 2220/2224
| rr222x
|-
| RocketRAID 2240
| rr2240
|-
| RocketRAID 2314/2310/2302/2300 
| rr231x
|-
| RocketRAID 2322/2320
| rr232x
|-
| RocketRAID 2340
| rr2340
|-
| RocketRAID 2522
| rr2522
|-
| RocketRAID 2644X4
| rr2644
|-
| RocketRAID 2640X4/2640X1/2642
| rr264x
|-
| RocketRAID 2680/2684
| rr268x
|-
| RocketRAID 620/622
| rr62x
|-
| RocketRAID 640/644
| rr64x
|-
| RocketRAID 640L/644L/644LS/642L
| rr64xl
|}
<translate>

== Special thanks == <!--T:45-->

<!--T:46-->
Special thanks go to ''camper2'' from [http://www.ubuntuforums.org ubuntuforums.org] who wrote the patches for the kernel modules.

</translate>
[[Category:Storage devices]]
