{{WIP}}

dm-crypt is a disk encryption system using the kernels crypto API framework and device mapper. dm-crypt is cappable of encrypting whole disks, logical volumes, single files and RAID volumes.

== Kernel Configuration ==

To use dm-crypt the certain kernel modules must be built such as any hashing functions or stream ciphers that are to be used to encrypt the volume, a file system that is to be applied to the encrypted volume such as ext3, loopback device support and initrd support. For a basic configuration SHA256 and MD5 hashes are generally built into the kernel by default along with the AES cipher, if different alogrithms are required these can be found under the Cryptographic API section of [[Kernel/Configuration|menuconfig]], loop back device support can be found under Device Drivers -> Block Devices, and initrd support is in the General Setup section.

Most of the gentoo install media will have the basic modules built in by default, however more custom modules such as Whirlpool hashes are not included, but can easily be built then loaded. 

== Configuring Encrypted Volume ==

For this example the volume will be  a plain partition (/dev/sda1), with a kernel that has already been configured

* Generate key (optional)
* Fill volume with random bits/shred (optional)
* cryptsetup luksFormat
* cryptsetup open
* mkfs
* mount

== Initrd Options ==

* dracut
* busybox

== References ==

* [http://code.google.com/p/cryptsetup/wiki/DMCrypt]
