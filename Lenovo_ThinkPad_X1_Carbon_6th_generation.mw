These are my notes on getting my Thinkpad X1 Carbon 6th gen working under Gentoo.

If you want EFI to work use [http://www.system-rescue-cd.org/Download/ System Rescue CD] and save yourself a ton of headache.

Overall you should be able to follow everything in the [[Handbook:AMD64/Full/Installation|install guide]] with some minor changes. Note that this is my first install of Gentoo ever so although it's what I had to do to get things working it might not be the best or only way. Note that the following was using EFI and GRUB2 for bootloading.

=== NVMe ===
Your drive if this is your first NVMe drive is located at [[NVMe|/dev/nvme0]] which as far as the install guide goes you can think of as /dev/sda when it comes to partitioning.

In addition to that you will want to build NVMe support into your kernel. You should be able to ensure the following two lines are in your /usr/src/linux/.config file before running 'make && make modules_install'.

[code]
CONFIG_NVME_CORE=y
CONFIG_BLK_DEV_NVME=y
[/code]

In addition to that I had to build an initramfs using `genkernel --install initramfs' although I'm not entirely sure why this was needed. If you know please comment on [https://forums.gentoo.org/viewtopic-t-1080536.html this forum].

=== Wireless ===
Wireless didn't work out of the box for me with just iwlwifi instaled. I had to manually download the following [https://wireless.wiki.kernel.org/_media/en/users/drivers/iwlwifi-8265-ucode-22.361476.0.tgz tar file] extract and copy it into /lib/firmware.

Additionally you might just be able to emerge iwlwifi/linux-firmware but i didn't try this. If someone does and it works please update this wiki so people aren't manually copying around files.
