{{InfoBox stack
|{{InfoBox wikipedia|Radeon#FOSS_drivers|header=true}}
}}
{{DISPLAYTITLE:radaeon}}
''radeon'' is a family of the X.Org graphics drivers for modern ATI Radeon graphics cards. This article details how to configure the kernel and your userspace in order to use the ''radeon'' driver.

=== Kernel ===
You need to activate the following kernel options, note that you don't need to enable ''AGP Support'' if your card doesn't sit in a AGP slot:
{{Kernel|Including radeon driver|<pre>
Processor type and features  --->
	[*] MTRR (Memory Type Range Register) support
Device Drivers  --->
	Graphics support  --->
		<*> /dev/agpgart (AGP Support)  --->
			<*> AMD Opteron/Athlon64 on-CPU GART support
		<*> Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) --->
			<*> ATI Radeon
				[*] Enable modesetting on radeon by default
</pre>}}

===Firmware===
There is IRQ microcode for r6xx/r7xx/Evergreen/Northern Islands Radeon GPUs and APUs. KMS may not work without it. It can be installed with either:
{{Emerge| x11-drivers/radeon-ucode}}
or a larger package which also contains other firmware besides radeon:
{{Emerge| sys-kernel/linux-firmware}}

Make sure firmware for your model (check available ones in <tt>/lib/firmware/radeon</tt>) is included in kernel:
{{Kernel|Including radeon firmware|<pre>
Device Drivers  --->
	-*- Userspace firmware loading support
	[*] Include in-kernel firmware blobs in kernel binary
		(radeon/<YOUR-MODEL>.bin)
		(/lib/firmware) Firmware blobs root directory
</pre>}}

Below is a list of the firmware files needed for each family of cards:
* RadeonHD 2000, 3000, and 4000 series
 radeon/R600_rlc.bin radeon/R700_rlc.bin
* RadeonHD 5000 series
 radeon/CEDAR_me.bin radeon/CEDAR_pfp.bin radeon/CEDAR_rlc.bin
 radeon/CYPRESS_me.bin radeon/CYPRESS_pfp.bin radeon/CYPRESS_rlc.bin
 radeon/JUNIPER_me.bin radeon/JUNIPER_pfp.bin radeon/JUNIPER_rlc.bin
 radeon/REDWOOD_me.bin radeon/REDWOOD_pfp.bin radeon/REDWOOD_rlc.bin
* Radeon HD 6000 APU series (Fusion)
 radeon/PALM_me.bin radeon/PALM_pfp.bin
 radeon/SUMO_me.bin radeon/SUMO_pfp.bin radeon/SUMO_rlc.bin
 radeon/SUMO2_me.bin radeon/SUMO2_pfp.bin
* Radeon HD 6000 series
 radeon/BARTS_mc.bin radeon/BARTS_me.bin radeon/BARTS_pfp.bin
 radeon/BTC_rlc.bin radeon/CAICOS_mc.bin radeon/CAICOS_me.bin
 radeon/CAICOS_pfp.bin radeon/CAYMAN_mc.bin radeon/CAYMAN_me.bin
 radeon/CAYMAN_pfp.bin radeon/CAYMAN_rlc.bin radeon/TURKS_mc.bin
 radeon/TURKS_me.bin radeon/TURKS_pfp.bin

=== Driver ===
{{VIDEO_CARDS|radeon}}

You can force X11 to use desired driver with:
{{VIDEO CARDS/xorg.conf|radeon}}

== Power Management ==
Using the KMS driver, power management can be set in the {{Path|/sys}} filesystem as follows.
* Change the power method:
{{RootCmd|echo "dynpm" > /sys/class/drm/card0/device/power_method}}
The "dynpm" method dynamically changes the clocks based on demand. (not effective as of 27062012)
{{RootCmd|echo "profile" > /sys/class/drm/card0/device/power_method}}
The "profile" method lets you set a profile on how the card should behave.<br>
To check what method is set:
{{RootCmd|cat /sys/class/drm/card0/device/power_method}}
* Change the profile:
{{RootCmd|echo "low" > /sys/class/drm/card0/device/power_profile}}
To check what profile is set:
{{RootCmd|cat /sys/class/drm/card0/device/power_profile}}
Options for profile:
# "default" no change of clock speeds
# "auto" switches between "mid" and "high" power states based on the whether the system is on battery power or not. The "low" power state are selected when the monitors are in the dpms off state.
# "low" forces the GPU to be in the low power state all the time. Note that "low" can cause display problems on some laptops; this is why auto does not use "low" when displays are active.
# "mid" forces the GPU to be in the "mid" power state all the time. The "low" power state is selected when the monitors are in the dpms off state.
# "high" forces the GPU to be in the "high" power state all the time. The "low" power state is selected when the monitors are in the dpms off state.
* Check the current GPU, Memory clocks and voltage (needs to have kernel debugfs enabled):
{{RootCmd|cat /sys/kernel/debug/dri/0/radeon_pm_info}}
{{Note|with more than one monitor connected, the memory clock will always be on full speed}}
{{Note|on APU chipsets, those settings have little to no effect and give inconclusive results}}

== Permissions ==
{{VIDEO CARDS/Permissions}}

== Tuning ==
I couldn't find a summary of all options available so feel free to add to this.
{{Warning|There are several options to tweak the radeon driver and some of these might break your desktop, so if you are uncomfortable with the console better stick to default.}}
{| class="wikitable"
|-
! Parameter
! Application
! Effect
|-
| radeon.pcie_gen2=1
| kernel commandline
| Run at PCI-E 2.0 speeds per default
|-
| radeon.audio=1
| kernel commandline
| Enable HDMI audio on some cards
|-
| R600_STREAMOUT=1
| Environment variable
| Enable the use of OpenGL 3.0/4.2 on some cards (not yet enabled 01/07/2012)[https://bugs.freedesktop.org/show_bug.cgi?id=49309]
|-
| R600_HYPERZ=1
| Environment variable
| Enable the use Hyper-Z on some cards
|-
| R600_TILING=1
| Environment variable
| Enable 2D Tiling on some cards (also needs the xorg.conf parameter set)
|-
| R600_SURF=1
| Environment variable
| Enable 2D Tiling on some cards (also needs the xorg.conf parameter set)
|-
| R600_GLSL130=1
| Environment variable
| Enable more features of the OpenGL 3.0 API
|-
| ColorTiling2D True
| xorg.conf parameter
| Enable 2D Color Tiling in conjunction with R600_TILING=1 and R600_SURF=1
|}
* Kernel parameters can be just added to the kernel commandline in ''grub.cfg'' or ''grub.conf''
* Environment variables could be put into a file like ''/etc/env.d/99radeon'' to have them initialized during boot
* xorg.conf parameter are usual in the ''Device'' section for the card
* a full list of kernel parameters can be found here: [http://wiki.x.org/wiki/RadeonFeature#Linux_kernel_parameters - RadeonFeature]
* S3TC compression needed for some applications like most 3D games: {{Emerge|media-libs/libtxc_dxtn}}

== Troubleshooting ==
* {{Bug|xf86-video-ati|search=package}}
* {{Bug|xf86-video-ati|site=fdo|search=package}}

== Links ==
* [http://wiki.x.org/wiki/radeon X.Org Wiki - radeon]
* [http://wiki.x.org/wiki/radeonhd X.Org Wiki - radeonhd] (old driver project, deprecated in favour of 'radeon')
* [http://en.gentoo-wiki.com/wiki/Radeon en.gentoo-wiki.com article]

[[Category:Graphics Adapters]]
