{{InfoBox stack
|{{InfoBox homepage|http://www.avahi.org/|header=true}}
|{{InfoBox wikipedia|Avahi_(software)}}
}}

'''avahi''' is [[Article description::a zeroconf service discovery and publishing program.]] A common use for it is to be able to connect to machines via <code>yourhostname.local</code> within your LAN.

== Installation ==

=== Kernel ===

{{KernelBox|title=Required options|1=
Networking support  --->
   Networking options  --->
     [*]   IP: multicasting
}}

=== Server ===

{{Emerge|net-dns/avahi}}

=== Client ===

{{Emerge|sys-auth/nss-mdns}}

== Configuration ==

=== Server Services ===

==== systemd ====

Enable the server to start whenever {{c|systemd}} thinks it is appropriate:

{{RootCmd|systemctl enable avahi-daemon.service}}

If you want to use it right away, also start the service:

{{RootCmd|systemctl start avahi-daemon.service}}

==== OpenRC ====

Be sure to add the service to the default runlevel for the server daemon to start on system boot. Do so with the {{c|rc-update}} command:

{{RootCmd|rc-update add avahi-daemon default}}

Start the service (without restarting) with the {{c|rc-service}} command:

{{RootCmd|rc-service avahi-daemon start}}

=== Client Files ===
Add the appropriate mdns into the hosts line in {{Path|/etc/nsswitch.conf}}, An example line looks like:

{{FileBox|filename=/etc/nsswitch.conf|1=
hosts:       files mdns_minimal [NOTFOUND=return] dns mdns
}}

Once this is installed it should be possible to ping the hostname of the machine appending <code>.local</code>. For example: 

{{RootCmd|ping hostname.local}}

[[Category:Daemons]]
