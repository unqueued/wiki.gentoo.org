<languages />
<translate>
{{Confused|NFS}}{{InfoBox stack
|{{InfoBox wikipedia|text=NTFS|header=true}}
|{{InfoBox wikipedia|NTFS-3G|text=NTFS-3G}}
|{{InfoBox odoc|https://www.tuxera.com/community/ntfs-3g-manual/}}
}}

'''NTFS''' ('''N'''ew '''T'''echnology '''F'''ile '''S'''ystem) is a proprietary disk [[filesystem]] by Microsoft for Windows and Windows-based operating systems.

There are two primary methods to achieve NTFS support when using Linux. The kernel itself includes limited write support for the NTFS filesystem. This can be seen in the [[#Native support|native support]] section below. There is also a FUSE filesystem driver called NTFS-3G that includes better write support. Because of this, most users who need NTFS support opt for the FUSE implementation over the rather limited built-in support.

== Installation ==

=== Kernel ===

Be aware: as of November, 2017, the mainlined NTFS kernel driver ''has very limited functional support for NTFS''. The kernel configuration information defines support as "partial, but safe". This driver can overwrite existing files but is not capable of file or directory creation, deletion, or renaming.<ref>https://cateee.net/lkddb/web-lkddb/NTFS_RW.html</ref> Most NTFS users will want to to enable the FUSE powered version.

==== Native support ====

{{KernelBox|title=Enabling built-in NTFS (limited write support) via CONFIG_NTFS_RW|1=
File systems  --->
    DOS/FAT/NT Filesystems  --->
        <*> NTFS file system support
        <*>   NTFS write support
}}

==== FUSE support (NTFS-3G) ====

The following kernel options must be enabled for NTFS read/write capabilities over FUSE in Linux:

{{KernelBox|title=Enabling NTFS over FUSE using NTFS-3G|1=
File systems  --->
    <*> FUSE (Filesystem in Userspace) support
}}

The {{Package|sys-fs/ntfs3g}} package is also required (see the [[#emerge|emerge section]] below).

=== USE flags ===

Because NTFS-3G is a FUSE-based filesystem, it requires user space utilities. It is currently the best implementation of NTFS for Linux and the only FUSE-based implementation available in the main Gentoo repository.

{{USEflag|package=sys-fs/ntfs3g}}

=== Emerge ===

After reviewing USE flags and making adjustments as necessary, install the FUSE user space tools in order to manipulate NTFS filesystems:

{{Emerge|sys-fs/ntfs3g}}

== Usage ==

=== Creation ===

{{Warning|The {{c|mkfs.ntfs}} command irreversibly destroys the contents of the partition it is told to format. Be sure to select the right partition before running this command!}}

To create an NTFS filesystem on the {{Path|/dev/sda1}} partition (needs <code>ntfsprogs</code> USE flag):

{{RootCmd|mkfs.ntfs /dev/sdyX}}

Please replace {{Path|/dev/sdyX}} with the actual partition you want to format.

=== Mount ===

There are several ways to mount a NTFS filesystem:

* [[mount]] - Manual mounting.
* [[fstab]] - Automatic mount at boot time.
* [[removable media]] - Automatic mount at demand.
* [[AutoFS]] - Automatic mount on access.

== See also ==

* [[FAT]] - File Allocation Table filesystem. Originally created for Microsoft Windows.
* [[ext4]] - Extended file system version 4. 
* [[Btrfs]] - A copy-on-write B-tree filesystem with advanced features.
* [[tmpfs]] - A filesystem that lives in dynamic memory (RAM).

== External resources ==

* [https://technet.microsoft.com/en-us/library/cc758691%28v=ws.10%29.aspx NTFS at Microsoft's TechNet]

</translate>
[[Category:Filesystems]]
