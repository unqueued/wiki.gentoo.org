<languages />


{{Metadata|abstract=LILO - это простой загрузчик для загрузки Linux и других операционных систем.}}

{{InfoBox stack
|{{InfoBox homepage|http://lilo.alioth.debian.org/|header=true}}
|{{InfoBox wikipedia|LILO_(boot_loader)}}
}}

'''LILO (Linux Loader)''' - это простой загрузчик для загрузки Linux и других операционных систем.

== Установка ==

Установка LILO состоит из двух стадий. Первой является установка самого программного обеспечения на систему (но не активация LILO), второй является установка (активация) загрузчика LILO на главную загрузочную запись диска.

=== USE-флаги ===

{{USEflag
|package=sys-boot/lilo
|static
|minimal
|pxeserial
|device-mapper
}}

=== Установка ===

Установка программного обеспечения только установит программу на файловую систему, но не установит LILO на главную загрузочную запись (MBR).

{{emerge|lilo}}

=== Установка LILO на MBR ===

Чтобы установить LILO на MBR или обновить LILO, просто вызовите <code>lilo</code>. Но перед тем как это сделать, необходимо настроить файл {{Path|/etc/lilo.conf}}, что описано далее.

{{RootCmd|lilo}}

== Конфигурация LILO ==

Пример файла {{Path|lilo.conf}} предусмотрен в файле {{Path|/etc/lilo.conf.example}}. Для того, чтобы начать конфигурацию LILO, скопируйте файл с примером. 

{{RootCmd|cp /etc/lilo.conf.example /etc/lilo.conf}}

Также обновите файл {{Path|/etc/lilo.conf}}.

=== Основные настройки LILO ===

Сначала настройте LILO для установки на систему. Параметр <code>boot</code> указывает LILO куда должен быть установлен загрузчик LILO. Обычно, это блочное устройство, которое представляет первый диск (диск с которого загружается система), например {{Path|/dev/sda}}. Необходимо помнить что файл {{Path|lilo.conf.example}} все еще использует {{Path|/dev/hda}}, поэтому убедитесь что ссылки на {{Path|/dev/hda}} заменены на {{Path|/dev/sda}}.

{{File|/etc/lilo.conf|Определение места установки LILO|<pre>
boot = /dev/sda
map = /boot/.map
</pre>}}

Затем, сообщите LILO что нужно загружать по умолчанию (если пользователь не выбрал каких-либо элементов загрузочного меню). Используемое здесь имя является значением <code>label</code> из блоков с операционной системой, определенных далее в этом файле.

{{File|/etc/lilo.conf|Загрузка блока, помеченного как Gentoo по умолчанию|<pre>
default = Gentoo
</pre>}}

Доступные параметры показываются LILO в течение некоторого времени перед продолжением загрузки выбранной операционной системы по умолчанию. Время ожидания определено параметром <code>timeout</code> и измеряется десятыми долями секунды (отсюда следует, что значение 10 является одной секундой):

{{File|/etc/lilo.conf|Установка пятисекундного интервала перед продолжением загрузки операционной системы по умолчанию|<pre>
timeout = 50
</pre>}}

=== Конфигурация блока с операционной системой Gentoo ===

Пример блока конфигурации для Gentoo приведен ниже. В него передается метка "Gentoo" для соответствия параметру <code>default</code>, объявленному ранее.

{{File|/etc/lilo.conf|Пример конфигурации для Gentoo Linux в lilo.conf|<pre>
image = /boot/kernel-3.11.2-gentoo
  label = Gentoo
  read-only
  root = /dev/sda4
</pre>}}

Будет загружено ядро Linux {{Path|/boot/kernel-3.11.2-gentoo}} с корневой файловой системой {{Path|/dev/sda4}}.

=== Добавление параметров ядра ===

Для добавления параметров ядра к блоку OS, используйте параметр <code>append</code>. Например, чтобы загрузить ядро Linux без вывода критических сообщений:

{{File|/etc/lilo.conf|Демонстрация использования параметра append со значением quiet|<pre>
image = /boot/kernel-3.11.2-gentoo
	label = Gentoo
	read-only
	root = /dev/sda4
	append = "quiet"
</pre>}}

[[Systemd|systemd]] users for instance would want to set <code>init=/usr/lib/systemd/systemd</code> so that the systemd init is used:

{{File|/etc/lilo.conf|Using systemd with LILO|<pre>
	append = "quiet init=/usr/lib/systemd/systemd"
</pre>}}

As can be seen, additional kernel parameters are just appended to the same <code>append</code> parameter.

=== Multiple block definitions ===

It is a good idea to keep old definitions available in case the new kernel doesn't boot successfully. This is accomplished by creating another block:

{{File|/etc/lilo.conf|Defining a second OS block|<pre>
image = /boot/kernel-3.9.2-gentoo
        root = /dev/sda4
        label = OldGentoo
        read-only
</pre>}}

== Updating LILO in the MBR ==

As mentioned earlier, <code>lilo</code> has to be executed in order to install LILO in the MBR. This step has to be repeated every time {{Path|/etc/lilo.conf}} is modified or when the Linux kernel(s) that the {{Path|/etc/lilo.conf}} file points to are updated!

{{RootCmd|lilo}}

Running <code>lilo</code> too much doesn't hurt.


[[Category:Bootloaders]]
