{{Lowercase title}}

{{Stub}}
''ddrescue'' is a tool provided by GNU to retrieve data from failing (block) storage devices like hard disk drives, cdrom or memory sticks etc. It uses a similar technique as ''dd'' and copies block by block, but has an itelligent algorithm to recover failed data.

== Installation ==
You can install {{Package|sys-fs/ddrescue}} using the following command:
{{Emerge|sys-fs/ddrescue}}

== Usage ==
General usage of ''ddrescue'' to recover data

=== Disk to Image ===
In this scenario the hard disk drive {{Path|/dev/sdb}} is about to fail and we want to create a copy of it in form of an image.
* First round, we just copy every block without read error and log the errors into {{Path|/root/rescue.log}}
{{Note|this takes at least as much disk space as the size of the failing hard disk drive}}
{{RootCmd|ddrescue -f -n /dev/sdb /root/sdb_rescue.img /root/rescue.log}}
* Second round, we copy only the bad blocks and try 3 times to read from source before we give up
{{RootCmd|ddrescue -d -f -r3 /dev/sdb /root/sdb_rescue.img /root/rescue.log}}
* Now the image could be mounted as loop device and the file system checked for corruption

=== Disk to Disk ===
In this scenario the hard disk drive {{Path|/dev/sdb}} is about to fail and we want to create a copy of it on out new hard disk drive {{Path|/dev/sdc}}.
* First round, we just copy every block without read error and log the errors into {{Path|/root/rescue.log}}
{{Warning|all data on {{Path|/dev/sdc}} will be lost and also are the partitions or partition table, if any}}
{{RootCmd|ddrescue -f -n /dev/sdb /dev/sdc /root/rescue.log}}
* Second round, we copy only the bad blocks and try 3 times to read from source before we give up
{{RootCmd|ddrescue -d -f -r3 /dev/sdb /root/sdb_rescue.img /root/rescue.log}}
* Now the new drive could be mounted and the file system checked for corruption

== External resources ==
* [http://www.gnu.org/software/ddrescue/ddrescue.html gnu.org homepage]

[[Category:Software]]
