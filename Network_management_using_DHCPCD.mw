<languages />
<translate>
This article is about using OpenRC with [[Dhcpcd|DHCPCD]] as network manager. It is based on a posting in Gentoo Forums.<ref>[https://forums.gentoo.org/viewtopic-t-965190.html Forum thread TIP: Complete network stack without net.* scripts]</ref>

== Setup ==
Have [[Dhcpcd|dhcpcd]] installed, then add it to the default runlevel and start the service:

{{RootCmd
|rc-update add dhcpcd default
|/etc/init.d/dhcpcd start
}}
<!--
All its configuration goes into {{Path|/etc/dhcpcd.conf}} but for most installations nothing needs to be done there, presumed that most computers nowadays are behind a router or access point providing DHCP. Though <kbd>man 5 dhcpcd.conf</kbd><ref name=manpage>http://roy.marples.name/man/html5/dhcpcd.conf.html</ref> will be helpful in case of advanced configuration demand. -->

== Wireless ==
Dhcpcd comes with a built-in hook for wpa_supplicant, so it is best choice to install this for wireless.  After [[Wpa_supplicant#Emerge|installation of wpa_supplicant]] restart dhcpcd:
{{RootCmd|/etc/init.d/dhcpcd restart}}{{Important|Don't add wpa_supplicant to any runlevel.}}
For any questions or problems with [[Wpa_supplicant#Configuration|wpa_supplicant]] see the reference.<ref>[http://hostap.epitest.fi/wpa_supplicant/ wpa_supplicant homepage]</ref> or [[Handbook:Parts/Networking/Wireless|the handbook]].

== Static IP address ==
In case the network interface card should be configured with a static IP address, type it into the [[Network_management_using_DHCPCD/Dhcpcd-ui#Usage|Graphical User interface]].  Without the [[Network_management_using_DHCPCD/Dhcpcd-ui#Usage|Graphical User interface]], entries can also be manually added as described in [[Dhcpcd#Static_IP_address]] to {{Path|/etc/dhcpcd.conf}}.<ref name=manpage>http://roy.marples.name/man/html5/dhcpcd.conf.html</ref>

== Migration from Gentoo net.* scripts ==
In case of migration from [[netifrc|Gentoo net.* scripts]] it's essential to remove wpa_supplicant and the net.* scripts from the runlevels.
{{Cmd|rc-config list <nowiki>| grep 'wpa_supplicant\|dhcpcd\|net.'</nowiki>|output=<pre>
  net.wlp8s0                default
  dhcpcd                    default
  wpa_supplicant</pre>}}
Any lines starting with "net." must not have a runlevel assigned.  In this example, it's net.wlp8s0 to be removed.
{{RootCmd|rc-update del net.wlp8s0
|/etc/init.d/wlp8s0 stop}}

Once the network setup works well you might want to completely remove the old Gentoo net.* scripts setup.  So disable the netifrc useflag, re-emerge OpenRC without and unmerge netifrc:
{{RootCmd|echo 'sys-apps/openrc -netifrc' >> /etc/portage/package.use
|emerge --ask --newuse --oneshot sys-apps/openrc
|emerge -C net-misc/netifrc}}

Also the old config files and symlinks can be removed
{{RootCmd|rm /etc/conf.d/net
|rm /etc/init.d/net.*}}

== Network dependent services ==
{{:Network_management_using_DHCPCD/Network dependant services}}

== [[Network_management_using_DHCPCD/Dhcpcd-ui|Graphical User interface]] ==

== [[Network_management_using_DHCPCD/Testing|Testing]] ==

== References ==
{{reflist}}

[[Category:Network_management]][[Category:Knowledge_Base]]
</translate>
