{{InfoBox stack
|{{InfoBox wikipedia|Apple_Keyboard|header=true}}
}}

__TOC__

== Kernel ==

{{Important|When using Linux 4.0 or lower, the Apple HID driver is enabled by default as a built-in module, and is only visible when the kernel is configured in expert mode. When using Linux 4.1 or higher, the Apple HID driver needs to be explicitly enabled.}}

{{KernelBox|
    Device Drivers --->
          HID support --->
                  Special HID drivers --->
                    <*> Apple {i,Power,Mac}Books
}}

== Configuration ==

The behavior of the function keys ({{Key|F1}}-{{Key|F12}}) defaults to their special functions (screen brightness, volume control, etc.). To change the behavior of the function keys to their traditional functions ({{Key|F5}} - page refresh, {{Key|F11}} - full screen, etc.), set the {{Key|fn}} key mode to function keys first:
{{RootCmd|echo 2 > /sys/module/hid_apple/parameters/fnmode}}

When using a non-English layout, the {{Key|<}} and {{Key|>}} keys may be mapped to the {{Key|^}} and {{Key|Â°}} keys. To correct this, disable the hard-coded ISO layout of the keyboard:
{{RootCmd|echo 0 > /sys/module/hid_apple/parameters/iso_layout}}

If <code>CONFIG_HID_APPLE</code> is built into the kernel, create the following [[local.d]] script to have the module parameters set at boot:
{{FileBox|filename=/etc/local.d/hid_apple.start|lang=bash|1=
#!/bin/sh

# set fn key mode to function keys first
echo 2 > /sys/module/hid_apple/parameters/fnmode

# disable iso layout
echo 0 > /sys/module/hid_apple/parameters/iso_layout
}}
Set the local.d script as executable:
{{RootCmd|chmod +x /etc/local.d/hid_apple.start}}

If <code>CONFIG_HID_APPLE</code> is built as a module, add the following to {{Path|/etc/conf.d/modules}} to have the module parameters set at boot:
{{FileBox|filename=/etc/conf.d/modules|1=
module_hid_apple_args="fnmode=2 iso_layout=0"
}}

== External resources ==

* [https://help.ubuntu.com/community/AppleKeyboard Ubuntu - Apple Keyboard]
* [https://wiki.archlinux.org/index.php/Apple_Keyboard Arch Linux - Apple Keyboard]

[[Category:Input_devices]]
