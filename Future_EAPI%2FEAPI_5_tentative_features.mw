This is a working page that contains references to all features that have been suggested for EAPI 5.

== Features where a wording of the spec and a Portage implementation are ready ==

* Slot operator dependencies
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=f9f7729c047300e1924ad768a49c660e12c2f906 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;f=pym/portage/eapi.py;h=e4ba8f36e6a4624f4fec61c7ce8bed0e3bd2fa01 Portage patch]
*: {{Bug|229521}}

* Sub-slots
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=5d6749ac9e5ddc5b1daaad7737b65fa81c6ece47 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;f=pym/portage/eapi.py;h=e4ba8f36e6a4624f4fec61c7ce8bed0e3bd2fa01 Portage patch]
*: {{Bug|424429}}

* Profile IUSE injection
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=d9040ab3482af5f790368bac5d053bf1cd760ba8 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=f76b983e95d022d6f377e3efd599dd8efbd30b3d Portage patch]
*: {{Bug|176467}}

* <span id="disable-silent-rules">econf --disable-silent-rules</span>
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=b7750e67b4772c1064543defb7df6a556f09807b PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=7d7387b34fdfb6ac8e736ca4e73f1e3f8fa1a705 Portage patch]
*: {{Bug|379497}}

* At-most-one-of operator for REQUIRED_USE
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=1c2dff2df2305aff88a734e3a2716de1bb69f3b6 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=ac843c3df2210566b559dc57c5fb657e20933a58 Portage patch]
*: {{Bug|354219}}

* EBUILD_PHASE_FUNC variable
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=76ddca560da42fd968c53a2a0c38a6ac840a7ad4 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=cbd3ea6cad4d7ef8103ddbb71245c1ea47fa49ed Portage patch]
*: {{Bug|390765}}

* Mandate GNU find
*: PMS wording [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=472690942e14f63f1b1f3a5681976a59539ea3f8] [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=6a95dae3fa6b8a6307f5d02c09dc550f1fbe97f2] [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=421f2b9ae05999d621eb663f263ca93eaad0ae57], no Portage patch needed
*: {{Bug|384157}}

* new* commands can read from standard input
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=4939df8586c7b17b03d8627a8371c988f4445a26 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=ffe2a5b5f70be05565b5a3038637805319088743 Portage patch]
*: {{Bug|263565}}

* Parsing of the EAPI assignment is mandatory
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=91d1e1e39b034bde7e5b981a5616a127135f37fa PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=5e28fe97e67ab4f3e2d8410a8704156b6bb08555 Portage patch]
*: {{Bug|402167}}

* src_test support for parallel tests
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=3ec4b3c22582a8ec206bce1e93bab377d7b264b5 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=9f14ed80e65a18da06e0834961ea032e3e830319 Portage patch]
*: {{Bug|363005}}

* Stable use forcing and masking
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=2921080e5b4f67ae55d2f80f8fea2b8d47ced831 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=ebf5d1a64a4a40a0efeba3b038122eef375ace94 Portage patch]
*: {{Bug|431078}}

* Option --host-root for {has,best}_version
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=25fb5fca6674215ea8aaa3d0ec3dd3df451eec07 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=bcf4ab871ededc3d535165757ba5597669e33dcb Portage patch]
*: {{Bug|401239}}

* doheader helper function
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=fe5cf5e91299156dc74338c897d9a7bfb8883f5a PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=e7e4c3720582a7ab938266e50e53d162f5248488 Portage patch]
*: {{Bug|21310}}

* usex helper function
*: [http://article.gmane.org/gmane.linux.gentoo.pms/626 prelininary PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=b9e2daded3663c59bf11b04e952bdfb4eb5deabf Portage patch]
*: {{Bug|382963}}

== Things where additional discussion may be needed ==

* econf --disable-silent-rules ([[#disable-silent-rules|see above]])
** Apply retroactively to EAPI 4?
** Apply retroactively to all EAPIs?

* User patches
*: [http://git.overlays.gentoo.org/gitweb/?p=proj/pms.git;a=commit;h=a8bf7862967cce36b7f1b408934a774126da2538 PMS wording], [http://git.overlays.gentoo.org/gitweb/?p=proj/portage.git;a=commit;h=6b4b621f1abcf21d3bfa54b323126a3ef11eb52c Portage no-op dummy stub]
** Intrusive.
** Current wording of the spec requires that every ebuild includes a call to the apply_user_patches function in src_prepare. An alternative would be to apply user patches after src_prepare as a default, if the ebuild doesn't call the respective function.
** The spec doesn't provide any kind of epatch function, so we will end up having two copies of epatch, one for user patches, and the other (from eclass) for ebuilds.
** Are we happy with the name apply_user_patches? (epatch_user? euserpatch?)

* License groups in ebuilds
*: {{Bug|287192}}
** A simpler solution would be create separate license files like GPL-2+ for the few cases where this is needed. This would have the advantage that it could be applied to all EAPIs.

* EJOBS variable
*: [http://archives.gentoo.org/gentoo-dev/msg_750e33f68b16d971dff1f40dd9145e56.xml]
** Discussion was almost 4 years ago. Is there (still) consensus?

* Source eclasses only once
*: {{Bug|422533}}
*: [http://marc.info/?l=gentoo-dev&m=134493783816587&w=2]

* Extended default list of extensions in dohtml
*: {{Bug|423245}}
** Objections against inclusion of non-standard extensions like .ico have been raised.

* REPOSITORY variable
*: {{Bug|414813}}
** Controversial, see bug.

* Repository dependencies
*: {{Bug|414815}}
** Controversial, see bug.

== Not sure if the following are candidates for EAPI 5 ==

* Cross-compile support
*: [http://archives.gentoo.org/gentoo-project/msg_b1e2b88bbeb667a3fa834c99a1981fbe.xml]

* package.mask, use.force, use.mask, package.use, package.use.force and package.use.mask directories
*: {{Bug|282296}}
** Need profiles EAPI bump

* make.defaults, use.force, use.mask, package.use, package.use.force and package.use.mask in ${repository_path}/profiles
*: {{Bug|414817}}
** Need profiles EAPI bump
