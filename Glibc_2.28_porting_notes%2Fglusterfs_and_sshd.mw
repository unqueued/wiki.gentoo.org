The usual {{Package|sys-libs/glibc}} upgrade procedure is to update @world, then use {{Package|app-admin/restart-services}} to restart daemons with changed libraries (most after a glibc update) and then a reboot (does not have to follow immediately). Since my distfiles are on glusterfs, an umount/mount is needed after the glibc update to reload libraries.

{{RootCmd|emerge -uDNva1 @world|umount /usr/portage/distfiles|mount /usr/portage/distfiles|restart-services}}
Prepare for the reboot, update kernel if necessary...
{{RootCmd|reboot}}


With glibc 2.28 this caused sshd crashes on several machines. Even the umount /usr/portage/distfiles command terminated my ssh connection. It's probably a good idea to have app-admin/monit installed to automatically restart sshd after a crash.

Because of that, this procedure seems to work better for glibc 2.28:
{{RootCmd|emerge -uDNva1 @world --exclude sys-libs/glibc}}
Prepare everything for the reboot, including kernel update if necessary
{{RootCmd|emerge -av1 sys-libs/glibc|reboot}}
