{{InfoBox stack
|{{InfoBox homepage|https://www.khronos.org/vulkan/|header=true}}
|{{InfoBox wikipedia|Vulkan_(API)}}
}}

Vulkan is [[Article description::a next-generation graphics API created by The Khronos Group.]] Its focus is to provide 3D graphics cross-platforms in a code once run anywhere fashion.

For Vulkan support, Gentoo has a basic package {{Package|media-libs/vulkan-loader}} which provides the {{Path|libvulkan.so.1}} shared object file.

== USE flags ==
For '''media-libs/vulkan-loader''':
{{USEflag|package=media-libs/vulkan-loader}}

For '''media-libs/mesa''':
{{USEflag|package=media-libs/mesa}}

== Installation ==
To enable vulkan functionality on supported AMD/ATI GPU it's required to:
# emerge media-libs/vulkan-loader OR/AND media-libs/mesa
# sys-kernel/linux-firmware
# kernel configuration
# USE flag 
# VIDEO_CARDS flag.

=== ATI (Legacy) ===
{{stub}}
To compile the open source Vulkan drivers the <code>vulkan</code> USE flag must be enabled for {{Package|media-libs/mesa}}. The following list shows the Vulkan supported GPU drivers in Mesa:

{| class="table table-striped table-condensed"
|-
! Driver !! Vulkan support?
|-
| radeon/r600 || {{No|No}}
|-
| radeonsi || {{Yes|via radv}} 
|-
| i915 || {{No|No}}
|-
| i965 || {{Yes|via anvil, see [[Intel]] for details}}
|-
| nouveau || {{No|No}}
|-
|}

// Kernel configuration?

// What are supported ATI GPUS?

// wth is radv

// wth is anvil

=== AMDGPU ===
{{stub}}
To enable vulkan functionality on supported AMD/ATI GPU it's required to emerge media-libs/vulkan-loader OR/AND media-libs/mesa and linux-firmware with kernel configuration, USE flag and VIDEO_CARDS flag.

in <code>/usr/src/linux/.config</code> set <code>CONFIG_DRM_AMDGPU</code> on <code>m</code>. 

Add <code>USE="vulkan"</code> <u>AND</u> <code>VIDEO_CARDS="amdgpu radeonsi"</code> to /etc/portage/make.conf.

Add <code>media-libs/vulkan-loader layers</code> to <code>/etc/portage/package.use/custom</code> if required.

Emerge required packages.
{{emerge|media-libs/vulkan-loader sys-kernel/linux-firmware}}

// What are supported AMD/ATI GPU?

== Alternatives ==

The following alternative, closed-source drivers exist. These also provide Vulkan support:

* {{See also|AMDGPU-PRO}}
* {{See also|NVidia/nvidia-drivers}}

You can check the [https://vulkan.gpuinfo.org/ (unofficial) Vulkan hardware database] for a list of detailed GPU hardware capabilities for Vulkan.

== Verifying functionality with vulkan toys ==
{{stub}}
Add <code>dev-util/vulkan-tools vulkan-info</code> to {{path|/etc/portage/package.use/custom}} and emerge vulkan-tools:

{{RootCmd| emerge dev-util/vulkan-tools}}

example of working vulkan on gentoo: ...dammit gentoo 

// Add working example

// {{emerge|package= didnt work..

== Troubleshooting ==

=== Vulkan doesn't work on user and has issues in applications ===
{{stub}}

Ask on #gentoo, get laugh at for using vulkaninfo "toy".. '''TRIGGERED'''

Change {{path|/usr/src/linux/.config}} on <code>CONFIG_DRM_AMDGPU=m</code> instead of <code>CONFIG_DRM_AMDGPU=y</code>. if <code>y</code> is set then vulkan-loader has issues with functionality on user and wierd glitches in applications.

Fix above was temporary!

Change subject back to vulkan functionality even if dev switch it on vulkan-tools and closed it.. wtf gentoo

'''POSSIBLE SOLUTION:''' Invoking `sudo chmod 666 /dev/dri/renderD128` solved the issue on 4.14.65-gentoo and 4.18.9-gentoo running AMD Radeon 7870.

==== Vulkan - Three Days Kreys ====

Broken again on RADEON, invoking `sudo chmod 666 /dev/dri/renderD128` is not working, none on forum knows https://forums.gentoo.org/viewtopic-t-1087336.html or IRC knows anything about it,... 

''VULKAAAN!!.. is not working again... ''<br />
''VULKAAAN i can't get enough.. ''<br />
''VULKAAAAN like a rock... ''<br />
''cuz i rather play on VULKAN then nothing at allll...''<br />
<br />
''I'm sick of feeling numb... ''<br />
''I'm not the only one!''<br />
''None take me by the hand and show me a fix that i can understaaaandd,.. ''<br />
''This life is filled with hurt..''<br />
''When games doesn't work.!''<br />
''Trust me and confim the bug again''<br />
''When the errs goes out you will understand..''<br />
<br />
''VULKAAAN!!.. is not working again... ''<br />
''VULKAAAN i can't get enough.. ''<br />
''VULKAAAAN like a rock... ''<br />
''cuz i rather play on VULKAN then nothing at allll...''<br />

.. don't ban me maff-sensei

-- [[User:Kreyren|Kreyren]] ([[User talk:Kreyren|talk]]) 09:38, 15 October 2018 (UTC)

== See also ==

* {{See also|Mesa}}
