<languages />

Эта статья содержит информацию, призванную помочь пользователям в устранении неполадок, которые могут возникнуть при работе с KDE.

== Запуск программ с графическим интерфейсом с привилегиями пользователя root, находясь в системе в качестве другого пользователя ==

{{Warning|В целом, запуск программ с графическим интерфейсом с привилегиями пользователя root — ''плохая'' идея. Используйте <tt>kdesu</tt> только тогда, когда это абсолютно необходимо.}}

В KDE, как и в других средах рабочего стола, существует специальная команда для запуска программ с графическим интерфейсом с привилегиями пользователя root. В KDE это команда <tt>kdesu</tt>. Ее можно использовать следующим образом:

{{Cmd|kdesu <программа>}}

Не забудьте заменить <code><программу></code> именем программы. Должно появиться всплывающее окно с текстовым полем для ввода пароля пользователя root. Введите пароль и — ура!

== Как избавиться от всплывающего окна KResource Migration Tool ==

Некоторые пользователи сообщают о появлении всплывающего окна KResource Migration Tool при каждом входе в систему. Эта проблема пока не имеет адекватного решения, однако существует способ ее обойти: {{Bug|353200}}.

== Пересборка базы данных приложений ==

Если какое-либо приложение или целый список приложений отсутствует в KMenu, скорее всего, нужно пересобрать базу данных приложений KDE. Это также является возможным решением прочих проблем с KMenu, например, проблемы отсутствующих значков.

{{Cmd|kbuildsycoca4 --noincremental}}

== Akonadi выражает недовольство по поводу MySQL config ==

Проверьте права доступа в каталогах {{Path|/usr/share/config}} и {{Path|/usr/share/kde4}}. Если они установлены в 700, рекурсивно измените их на 755.

{{RootCmd
|chmod -R 755 /usr/share/config
|chmod -R 755 /usr/share/kde4
}}

Если это не решит проблему, откройте конфигурацию akonadi и измените MySQL config по умолчанию. Если значок в области уведомлений отсутствует, запустите akonaditray, выберите "Akonadi Server Configuration", включите "Use internal MySQL server" и нажмите на кнопку test. Для того, чтобы использовать MySQL server вместо встроенного исполняемого файла, MySQL должен быть запущен.

== KDM не запускается ==

Проверьте права доступа в каталоге {{Path|/usr/share/config}}. Если они установлены в ''700'', измените их на ''755''. Прочитайте предыдущий раздел. 

If that doesn't solve the error, check if KDM fails to start with a message like:

{{CodeBox|title=Error message for KDM in /var/log/messages|1=
gentoo kdm[2116]: X server startup timeout, terminating
}}

If that is the case, uncomment the <var>ServerTimeout</var> line in the {{Path|kdmrc}} file, which can be located on the system as follows:

{{RootCmd|grep kdmrc /var/db/pkg/kde-base/kdm-4.3.1/CONTENTS {{!}} cut -f2 -d " "}}

Be sure to increase the timeout - 60 should work.

Also be sure that the following services are started:

{{RootCmd
|/etc/init.d/dbus status
|/etc/init.d/consolekit status
}}

If not, enable them by replacing ''status'' with ''start'', and use {{c|rc-update}} for every one of them to add them to default runlevel:

{{RootCmd
|rc-update add dbus default
|rc-update add consolekit default
}}

Finally, KDM could fail due to errors in [[xorg.conf]]. Take a look in the {{Path|/var/log/Xorg.0.log}} and {{Path|/var/log/kdm.log}} logs and fix {{Path|xorg.conf}} accordingly. For additional help, reach out to the Gentoo KDE team on IRC at {{IRC|gentoo-kde}} on Freenode.

== The battery applet or solid notifications don't show the relevant info ==

Make sure to have D-Bus and ConsoleKit running so that the battery applet or other solid notifications can show the relevant info:

{{RootCmd
|/etc/init.d/dbus status
|/etc/init.d/consolekit status
}}

If not, enable them by replacing ''status'' with ''start'', and use the {{c|rc-update}} command for every one of them to add them to default runlevel:

{{RootCmd
|rc-update add dbus default
|rc-update add consolekit default
}}

== Double-hibernate or crashes after hibernate ==

KDE 4.6 handles "sleep button" events on its own, and the system correctly hibernates. Disable any other program that would handle these events (such as {{c|acpid}}) as this might lead to double hibernation and/or system instability.

See also {{Bug|363363}}.

== Shutdown, reboot, logout does not work ==

There is some strange interaction between the sound system and the logout mechanism going on. Open the system settings, and disable the "logout sound". Afterwards, logging out will likely work.

See also {{Bug|326393}}.

== The desktop background covers all windows ==

In rare cases, after working with several screens the desktop settings are not cleaned up properly. The result is that the desktop background seems to cover all windows. More details plus some manual workarounds can be found in {{Bug|260360|site=kde}}.

See also {{Bug|365623}}.

== No login possible, hangs at splash screen ==

After playing with unstable GNOME applications, an incompatibility might come up which results in KDE logon failures as long as  {{Package|net-libs/glib-networking}} is installed. Unmerge that package to fix the situation.

See also {{Bug|365637}}.

== See also ==

* {{Bug|Gentoo%20Linux|component=KDE|search=product}}

[[Category:KDE]]
