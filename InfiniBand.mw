{{InfoBox stack
|{{InfoBox wikipedia|header=true}}
}}
'''InfiniBand''' is a switched fabric communications link used in high-performance computing and enterprise data centers.
Its features include high throughput, low latency, quality of service and failover, and it is designed to be scalable. The InfiniBand architecture specification defines a connection between processor nodes and high performance I/O nodes such as storage devices.

== Installation ==

=== Kernel ===

Users of Mellanox hardware MSX6710, MSX8720, MSB7700, MSN2700, MSX1410, MSN2410, MSB7800, MSN2740, and MSN2100 need at least kernel 4.9.<ref>[http://www.phoronix.com/scan.php?page=news_item&px=Mellanox-Linux-4.9 Phoronix - Mellanox Platform Support Coming In Linux 4.9]

The following kernel options must be activated:
{{KernelBox|<pre>
Device Drivers  --->
    InfiniBand support --->
        <*> InfiniBand userspace MAD support
        <*> InfiniBand userspace access (verbs and CM)
        <M> Mellanox HCA support
        <M> QLogic PCIe HCA support
        <M> Ammasso 1100 HCA support
        <M> Mellanox ConnectX HCA support
        <M> NetEffect RNIC Driver
        <M> Emulex One Connect HCA support
        <M> IP-over-InfiniBand
            [*] IP-over-InfiniBand Connected Mode support
        <M>   InfiniBand SCSI RDMA Protocol
</pre>}}
{{Note|In this example everything is selected. Most likely the userspace API (first two options) and the host controller adapter (HCA) drivers are needed for system specific hardware. IP-over-InfiniBand or srp modules may also be needed if they are required features.}}

=== USE flags ===

{{USEflag|package=sys-fabric/ofed}}

=== Emerge ===

{{Emerge|sys-fabric/ofed}}

== IP over InfiniBand (IPoIB) ==
Users of InfiniBand can also use it to carry IP-networking packets, thus allowing it to replace ethernet in some cases.
From at least kernel version 4.10 onwards users can compile IP-over-IB in-kernel (CONFIG_INFINIBAND_IPOIB). However if that's not the case and the support is compiled as kernel module it may be possible that the module isn't automatically loaded.
The module is named '''ib_ipoib'''.{{RootCmd|modprobe ib_ipoib}}

InfiniBand network interfaces are usually named as <kbd>ib<number></kbd>.{{Cmd|ifconfig ib0|output=<pre>ib0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 2044
Infiniband hardware address can be incorrect! Please read BUGS section in ifconfig(8).
        infiniband 00:00:04:04:FE:80:00:00:00:00:00:00:00:00:00:00:00:00:00:00  txqueuelen 256  (InfiniBand)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</pre>}}

[[Category:Interfaces]]
