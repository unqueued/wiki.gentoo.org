{{InfoBox stack
|{{InfoBox wikipedia|Magic_SysRq_key|header=true}}
|{{InfoBox odoc|https://www.kernel.org/doc/Documentation/sysrq.txt}}
}}

Magic SysRq (Magic System Request) is a kernel hack that enables the kernel to listen to specific key presses and respond by calling a specific kernel function. Magic SysRq is activated via input from the keyboard or a serial line.

{{Warning|Magic SysRq should not be enabled for production or mission critical systems!}}

== Kernel ==

A basic Magic SysRq configuration:

{{KernelBox|title=Enable Magic SysRq (<var>CONFIG_MAGIC_SYSRQ</var> and <var>CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE</var> respectively)|1=<pre>
Kernel hacking  --->
   [*] Magic SysRq key
   (0x1) Enable magic SysRq key functions by default
</pre>}}

{{Important|The <var>CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE</var> value must always be written in the kernel with hexadecimal (0x) form (not integer numbers).}}

== Usage ==

=== Invocation ===

On {{Keyword|amd64}} and {{Keyword|x86}} systems the key combination of {{Key|Alt}}+{{Key|SysRq}}+<command key> will result in Magic SysRQ invocation. See the following table for some possible options:

{| class="table table-striped table-condensed"
|-
! Command key !! Header text !! Header text
|-
| {{Key|b}} || Immediately reboot the system without syncing or unmounting the disks. || Example
|-
| {{Key|e}} || Send a SIGTERM to all processes, except for init. || Example
|-
| {{Key|s}} || Attempts to sync all mounted filesystems. || Example
|-
| {{Key|u}} || Attempts to remount all mounted filesystems read-only. || Example
|}

More information can be found in the [https://www.kernel.org/doc/Documentation/sysrq.txt official Magic SysRQ Linux Kernel documentation].

{{Note|Not all keyboards include a a {{Key|SysRq}} key. Typically {{Key|Print Screen}} is the same key.}}

== See also ==

* [[Kernel hacking]] - An article that introduces kernel hacking on Gentoo Linux.

== External resources ==

* [http://www.linuxhowtos.org/Tips%20and%20Tricks/sysrq.htm Magic SysRq Key] at LinuxHowtos.org.
* [[Wikipedia:System request]] - Some history on the system request key.

[[Category:Kernel]]
