{{Lowercase title}}
{{InfoBox stack
|{{InfoBox homepage|https://mpv.io/|header=true}}
|{{InfoBox wikipedia|Mpv_(media_player)}}
|{{InfoBox github|mpv-player/mpv}}
|{{InfoBox odoc|https://mpv.io/manual/}}
}}
'''mpv''' is a free, open source, and cross-platform media player. It is based on mplayer2, which in turn is based on the original [[MPlayer]]. Many changes have been made, a large part of which is incompatible or completely changes how the player behaves. Although there are still many similarities to its ancestors, mpv should generally be treated as a completely different program.

== Installation ==

=== USE flags ===

Default USE configuration provides the following core features: CLI player, X11 support, audio and video playback, On-Screen Display (OSD) and On-Screen Controller (OSC), and Lua scripting support.

Hardware decoding is often desired. mpv supports both [[VAAPI]] and [[VDPAU]] hardware decoding APIs via <code>vaapi</code> and <code>vdpau</code> USE flags respectively. You need to manually enable the API supported by your hardware.

For a complete set of supported features please refer to the list of available USE flags below.

{{USEflag|package=media-video/mpv}}

=== Emerge ===

{{Emerge|media-video/mpv}}

=== Additional software ===

Install {{Package|net-misc/youtube-dl}} to directly play URLs from YouTube and other popular streaming websites:

{{Emerge|net-misc/youtube-dl}}

Install {{Package|media-video/smplayer}} to get a GUI frontend:

{{Emerge|media-video/smplayer}}

== Configuration ==

mpv doesn't require any configuration after installation. However, almost all aspects of the default behaviour can be changed.
Two most important parts of the configuration are player settings and key bindings. Both are briefly discussed below.

=== Player settings ===

Player settings should be put into {{Path|~/.config/mpv/mpv.conf}} file using the INI syntax, i.e. <tt>option=value</tt>.
Everything after a <tt>#</tt> is considered a comment.

Most command line options can be player settings. The equivalent of <tt>--option=value</tt> command line argument is <tt>option=value</tt> setting, where <tt>value</tt> can contain suboptions or be a quoted string. Options that work without values can be enabled by setting them to <tt>yes</tt> and disabled by setting them to <tt>no</tt>.

To ease working with different configurations, profiles can be defined in the configuration file. A profile starts with its name in square brackets, e.g. <tt>[my-profile]</tt>. All following options will be part of this profile. To end the profile, start another one or use the profile name <tt>default</tt> to continue with normal options.

For a complete list of available options please refer to [//mpv.io/manual/stable/#options the manual].

{{FileBox|title=Player settings example|filename=~/.config/mpv/mpv.conf|lang=ini|1=
# Always save the current playback position on exit
save-position-on-quit=yes
# Keep player open when end of playlist is reached
keep-open=yes
# Use opengl output with X11/GLX backend
vo=opengl:backend=x11
# Use custom OSD font
osd-font="Source Sans Pro"

# Create 'high-quality' profile
[high-quality]
# Use high quality rendering
profile=opengl-hq
deband=yes
}}

=== Key bindings ===

Key bindings should be put into {{Path|~/.config/mpv/input.conf}} file. The syntax is <tt><key> <command></tt>.
Everything after a <tt>#</tt> is considered a comment. To bind commands to the <tt>#</tt> key use <tt>SHARP</tt>.

For a complete list of available commands please refer to [//mpv.io/manual/stable/#list-of-input-commands the manual].

{{FileBox|title=Key bindings example|filename=~/.config/mpv/input.conf|lang=ini|1=
# Ctrl+q closes player
Ctrl+q quit
# Shift+d removes the currently played file from playlist
Shift+d playlist-remove current
# Shift+c toggles infinite looping of the currently played file
Shift+c cycle-values loop-file "inf" "no"
}}

=== Examples ===

Advanced real-world configurations from mpv contributors: [//github.com/pigoz/dotfiles/tree/master/mpv], [//github.com/Argon-/mpv-config].

== Usage ==

=== Lua scripts ===

Core mpv functionality can be extended with Lua scripts. All scripts from {{Path|~/.config/mpv/scripts/}} directory are loaded automatically. Alternatively you can load a script manually using command line, e.g. <tt>--script=/path/to/your/script.lua</tt>.

Several Lua scripts are shipped with mpv and installed into {{Path|/usr/share/mpv/lua/}} directory.
Upstream wiki also has an extensive list of 3rd party scripts: [//github.com/mpv-player/mpv/wiki/User-Scripts].

== Troubleshooting ==

If you ran into any problems, make sure you've enabled verbose logging via <code>-v</code> command line option. 

=== Broken playback/crashes after updating FFmpeg/Libav/libass/etc. ===

'''TLDR''': report a Gentoo bug, then rebuild mpv.

FFmpeg/Libav/libass are all known to introduce from time to time incompatible, ABI-breaking changes between minor releases.
More often than not SLOTs of these libraries remain the same between minor releases, i.e. an automatic mpv rebuild isn't triggered.
This causes problems with mpv compiled against previous versions of these libraries. These problems vary from features becoming broken to sudden crashes.

Upstream's answer in such cases is similar to <nowiki>''it's not our problem that other people can't maintain proper ABI-compatibility, rebuild mpv''</nowiki>. Please first report a Gentoo bug to notify maintainers about the existing breakage, then rebuild mpv.

=== 'mpv was compiled against a different version of FFmpeg/Libav...' message ===

If you don't have any problems with mpv, you can safely ignore this message. Otherwise, please follow  [[Mpv#Broken_playback.2Fcrashes_after_updating_FFmpeg.2FLibav.2Flibass.2Fetc.|these instructions]].

== See also ==

* [[MPlayer]] - A (older, once powerful) command-line media player.
* [[VLC]] - A media player capable of playing just about anything.

[[Category:Multimedia]]
