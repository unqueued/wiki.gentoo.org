<languages />

Ce guide explique comment configurer et utiliser GPM (Le serveur de souris multi-objectifs) depuis la ligne de commande. Ceci est particulièrement utile à de nouvelles installations de Gentoo ou pour des systèmes qui ne peuvent pas utiliser, ou n'utilisent pas, de serveur X.

== Obtenir GPM ==

Si vous venez d'installer Gentoo, vous n'avez, presqu'à coup sûr, pas encore votre souris configurée pour travailler depuis la ligne de commande. Ou, peut-être, ne pouvez-vous utiliser, ou n'avez-vous pas besoin d'un serveur X, tout en ayant besoin d'une souris malgré tout. La solution est simple : <code>gpm</code>, le serveur de souris multi-objectifs. 

Tout d'abord vous devez obtenir GPM : 

{{Emerge|gpm}}

Vous devriez avoir noté quelques messages pendant la compilation qui vous avertissaient de configurer le serveur. Vous devez le faire avant de démarrer GPM. 

== Configurer GPM ==

Avant de pouvoir utiliser GPM, vous devez dé-commenter les lignes correspondant à l'emplacement et au protocole de votre souris. Ceci se fait en éditant le fichier de configuration de GPM : 

{{RootCmd|nano /etc/conf.d/gpm}}

Dans l'exemple qui suit, nous avons une souris USB sur {{Path|/dev/input/mouse0}}. C'est pourquoi nous supprimons le commentaire de {{Path|/dev/input/mice}}, puisque c'est le périphérique cumulatif pour toutes les souris installées sur le système, et le protocole approprié. Essayez d'utiliser {{Path|/dev/input/mice}} avant {{Path|/dev/psaux}}, parce que le dernier est en voie d'obsolescence et peut être désactivé dans les derniers noyaux 2.6. Si {{Path|/dev/input/mice}} échoue, alors repliez-vous sur l'autre périphérique. Voici l'exemple {{Path|/etc/conf.d/gpm}} : 

{{Code|Exemple de configuration GPM <pre>
## (Dé-commentez la ligne correspondant à votre type de souris et celle correspondant à l'entrée  MOUSEDEV appropriée)
 
#MOUSE=ps2
MOUSE=imps2
#MOUSEDEV=/dev/psaux
MOUSEDEV=/dev/input/mice
</pre>
}}

Si vous avez une souris à roulette, vous devriez utiliser le protocole imps2 (dé-commentez cette ligne). Si imps2 et ps2 échouent tous les deux, reportez-vous à la page info sur GPM ( <code>info gpm</code> ) pour connaître les autres protocoles à essayer. Par ailleurs, si vous voulez pouvoir cliquer sur des liens  dans des terminaux pour accéder à des pages Web, suivez la suggestion du fichier <code>/etc/conf.d/gpm</code> : 

{{Code|Other options|<pre>
## (Dé-commentez cette ligne si vous voulez que GPM comprenne le jeux de caractères 
##  utilisés dans les  URLs et les noms qui contiennent  ~ ou : , etc.
##  C'est une bonne idée que d'activer ça !)
 
APPEND="-l \"a-zA-Z0-9_.:~/\300-\326\330-\366\370-\377\""
</pre>
}}

La suite du fichier conf.d contient d'autres suggestions pour le serveur de souris ; dé-commentez les options diverses selon vos besoin. Reportez-vous à la  page de manuel <code>man gpm</code> pour en savoir plus. 

== Lancer GPM ==

Now that your mouse server is installed and configured, it's time to start using it: 

{{RootCmd|/etc/init.d/gpm start}}

You should see a block cursor appear. Remember that only root can run the GPM init script. However, to avoid having to <code>su</code> and run the script every single time you begin a new session, why not set GPM to begin every time you turn on your computer? 

{{RootCmd|rc-update add gpm default}}

Now, whenever you start your computer, you'll be greeted by the console cursor by the time you get to the login prompt. The mouse server will continue to run even if you're not logged in as root.

== Working with GPM ==

=== Copying and pasting ===

Copying and pasting large blocks of text with a working mouse server is very easy. Simply highlight the text with the left mouse button (it will stay highlighted when you release the button), switch to a different terminal if you wish, position the cursor, and press the middle mouse button to paste the text where you placed the cursor. Note that you can copy and paste without ever leaving the terminal you started. This makes posting the output of error messages to the [http://forums.gentoo.org Gentoo Forums] extremely simple. 

=== Text-mode browsing and GPM ===

If you have a message on one screen and a text-mode web browser on the other, you can copy the error message by highlighting it, then change to the other terminal, left-click the appropriate text entry box to select it, and then press the middle mouse button. VoilÃ ! Your error message can now be posted to the forums. 

Though discussion of text-only browsers is somewhat beyond the scope of this guide, inevitably users will need to find a compatible console browser. Though <code>lynx</code> is most likely the oldest and well established browser, its interface has poor mouse support and recognition. Instead, try using <code>links</code> which has excellent mouse integration. 

{{Emerge|links}}

This concludes the guide to using a mouse within the console. Happy mousing! 

== Acknowledgements ==

We would like to thank the following authors and editors for their contributions to this guide:

* Joshua Saddler
