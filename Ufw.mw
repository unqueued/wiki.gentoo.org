{{stub}}
{{InfoBox stack
|{{InfoBox homepage|https://launchpad.net/ufw|header=true}}
|{{InfoBox wikipedia|Uncomplicated_Firewall}}
|{{InfoBox ohloh|ufw-firewall}}
}}

'''Ufw''' stands for uncomplicated firewall, and is just that.  It uses logs such as those obtained by [[syslog-ng]] for monitoring, and uses [[iptables]] as a back end.  Ufw supports both ip v4 & ip v6.

== Installation ==

=== Kernel ===

The following kernel configuration must be made before ufw will work.

{{Note|You must make configurations for [[iptables]] & run the [[iptables]] wiki page on top of these}}

{{KernelBox|title=ip v4 settings|
[*] Networking support  --->
        Networking options  --->
            [*] Network packet filtering framework (Netfilter)  --->
                Core Netfilter Configuration  --->
                    <M>   NetBIOS name service protocol support
}}

IP version 6 is not required, however it is highly recommended.

{{KernelBox|title=ip v6 settings|
[*] Networking support  --->
        Networking options  --->
            [*] Network packet filtering framework (Netfilter)  --->
                IPv6: Netfilter Configuration  --->
                    <M>   "rt" Routing header match support
                    <M>   "HL" hoplimit target support
}}

=== USE flags ===

{{USEflag|package=net-firewall/ufw}}

=== Emerge ===

{{emerge|ufw}}

== Service ==

To allow ssh by default:

{{RootCmd|ufw allow ssh}}

{{Important|ssh is blocked by default.}}

=== OpenRC ===

To start ufw at boot:

{{RootCmd|rc-update add ufw default}}

To start ufw immediately:

{{RootCmd|rc-service ufw start}}

=== systemd ===

To start ufw at boot:

{{RootCmd|systemctl enable ufw}}

To start ufw immediately:

{{RootCmd|systemctl start ufw}}

=== Configuration ===

To create a simple configuration, run:

{{RootCmd|ufw default deny}}
{{RootCmd|ufw allow from 192.168.0.0/24}}
{{RootCmd|ufw allow <application-name>}}

To get a list of possible applications to add, run:

{{RootCmd|ufw app list}}

Then replace <application-name> with the name of the desired application. For example, to allow incoming Deluge traffic:

{{RootCmd|ufw allow Deluge}}

Next run

{{RootCmd|ufw enable}}

The last step is only required only the first time you install the package.

== External Resources ==

* https://wiki.archlinux.org/index.php/Uncomplicated_Firewall

[[Category:Server_and_Security]]
