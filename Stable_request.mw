This article describes the procedure for moving an ebuild from testing to stable.

== Configuration ==

It is preferred that testing take place on a real system, inside a chroot, or within another type of non-virtualised container. Virtualisation may be acceptable in situations where it is not possible or practical to test on real hardware.

The testing system must only have stable packages installed, with no testing packages keyworded or unmasked. It should be up-to-date, and it is recommended to have as a few packages installed as possible.

make.conf should have settings similiar to the following:
{{FileBox|filename=/etc/portage/make.conf|lang=bash|1=
# CFLAGS should be reasonable
CFLAGS="-march=native -O2 -pipe"
CXXFLAGS="${CFLAGS}"

# Defining all four *FLAGS variables enables a portage QA check reporting when these variables are not respected
FFLAGS="${CFLAGS}"
FCFLAGS="${CFLAGS}"

# Enables a portage QA check to report when LDFLAGS is not respected
LDFLAGS="${LDFLAGS} -Wl,--hash-style=gnu"

# collision-protect - prevent a package from overwriting files it does not own
# network-sandbox - prevent network access during merge (requires Linux and network namespace support in kernel)
# sandbox - ensure package does not write directly to live system
# strict - have portage react strongly to conditions that have the potential to be dangerous
# test - run package tests, or alternatively test-fail-continue
# userfetch - drop privileges during fetching
# userpriv - drop privileges during merge
# usersandbox - enable sandbox when userpriv is enabled
FEATURES="collision-protect network-sandbox sandbox strict test userfetch userpriv usersandbox
}}

== Testing ==

== Architecture-specific notes ==

=== amd64 ===
* Any developer may perform {{keyword|amd64}} stabilisations - it is not necessary to be on the arch team
* <code>multilib-strict</code> must be added to <code>FEATURES</code>

=== x86 ===
* Any developer may perform {{keyword|x86}} stabilisations - it is not necessary to be on the arch team
* It is acceptable to stabilise in an {{keyword|x86}} [[Project:AMD64/32-bit Chroot Guide|chroot]] on {{keyword|amd64}}
