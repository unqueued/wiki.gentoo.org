<languages />

{{Dated|date=March 12th, 2015}}

{{Metadata|abstract=이 안내서는 DVB와 VDR을 젠투 리눅스에서 준비하는 방법을 설명합니다.}}

이 안내서에서는 DVB와 VDR을 젠투 리눅스에서 준비하는 방법을 설명합니다.

== DVB 일반 정보 ==

=== DVB란 무엇인가요? ===

''DVB''는 ''Digital Video Broadcasting''의 약어입니다. DVB는 TV, 라디오, MHP, EPG, 텔레텍스트 같은 대화식 서비스의 디지털 데이터를 전송하는 방법입니다. HDTV에 대해 MPEG-2 또는 H-264로 데이터를 압축하여 같은 주파수에서도 다양한 채널로 데이터를 전송할 수 있습니다. 데이터를 좀 더 압축하여 더 많은 채널을 전송할 수 있지만, 화질이나 음질이 깨질 수 있습니다. 

DVB는 다양한 방법으로 전송할 수 있습니다. 마지막에 붙은 문자가 전송 방식을 구분하는데 DVB-''T''는 지상 전송 방식을 의미합니다. 이 말고도 몇가지 방식이 또 있습니다: 

* DVB-S 는 위성 전송 방식입니다
* DVB-C 는 물리 회선 전송 방식입니다
* DVB-H 모바일 장치 전송 (지상) 방식입니다
* DVB-IPI 는 IP 기반 네트워크 전송 방식입니다 예:인터넷
* DVB-RC(S/C/T) 는 데이터 서비스 전송 채널을 반환합니다. 예: 광대역 인터넷

=== 형식과 필요한 DVB 카드 ===

DVB 스트림을 받으려 제각각의 방식이 있기 전에 내용 출력 방식에 따라 카드를 구분합니다. {{Path|/dev/video}} 장치에서 스트림에 직접 접근하는 방식을 제공하는 디코더 구현체 카드가 있습니다. 이런 카드는 ''완벽한 기능을 갖춘 카드'' 입니다. 다른 카드는 자체 구현 인코더가 없으며 컴퓨터의 소프트웨어 디코더가 필요하고 이런 카드를 ''버짓 카드''라고 합니다. 이 경우 상당한 수준의 시스템 사양이 필요함을 암시합니다. 여러분의 컴퓨터에 붙은 CPU는 최소한 600MHz에 256MB 용량의 RAM이 있어야 합니다. 카드를 확인하는데는 [http://linuxtv.org/wiki/index.php/DVB_Card_Venders 이 목록]이 제격입니다. 

== 시스템 준비 ==

=== 커널 설정하기 ===

먼저 커널에서 DVB와 DVB 장치를 지원하는지 확인해야 합니다. 2.6 커널부터는 필요한 드라이버가 있습니다. 커널 설정을 확인하고, 다음 옵션을 정적 드라이버 또는 모듈로 선택했는지 확인하십시오. 

{{KernelBox|title=필요한 커널 옵션|1=
Input Device Support --->
* Event Interface
Device Drivers --->
<M> Multimedia Support --->
  [*] Digital TV support
   M  [Enable driver(s)]
}}

추가적으로 하드웨어에 대산 적당한 드라이버를 선정해야 합니다. 카드에 대한 올바른 모듈을 찾는 방법은, 모든 드라이버를 모듈로 지정하는 것입니다. PCI 카드를 보유하고 있고, {{Package|sys-apps/pciutils}} 가 없다면 이 꾸러미를 설치하십시오. 이 꾸러미에는 {{c|lspci}} 라는 쓸만한 도구가 있습니다. 내장 드라이버는 있는데 PCI 카드를 가지고 있지 않다면, 이 과정을 건너뛰고 [[#.EC.BB.A4.EB.84.90_.EC.B6.9C.EB.A0.A5_.ED.99.95.EC.9D.B8|커널 출력 확인]]으로 계속 진행하셔도 됩니다. 

{{Emerge|sys-apps/pciutils}}

새 커널로 부팅한 다음 필요한 모듈을 보기 위해 {{c|pcimodules}}를 실행하십시오.

{{RootCmd|pcimodules|output=<pre>
ohci-hcd
ehci-hcd
sis900
snd-emu10k1
b2c2-flexcop-pci
nvidia
nvidiafb
</pre>
}}

이 경우 <code>b2c2-flexcop-pci</code> 모듈을 불러와야 합니다. {{Path|/etc/conf.d/modules}} 파일에 이름을 추가하십시오: 

{{FileBox|filename=/etc/conf.d/modules|1=
modules="b2c2-flexcop-pci"
}}

=== 커널 출력 확인 ===

모든 드라이버를 모듈로 표시하여 특히 어떤 모듈을 추가해야 할지 분명하지 않을 경우에 필요한 모듈을 동적으로 추가할 수 있게 하는 방식을 추천합니다. 커널을 컴파일하고 모듈을 설치한 다음 새 커널로 부팅하십시오. {{c|dmesg}} 유틸리티를 사용하여 커널에서 PCI 카드를 제대로 발견했는지 확인하십시오. 

테라텍 시너지 T2를 가지고 있다면 출력 내용은 다음과 같습니다:

{{RootCmd|dmesg {{!}} grep DVB|output=<pre>
DVB: registering new adaptor (TerraTec/qanu USB2.0 Highspeed DVB-T Receiver).
input: TerraTec/qanu USB2.0 Highspeed DVB-T Receiver remote control as /class/input/input2
</pre>
}}

== VDR 설치 ==

VDR을 설치하려면 그냥 이머지 하시면 됩니다:

{{Emerge|media-video/vdr}} 

== 원격 조종기(리모콘) 설치 ==

적외선 원격 조종기를 통해 VDR을 조정하는 최소한 두가지의 방법이 있습니다. TV 카드에 보드 내장 적외선 수신 모듈이 붙어있다면, {{Package|media-plugins/vdr-remote}}를 사용할 수 있습니다. 그렇지 않으면 LIRC를 사용해야 할 지도 모릅니다. 

=== vdr-remote 설치 ===

우선 {{c|emerge}}로 플러그인을 설치하십시오: 

{{Emerge|media-plugins/vdr-remote}}
{{RootCmd|eselect vdr-plugin enable remote}}

DVB 카드의 적외선 포트에 대한 remote 플러그인을 사용할때 기본 설정으로 보통 만족합니다. 자동으로 "dvb" 이름을 가진 입력 장치를 사용합니다. 좀 더 전문적으로 활용하려면 {{Path|/etc/conf.d/vdr.remote}} 파일을 살펴보십시오.

=== 대안: LIRC 설치 ===

카드를 원격으로 제어할 수 있고 <code>vdr-remote</code>로 관리하지 않으려 한다면 LIRC를 설정해야합니다. LIRC는 누른 키를 해석하고 이름을 반환합니다. LIRC를 지원하는 프로그램은 키 이벤트를 기다리며, 실행 프로그램의 설정 디렉터리에 저장한 설정 파일(예: {{c|mplayer}}는 {{Path|~/.mplayer/lircrc}} 파일을 불러옴)에 설정한대로 동작을 실행합니다. LIRC를 설치하기 전에 <code>lirc</code> USE 플래그를 지정하고 {{Path|/etc/portage/make.conf}}에 특별히 <var>LIRC_DEVICES</var> 변수를 추하여 {{Path|/etc/portage/make.conf}} 파일에서 적당한 인자값을 찾기 위해 [http://www.lirc.org/html/table.html 이 목록]<sup style="color:#ff0077">en</sup>을 활용하도록 하십시오. 

{{FileBox|filename=/etc/portage/make.conf|lang=bash|1=
# (Replace "devinput" with the proper driver)
LIRC_DEVICES="devinput"
USE="lirc"}}

{{Emerge|app-misc/lirc}}

먼저 각각의 키 코드를 이름으로 정의해야 합니다. 대부분 지원하는 원격 조종기는 이미 설정되어 있으므로 [http://lirc.sourceforge.net/remotes/ 원격 조종기 목록]을 살펴보십시오. 필요한 파일을 다운로드 하고 {{Path|/etc/lircd.conf}} 파일로 저장하십시오. 이제 원격 조종기 접근 위치를 찾아야 합니다. 다음 명령을 실행하여 현재 입력 장치 목록을 가져오십시오(장치가 동작중인지 확인하십시오). 

{{RootCmd|cat /proc/bus/input/devices|output=<pre>
I: Bus=0000 Vendor=0000 Product=0000 Version=0000
N: Name="TerraTec/qanu USB2.0 Highspeed DVB-T Receiver remote control"
P: Phys=usb-0000:00:1d.7-1/input0
S: Sysfs=/class/input/input2
H: Handlers=kbd event1
B: EV=100003
B: KEY=108fc210 2043 0 0 0 0 8000 2080 1 9e1680 0 0 ffc
</pre>
}}

이 경우 테라텍 시너지 T2 장치를 연결했으므로 {{Path|/dev/input/<event1>}}을 통해 장치에 접근할 수 있습니다. 출력 내용에 일치하는 장치로 <code><event1></code>를 바꾸십시오. 

<tt>lircd</tt>에서 사용하려는 장치를 알아야 합니다. 다음 줄을 {{Path|/etc/conf.d/lircd}} 파일에 추가하십시오. <code><devinput></code>를 드라이버 이름으로 <code><event1></code>을 실제 장치로 바꿔야 함을 기억하십시오.

{{FileBox|filename=/etc/conf.d/lircd|lang=bash|1=
LIRCD_OPTS="-H <devinput> -d /dev/input/<event1>"
}}

이제 <code>lircd</code>를 시작하십시오: 

{{RootCmd|/etc/init.d/lircd start}}

이제 <tt>lircd</tt> 화면 캡처 및 디코딩 키 누름을 확인해볼 수 있습니다. {{c|irw}} 명령을 실행해보십시오. 충분히 진행했다면 {{Key|Ctrl}} + {{Key|C}}키를 눌러 중단하십시오. 

{{RootCmd|irw|output=<pre>
0000000000001aa2 00 Exit Technisat_TTS35AI.conf
0000000000001a8d 00 Mute Technisat_TTS35AI.conf
0000000000000a97 00 OK Technisat_TTS35AI.conf
0000000000000a97 01 OK Technisat_TTS35AI.conf
0000000000000a92 00 Menu Technisat_TTS35AI.conf
</pre>
}}

다음, 기본 런레벨에 추가하여 부팅할 때 자동으로 시작하도록 하십시오.

{{RootCmd|rc-update add lircd default}}

To be able to use the remote control, LIRC support must be enabled in VDR. Add the following line to the {{Path|/etc/conf.d/vdr}} file: 

{{FileBox|filename=/etc/conf.d/vdr|lang=bash|1=
IR_CTRL="lirc"
}}

== 동영상 출력 방식 ==

Now decide on one (and only one) of the following video output devices which show the picture and the overlayed On Screen Display (OSD). 

=== 하드웨어 디코드: 완전한 기능을 갖춘 DVB 카드 ===

TechnoTrend Premium S2-6400 Twin HD 또는 SDTV 및 HDTV (MPEG2 and MPEG4 AVC/H.264)용 일반 하드웨어 디코딩 장비를 사용중이라면 {{Package|media-plugins/vdr-dvbhddevice}}를 설치하십시오:

{{Emerge|media-plugins/vdr-dvbhddevice}}

For Fujitsu_Siemens, Hauppage WinTV and TechnoTrend Premium S2300 and cards based on this reference design, or general hardware decoding for SDTV (MPEG1 and MPEG2): 

{{Emerge|vdr-dvbsddevice}}

=== 하드웨어 디코드: DXR3/Hollywood+ cards ===

To use a DXR3 card for VDR output the <code>vdr-dxr3</code> plugin is needed: 

{{Emerge|vdr-dxr3}}

{{FileBox|filename=/etc/conf.d/modules|lang=bash|1=
modules="em8300"
}}

em8300 모듈은 카드의 정확한 리비전에 따라 추가 설정이 필요합니다. 

=== 하드웨어 디코드: PVR350 카드 ===

Since PVR350 cards have an onboard MPEG-Decoder chip it should be used to its full potential. In order for this to happen the <code>vdr-pvr350</code> plugin is needed. If <code>ivtv-driver</code> is not yet installed emerge should automatically install it. To have the <code>ivtv</code> module loaded at boot time add it to the {{Path|/etc/conf.d/modules}} list: 

{{Emerge|media-plugins/vdr-pvr350}}

{{FileBox|filename=/etc/conf.d/modules|lang=bash|1=
modules="ivtv"
}}

=== 소프트웨어 디코드: vdr-xineliboutput ===

Some people prefer to use <code>vdr-xineliboutput</code>, because it can work remotely. Follow the next set of instructions to configure <code>vdr-xineliboutput</code> on a host and client. First, the host setup: 

{{Emerge|media-plugins/vdr-xineliboutput}}

{{RootCmd|eselect vdr-plugin enable xineliboutput}}

Adding command line options at this point is crucial for xineliboutput to work. For more options, see <tt>vdr --help</tt>. 

{{FileBox|filename=/etc/conf.d/vdr.xineliboutput|lang=bash|1=
_EXTRAOPTS="--local=none --remote=37890"
}}

다음 단계에서는 {{Path|/etc/vdr/svdrphosts.conf}}를 편집합니다. 이 파일에는 호스트 시스템에서 실행중인 동영상 디스크 레코더의 SVDRP 포트로 어떤 호스트 주소를 연결할지에 대한 내용이 있습니다. 

{{FileBox|filename=/etc/vdr/svdrphosts.conf|lang=bash|1=
# (The proper syntax is: IP-Address[/Netmask])
127.0.0.1             (always accept localhost)
192.168.1.0/24        (any host on the local net)
#204.152.189.113      (a specific host)
#0.0.0.0/0            (any host on any net - USE THIS WITH CARE!)
}}

When using <code>vdr-xineliboutput</code> to view the picture on the same computer as the one running VDR it is now possible to continue with [[#creating the channel list]]. 

그렇지 않으면 클라이언트에서 간단하게 {{c|emerge {{Package|media-plugins/vdr-xineliboutput}} }}를 실행하십시오: 

{{Emerge|media-plugins/vdr-xineliboutput}}

(VDR을 시작하고난) 다음, VDR에 연결하고, 화면과 OSD를 보려면 {{c|vdr-sxfe xvdr://hostname}} 명령을 사용할 수 있습니다. 

{{Note|기록 전용 서버처럼 사용하려는 목적으로 실제 출력 장치 (<code>vdr-dummydevice</code>) 존재 여부를 시험하는 플러그인도 있지만 일반 VDR 설정보다 좀 더 앞선면이 있습니다.}}

== 채널 목록 만들기 ==

To make VDR really useful an appropriate channel list must be created. There is more than one way to get a working list of channels (besides downloading one). The channel list installed by default is for DVB-S reception on Astra on 19.2° E. 

=== linuxtv-dvb-apps의 dvbscan 활용 ===

{{Emerge|media-tv/linuxtv-dvb-apps}}

Find the correct frequency list for region and type of reception of interest. These files are stored under {{Path|/usr/share/dvb}}. For reception with DVB-T in Germany, Berlin {{Path|/usr/share/dvb/dvb-t/de-Berlin}} should be used:

{{Cmd|dvbscan -o vdr /usr/share/dvb/dvb-t/de-Berlin > /etc/vdr/channels.conf}}

=== vdr-reelchannelscan 활용하기 ===

First, delete the contents of the existing channel list:

{{RootCmd|rm /etc/vdr/channels.conf}}

{{Emerge|vdr-reelchannelscan}}

{{RootCmd|eselect vdr-plugin enable reelchannelscan}}

=== vdr-analogtv를 활용하여 시스템 채널 찾기 ===

It is a good idea to configure channels at this point. The VDR project provides users with some examples which can be found at {{Path|/usr/share/doc/vdr-analogtv-$version/examples/}}, as long as <code>media-plugins/vdr-analogtv-1.0.00-r1</code> and up has been installed. 

== VDR 시작 ==

After having all basic software parts ready on the system the VDR with its OSD must be configured. 

If a hardware decoder for picture output is used, then the connected TV should be turned on. When using software output the client for this must be started after VDR. 

First, learn the key definitions; that is, connecting keys on the remote control to VDR's internal commands. 

{{Note|키보드 설정을 편집하거나, (아마도) 키 기능 기억 단계로 돌아가려 키보드 설정을 삭제하려는 목적이 있다면 특별한 파일을 수정할 수 있습니다. VDR은 {{Path|/etc/vdr/remote.conf}} 파일에 키 설정을 저장합니다.}}

VDR을 시작할 차례입니다: 

{{RootCmd|/etc/init.d/vdr start|output=<pre>
* Preparing start of vdr:
*   config files ...                                        [ ok ]
*   Waiting for prerequisites (devices nodes etc.) ...      [ ok ]
* Starting vdr ...                                          [ ok ]
* First start of vdr: No check for running vdr possible
* until control device (remote/keyboard) keys are learnt!
</pre>
}}

{{Note|소프트웨어 디코더 사용자는 TV 화면과 OSD를 표시하려 창을 따로 여는 클라이언트 프로그램을 시작해야합니다.}}

vdr-softdevice 사용자라면:

{{RootCmd|ShmClient}}

vdr-xineliboutput 사용자에 대해:

{{RootCmd|vdr-sxfe xvdr://hostname}}

VDR에서 쓸모있는 대부분의 키는 다음과 같습니다: 

* 커서 키(좌/우/상/하)
* 메뉴/나가기/확인
* 색상(적/녹/황/청)
* 숫자 키(0-9)

{{Important|원격 조종기에 키가 많이 없다면, 해당 키 할당을 확인하십시오(어떤 리모콘은 재생/일시정지 등을 지니고 있습니다. 색상이 동일하다면, 해당 색상의 키를 사용하십시오.)}}

ㅇㅇ 

이제 VDR 초기화 스크립트를 기본 런레벨에 추가하고 컴퓨터를 부팅할 때마다 자동으로 시작하도록 하십시오:

{{RootCmd|rc-update add vdr default}}

== 문제 해결 ==

도움이 필요하다면 {{IRC|gentoo-vdr}} 의 누군가에게 자유롭게 질문하거나 [https://forums.gentoo.org/ 젠투 포럼]<sup style="color:#ff0077>en</sup> 에서 관련 질문을 찾아보실 수 있습니다.
{{Migrated|originalauthors=Norman Golisz, Dimitry Bradt, Matthias Schwarzott, Joshua Saddler}}
