{{InfoBox stack
|{{InfoBox wikipedia|RandR|header=true}}
}}
RandR and the tool xrandr are used to manage screen resolutions, roation and screens with multiply displays in X. Future versions will also support GPU via USB.

== Installation ==
You can install {{Package|x11-apps/xrandr}} with the following command:
{{Emerge|x11-apps/xrandr}}
{{Note|this tools should be automatically get installed with most window managers as they use it to manage the displays}}

=== Configuration Files ===
A common way to execute X related scripts is the use of {{Path|~/.xinitrc}} or {{Path|~/.xprofile}}. Just put the line of code for xrandr in one of these files and it will be executed on every X startup to make settings permanent.

== Usage ==
xrandr uses the monitors EDID to identify its capabilities. Some graphic drivers, as the nNvidia or AMD binary, do not support xrandr or faulty hardware report wrong EDIDs, but even in those cases it is still possible to use custom made setups by trial and error.

=== Screen Query ===
Running xrandr without any arguments will show attached monitors and its capabilities:
{{Cmd|xrandr<pre>
Screen 0: minimum 320 x 200, current 1440 x 900, maximum 8192 x 8192
VGA1 disconnected (normal left inverted right x axis y axis)
LVDS1 connected 1440x900+0+0 (normal left inverted right x axis y axis) 304mm x 190mm
   1440x900       60.1*+
   1024x768       60.0
   800x600        60.3
   640x480        59.9</pre>}}
* LVDS - [http://en.wikipedia.org/wiki/Laptop Laptop Screen]
* DVI - [http://en.wikipedia.org/wiki/Digital_Visual_Interface DVI]
* VGA - [http://en.wikipedia.org/wiki/Video_Graphics_Array VGA]
* TV - [http://en.wikipedia.org/wiki/Composite_video TV-Out]
* S-video - [http://en.wikipedia.org/wiki/S-video TV-Out]
* DP - [http://en.wikipedia.org/wiki/DisplayPort DisplayPort]
* HDMI - [http://en.wikipedia.org/wiki/HDMI HDMI]

=== Screen Modes ===
A mode always consists of a resolution and a refresh-rate. With a query the hardware reports which modes are supported. It is possible to define own modes in case the hardware reports wrong information. To change the mode for an attached device:
{{Cmd|xrandr --output LVDS --mode 1024x768}}
It will use the highest refresh-rate in that mode, to also change the refresh-rate (in kHz):
{{Cmd|xrandr --output LVDS --mode 1024x768 --rate 75}}
The changes apply immediately and on the hardware listed above you will either get an error or the screen goes blank now, because 75kHz is not supported. This will last until the next session, you can use {{Key|Ctrl}}+{{Key|Alt}}+{{Key|Backspace}} to restart X in case something goes wrong.
To add a 75Hz mode, first get a proper modeline using the tool '''cvt''':
{{Cmd|cvt 1024x768 refresh 75}}
Copy everything from the output but the ''Modeline'' at the beginning and append it to the following command like:
{{Cmd|xrandr --newmode "1024x768_75.00"  109.00  1280 1368 1496 1712  1024 1027 1034 1063 -hsync +vsync}}
Running the query again should list our new added mode.
{{Note|adding the mode manually does not make the monitor work in the mode, if it didn't work before}}

=== Screen Manipulation ===
Some common tasks using xrandr:
* extend to an external monitor (''left-of'', ''right-of'', ''above'', ''below'', ''same-as''):
{{Cmd|xrandr --output DVI-0 --auto --left-of LVDS}}
* set the primary display if more than one is attached:
{{Cmd|xrandr --output LVDS --primary}}
* rotate a display (''normal'', ''left'', ''right'', ''inverted''):
{{Cmd|xrandr --output LVDS --rotate left}}
* turn off the monitor
{{Cmd|xrandr --output LVDS --off}}

=== GUI Tools ===
There are several GUI tools to use xrandr, here is a list of tools supported in Gentoo:
* {{Package|x11-misc/arandr}} - independent GUI tool
* {{Package|x11-apps/grandr}} - GTK Desktop tool
* {{Package|kde-base/kephal}} - KDE Desktop tool
* {{Package|lxde-base/lxrandr}} - LXDE desktop tool

== External Resources ==
* [http://linux.die.net/man/1/xrandr - xrandr man page]
* [http://www.x.org/wiki/Projects/XRandR - Xorg Foundation]

[[Category:Desktop]]
