{{stub}}

{{InfoBox stack
|{{InfoBox homepage|https://www.torproject.org/|header=true}}
|{{InfoBox wikipedia|Tor_(anonymity_network)|header=true}}
}}


'''Tor''' is an internet anonymity system.

==Install==

===Use Flags===

{{USEflag|package=net-misc/tor
|bufferevents
|nat-pmp
|selinux
|threads
|tor-hardening
|transparent-proxy
|upnp
|web
}}

=== Emerge ===

Install {{Package|net-misc/tor}}
{{emerge|net-misc/tor}}

To start immediately
{{RootCmd|rc-service tor start}}

To start at boot
{{RootCmd|rc-update add tor default}}

== Emerge Messages ==

 * Messages for package net-misc/tor-0.2.3.25:

 * We created a configuration file for tor, /etc/tor/torrc, but you can
 * change it according to your needs.  Use the torrc.sample that is in
 * that directory as a guide.  Also, to have privoxy work with tor
 * just add the following line
 * 
 * forward-socks4a / localhost:9050 .
 * 
 * to /etc/privoxy/config.  Notice the . at the end!

== Browser Configuration ==

=== Firefox ===

Edit > Preferences

Advanced > Network > Settings
<pre>
manual proxy configuration:
http proxy           port: 0
ssl proxy            port: 0
ftp proxy            port: 0
socks host 127.0.0.1 port: 9050
</pre>

== Dns ==
??

== Torify ==
{{warning|torify will fail if you do not have torsocks installed!}}
<pre>emerge -av net-proxy/torsocks</pre>
For applications which do not support the use of proxies or Tor, you can use the "torify" command to force their traffic through the Tor network. (e.g. - ''torify irssi -c irc.afraidirc.net'' '''or''' ''torify irssi -c mqctemuqfc3tp5ji.onion'').

== Tor Minimal Configuration ==
The following is a minimal configuration of Tor which will get your Tor service up and running.<br />
Just create your /etc/tor/torrc file with the following information.<br />
<pre>User tor
PIDFile /var/run/tor/tor.pid
Log notice syslog
DataDirectory /var/lib/tor/data</pre>

== Setting up a Hidden Service ==
Setting up a tor hidden service is easy.<br />
All you need to do is add 2 lines to your /etc/tor/torrc configuration file, and make sure your permissions are correct for the data directory.<br />
<pre>HiddenServiceDir /tor/hiddenservice
HiddenServicePort 80 127.0.0.1:80</pre>

The first line tells Tor to insert the public&private keys into the directory specified.<br />
The next line tells Tor to direct traffic on hidden service port 80 to the IP & port specified.<br />
You will need to make sure that the directory is owned and only readable/writable by tor, for example:<br />
<pre>chown tor /tor/hiddenservice -R && chmod u+rw,g-rw,o-rw /tor/hiddenservice -R</pre>

== Check If Using Tor ==

https://check.torproject.org/

[[Category:Server]]
[[Category:Daemons]]
