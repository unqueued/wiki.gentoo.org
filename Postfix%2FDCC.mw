'''The Distributed Checksum Clearinghouses''' (or '''DCC''') is an anti-spam content filter based upon the exchange between mail servers of fuzzy checksums identifying message content and the number of such messages received. The checksums are constant across common variations in bulk messages, including "personalizations." The official project website is at [http://www.rhyolite.com/dcc/ rhyolite.com/dcc/].

==Background==
The idea of DCC is that if mail recipients could compare the mail they receive, they could recognize unsolicited bulk mail. A DCC server totals reports of checksums of messages from clients and answers queries about the total counts for checksums of mail messages. A DCC client reports the checksums for a mail message to a server and is told the total number of recipients of mail with each checksum. If one of the totals is higher than a threshold set by the client and according to local whitelists the message is unsolicited, the DCC client can log, discard, or reject the message.

Because simplistic checksums of spam would not be effective, the main DCC checksums are fuzzy and ignore aspects of messages. The fuzzy checksums are changed as spam evolves. Since DCC started being used in late 2000, the fuzzy checksums have been modified several times.

Normal users only run the client.

==Installation==
First, you probably want to enable <code>milter</code> support for DCC, as follows.
{{RootCmd|echo "mail-filter/dcc milter" >>/etc/portage/package.use/dcc}}

Next, emerge the package. This should pull in the <code>milter</code> library as well.
{{emerge|mail-filter/dcc}}

==Setup==
===Client only (normal scenario)===
The main binaries installed by the package are as follows:
*<code>cdcc</code> (Control Distributed Checksum Clearinghouse)
*<code>dccm</code> (Distributed Checksum Clearinghouse Milter Interface)
**This is the best interface between postfix (or sendmail) and DCC
*<code>dccifd</code> (Distributed Checksum Clearinghouse Interface Daemon)
**This is an alternative (non-<code>milter</code>-based) interface between postfix (or sendmail) and DCC
*<code>dccproc</code> (Distributed Checksum Clearinghouse Procmail Interface)
*<code>dccsight</code> (Distributed Checksum Clearinghouse Raw Checksum Interface)

===Server (only if you run a big mailserver)===
The server binary is called <code>dccd</code>. Please contribute documentation regarding configuration here. At a guess, probably the process is basically as follows.

{{FileBox|filename=/etc/dcc/dcc_conf|title=Enable DCCD|1=
DCCD_ENABLE=on
}}

It will now be necessary to connect postfix to the DCC server in some DCC-server specific way, please refer to the DCC documentation for this. There is a start within the server section of <code>man dcc</code>. Finally...

{{RootCmd|title=Enable DCC service in the default runlevel|rc-update add dcc default}}
{{RootCmd|title=Start the DCC service|/etc/init.d/dcc start}}

==Deployment==
To make your changes take effect, reload the postfix configuration.
{{RootCmd|/etc/init.d/postfix reload}}
