<languages />
{{InfoBox stack
|{{InfoBox wikipedia|Java_(programming_language)|header=true}}
|{{InfoBox gdoc|Java}}
}}
{{Metadata|abstract=This guide introduces the reader to Java and explains how to use Java with Gentoo Linux.}}
This guide introduces the reader to Java and explains how to use Java with Gentoo Linux.

== 자바란 무엇인가요? ==

=== 간단히 살펴보기 ===

자바는 썬 마이크로시스템즈의 엔지니어가 개발한 프로그래밍 언어입니다. 언어는 객체지향이며 각각의 플랫폼에서 코드를 다시 컴파일하지 않아도 여러 플랫폼에서 동작하도록 설계했습니다. 비록 자바를 네이티브 프로그램처럼 컴파일 할 수 있지만 대부분의 자바 배포 프로그램은, 가비지 콜렉션과 같은 기능을 붙여가며 이식성을 부여할 수 있습니다. 플랫폼은 독립적으로 자바 컴파일러가 운영체제가 아닌 JRE(자바 런타임 환경)에서 실행할 "자바 바이트 코드"라고 하는 중간 형태의 자바 코드로 컴파일 할 수 있습니다. 

자바 바이트 코드를 실행하려면 JRE(자바 런타임 환경)을 설치해야합니다. JRE는 핵심 라이브러리, 플랫폼과 별개로 동작하는 자바 가상 머신, 브라우저 플러그인, 등을 제공합니다. JDK(자바 개발 키트)는 바이트 코드 컴파일러 및 디버거와 같은 프로그래밍 도구를 추가합니다. 

== Installing a virtual machine ==

=== 선택 ===

Gentoo provides numerous Java Runtime Environments (JREs) and Java Development Kits (JDKs). The current choices include: 

{| class="table table-condensed table-striped" style="text-align: left;" 
|- 
! Vendor
! JDK
! JRE
|- 
| The IcedTea Open Java SE (formerly icedtea6-bin)
| {{Package|dev-java/icedtea}} and {{Package|dev-java/icedtea-bin}}
| 
|- 
| Oracle's Java
| {{Package|dev-java/oracle-jdk-bin}}
| {{Package|dev-java/oracle-jre-bin}}
|- 
| The IBM Java SE
| {{Package|dev-java/ibm-jdk-bin}}
| {{Package|dev-java/ibm-jre-bin}}
|-
|}

=== JRE/JDK 설치 ===

To install the profile's default '''JDK''' run:

{{Emerge|virtual/jdk}}

To install the profile's default '''JRE''' run:

{{Emerge|virtual/jre}}

Some JDKs and JREs, including the Sun packages, require accepting an End User License Agreement, or EULA. If its license (such as dlj-1.1) is not listed in the <var>ACCEPT_LICENSE</var> variable (found in {{Path|/etc/portage/make.conf}}), then the JDK/JRE will be unable to be installed. For more information on how to add acceptable licenses to {{Path|make.conf}} read the [[Handbook:X86/Working/Portage#Licenses|Licenses chapter]] of the Portage Handbook. 

제한 라이선스의 번거로움을 피하려면 OpenJDK 프로젝트의 공개 Java 구현체인 icedtea-bin 설치를 고려하십시오. 

{{Note|''JDK''에는 "JRE''가 들어있음을 인지하십시오. JDK를 이머지하면 JRE 설치는 필요 없습니다.}}

=== 가져오기에 제한이 있는 가상 머신 설치 ===

일부 JDK와 JRE를 설정하려면 추가 설정 몇단계를 거쳐야합니다. 꾸러미를 이머지하는건 보통입니다. 추가 과정이 필요하다면 이빌드는 사용자에게 어디서 무얼 다운로드해야 할 지 지침을 제공합니다.

Download the indicated file(s) into {{Path|/usr/portage/distfiles}} Once the files are in the right directories, rerun the {{c|emerge}} command, at which point the JRE/JDK will be begin to install.

=== 헤드리스 JRE 설정 === 

Sometimes there is no need for a full JRE with all the capabilities of java. Using java on a server often does not require any GUI, graphical, sound or even printer related features. To install a simplified (sometimes also referred to as headless) JRE, a few USE flags need to be changed. 

{{FileBox|filename=/etc/portage/package.use|title=Required USE flag changes|1=
virtual/jre headless-awt -alsa -cups
}}

Depending on the current Gentoo profile, this might already be the case. As usual, the USE flag settings that are applicable to a particular package can be checked by running {{c|emerge}} in pretend mode:

{{Cmd|emerge --pretend --verbose virtual/jre}}

== 자바 가상 머신 설정 ==

=== 간단히 살펴보기 ===

젠투는 여러 JDK와 JRE를 어떤 기능상 중복 없이 설치할 수 있습니다. 

Using the {{c|java-config}} tool with root privileges, a system-wide default java virtual machine (VM) can be set. Users can also use java-config to custom set their personal VM on a user-by-user basis. 

{{Note|{{c|eselect}} can also be used to change the system and user VM. See {{c|eselect java-vm help}}.}}

=== 기본 가상 머신 설정 ===

Running the {{c|java-config}} command with the <code>--list-available-vms</code> option will output a list of all JREs and JDKs installed on the system. Here is an example of the output: 

{{RootCmd|java-config --list-available-vms|output=<pre>
The following VMs are available for generation-2:
1)      IcedTea JDK 7.2.6.3 [icedtea-7]
*)      IcedTea JDK 3.0.0_pre07 [icedtea-8]
</pre>
}}

{{Note|'빌드 전용'으로 표기한 가상머신은 보안 취약점을 안고 있거나 끝물에 다다른(End Of Life)상태일 수도 있습니다. 젠투에서는 이 가상머신을 시스템 ''또는'' 사용자의 가상 머신으로 설정하지 않길 권합니다. 자세한 내용은 [[#.EB.B9.8C.EB.93.9C_.EC.A0.84.EC.9A.A9_.EA.B0.80.EC.83.81.EB.A8.B8.EC.8B.A0|빌드 전용 가상머신]]편을 참고하십시오.}}

The ''*'' indicates this is the current active JVM (system-vm or user-vm when set). The name in the brackets (''[]'') is the handle or ID for that particular VM. The handle or the number to {{c|java-config --set-system-vm}} can be used to set the VM. The following text provides an example of how to set the system VM.

(원하는대로)직접 system VM을 설정하려면:

{{RootCmd|java-config --set-system-vm sun-jdk-1.6|output=<pre>
Now using sun-jdk-1.6 as your generation-2 system JVM
</pre>}}

대안책: 관리 번호로 가상 머신 선택:

{{RootCmd|java-config --set-system-vm 3|output=<pre>
Now using sun-jdk-1.6 as your generation-2 system JVM
</pre>
}}

일반 사용자는 {{c|java-config --set-user-vm}} 명령을 활용하십시오. 

{{Note|{{c|source}}-ing the profile is no longer needed for updates to the user's or the system's VM.}}

=== 빌드 전용 가상머신 ===

일부 가상머신은 끝물에 다다른 상태이거나 보안 취약성이 있어 빌드 전용으로 플래그 표시했습니다. 이 가상머신은 젠투 실행 관리자를 통해 프로그램 실행을 목적으로 자동으로 활용하지 않지만(run-java-tool 스크립트는 가상머신을 전환하는 도구로 설계했습니다), 젠투 빌드 환경에서 어떤 꾸러미 빌드에 필요할 때 여전히 사용할 수 있게 했습니다. 이들 가상 머신 설정은 시스템 가상머신으로든 사용자 가상머신으로든 젠투 실행 관리 스크립트에서 사용하지 않는 것처럼 {{Path|/usr/bin/{java,javac,..}}} 실행 파일을 구동할 때 실행할 가상머신으로 사용하지 말길 바랍니다.

=== 우선 빌드 가상머신 ===

Java 꾸러미를 머지하는 동안 빌드에 사용하는 가상 머신은 현재 시스템 가상머신과 다르게 설정할 때도 있습니다. 

머지 작업을 수행할 때 가상 머신 전환이 필요한 경우는, 예를 들면 system-vm이 1.6 인데 머지할 꾸러미에서 가상머신 1.5 를 필요로 할 때입니다. 머징을 수행할 때 시스템 설정은 멀쩡하게 남겨두고 가상머신 1.5를 선택하여 활용합니다. 

어떤 가상머신을 사용할지 언제 전환할지 정의하려면 아키텍처별 ''default/supported VMs'' 목록을 만듭니다. 이 목록은 {{Path|/usr/share/java-config-2/config/jdk-defaults.conf}} 파일에서 찾을 수 있습니다. 

이 기본값은 (시스템 가상머신을 선택했어도) 머징을 수행할때 어떤 가상머신을 사용할지 완벽하게 관리할 목적으로 {{Path|/etc/java-config-2/build/jdk.conf}}에 덮어쓸 수 있습니다.

sun-jdk를 항상 활용하려면:

{{FileBox|filename=/etc/java-config-2/build/jdk.conf|title=sun-jdk 요구|1=
*=sun-jdk
}}

또는 분명하게 가상머신 1.4 또는 1.3이 분명하게 필요한 경우를 빼고, 어디서든 항상 sun-jdk-1.5를 사용하려면:

{{FileBox|filename=/etc/java-config-2/build/jdk.conf|title=1.5VM에 대해 sun-jdk-1.5 요구|1=
*=sun-jdk-1.5
}}

또는 가상머신 1.3을 요청하는 상황에서 <code>sun-jdk-1.4</code>가 필요하고 ibm-jdk-bin으로 돌아가려는, 다른 버전과 다른 제공 회사의 가상 머신을 사용한다면:

{{FileBox|filename=/etc/java-config-2/build/jdk.conf|title=다중 수식 활용|1=
1.3=sun-jdk-1.4 ibm-jdk-bin
1.5=sun-jdk
}}


{{Warning|이 파일은 편집''하면'' 안됩니다. 지원하지 않는 가상머신을 사용한다고 옵션이 바뀌면, 기능이 동작하지 않을 수 있습니다. 가상머신이 여러 종류가 있는데, 모든 가상 머신에 대해 모든 꾸러미를 빌드할 경우 자원을 시험하고 검증할 수 없습니다. 지원하지 않는 가상머신에 대해 보고한 버그는 지원하는 현재 가상머신에 대한 버그만큼 우선순위에 두신 않습니다.}}

== 컴파일러 ==

The standard Java compiler used for building is {{c|javac}}, which comes with each JDK. In addition to configuring the VM used at build time, it is also possible configure which compiler is used. Essentially, define a list with preference for which compiler to use in {{Path|/etc/java-config-2/build/compilers.conf}}. 

{{FileBox|filename=/etc/java-config-2/build/compilers.conf|title=컴파일러 기본 설정|1=
COMPILERS="ecj-X.Y jikes javac"
}}

일부 컴파일러는 모든 <code>-target</code>과 <code>-source</code> 인자를 지원하지 않습니다. 따라서 목록의 각 컴파일러에서 원하는 <code>-source</code>/<code>-target</code>을 지원하는지 확인하십시오. javac는 모든 경우에 동작하므로 적당한 컴파일러가 없으면 이걸 대신 사용하면 됩니다. 

각 컴파일러에 대한 자세한 내용은 아래에 있습니다: 

{| class="table table-condensed table-striped" style="text-align: left;" 
|- 
! Name
! Handle
! Package
! Description
|- 
| javac
| javac
| N/A
| This is the default compiler that will be used, and comes with each JDK.
|- 
| jikes
| jikes
| dev-java/jikes
| Jikes was originally developed by IBM. Anecdotally, it is generally quicker than javac. Note however, that it is more pedantic, and will fail under a few circumstances where javac has no issue. It also does not support Java 1.5 syntax yet.
|- 
| Eclipse Compiler for Java
| ecj
| dev-java/eclipse-ecj
| ECJ is the compiler used by the Eclipse software development kit. It is very full featured, and is pretty fast. It does support Java 1.5 syntax.
|-
|}

== 기본 CLASSPATH 값 설정 ==

{{Warning|The options explained in this section should be considered deprecated and will most likely be removed in the future. It is strongly recommended against using these, because Java projects or applications should ideally manage their own classpaths. When choosing to specify a default <var>CLASSPATH</var>, some applications may behave unexpectedly, because classes they were not expecting to be on the classpath.}}

{{c|java-config}} can also be used to set a system-wide default <var>CLASSPATH</var>, as well a user-specific default <var>CLASSPATH</var>. 

First, list available Java libraries installed on the system to possibly put in the <var>CLASSPATH</var> variable. Here is an example of output: 

{{RootCmd|java-config --list-available-packages|output=<pre>
[xerces-2] The next generation of high performance, fully compliant XML parsers in the Apache Xerces family (/usr/share/xerces-2/package.env)
[junit] Simple framework to write repeatable tests (/usr/share/junit/package.env)
[bsh] BeanShell: A small embeddable Java source interpreter (/usr/share/bsh/package.env)
[bcel] The Byte Code Engineering Library: analyze, create, manipulate Java class files (/usr/share/bcel/package.env)
[log4j] A low-overhead robust logging package for Java (/usr/share/log4j/package.env)
...
</pre>
}}

Again, the names in brackets ([]) are the IDs to pass to {{c|java-config --set-system-classpath}}. Here is an example: 


{{RootCmd|java-config --set-system-classpath log4j,xerces-2}}

{{Note | 현재 디렉터리 ({{Path|.}})는 시스템 로그인 프로파일로 추가할 수 없으므로 시스템 클래스 경로의 일부가 아닙니다.}}

Update the environment by logging out, then in again or by typing {{c|source {{Path|/etc/profile}}}} 

사용자별 설정시 {{c|java-config --set-user -classpath}} 명령으로 {{Path|~/.gentoo/java-env-classpath}}를 만들고 쉘 프로파일로 source 명령을 처리합니다. 

{{CodeBox|title=지정 클래스경로 가져오기|1=
if [[ -f "${HOME}/.gentoo/java-env-classpath" ]]; then
       source ${HOME}/.gentoo/java-env-classpath
fi
}}

시스템 전체 또는 사용자별 기본 클래스 경로에서 다음과 같이 쉘 프로파일에 추가하려 할 때를 가정해보겠습니다. 다음 처럼 해보십시오: 

{{RootCmd|export CLASSPATH{{=}}"${CLASSPATH}:$(java-config --classpath log4j,xerces-2)"}}

== Java browser plugins ==

=== 플러그인 설치 ===

<code>nsplugin</code> USE 플래그를 설정하면 Java VM을 이머징할 때 웹 브라우저용 Java 플러그인도 설치할 수 있습니다.

{{Note|<code>nsplugin</code> is not available for all architectures. Check for available plugins for the specific arch before trying to install a VM by running {{c|emerge -pv <java-vm>}}}}

웹 브라우저당 Java 플러그인을 하나 쓸 수 있긴 하지만, 포티지는 Java 플러그인을 여러개의 버전으로 설치할 수 있습니다. 다음 명령을 실행하여 사용할 수 있는 플러그인 목록을 확인해보세요: 

{{RootCmd|eselect java-nsplugin list|output=<pre>
   [1]   sun-jre-bin-1.6
   [2]   icedtea-bin
</pre>
}}

In this example, {{c|sun-jre-bin}} is selected for the browser plugin. 

{{RootCmd|eselect java-nsplugin set sun-jre-bin-1.6}}

올바른 플러그인을 선택했는지 확인하십시오: 

{{RootCmd|eselect java-nsplugin list|output=<pre>
   [1]   sun-jre-bin-1.6  current
   [2]   icedtea-bin
</pre>
}}

Java.com also provides a link to [http://java.com/en/download/installed.jsp verify the installed plugin]. Additionally, if a Mozilla-based browser is being used, verification of the Java plugin can be performed by typing {{c|about:plugins}} into the address bar.

=== multilib 시스템에 플러그인 설치하기 ===

If running a mixed 64-bit and 32-bit multilib system (for example, on {{Keyword|amd64}}), use both 64-bit and 32-bit Java plugins. Unless there is a pressing need to run 32-bit Java applications, users have been recommended to use native 64-bit plugins on 64-bit web browsers. 

몇가지 64비트 브라우저 플러그인이 있습니다. 기본 JDK/JRE에 있는 <code>sun-jdk</code> 와 <code>sun-jre-bin</code>에 브라우저 플러그인이 있습니다. <code>nsplubin</code> USE 플래그를 활성화한 후 이 중 하나를 이머지하십시오. 

{{RootCmd|echo "dev-java/sun-jre-bin nsplugin" >> /etc/portage/package.use
|emerge sun-jre-bin}}

32비트 브라우저에서 32비트 플러그인을 사용하려면, <code>nsplugin</code> USE 플래그를 활성화 한 상태에서 {{Package|app-emulation/emul-linux-x86-java}} 꾸러미를 이머지해야합니다. 

{{RootCmd|echo "app-emulation/emul-linux-x86-java nsplugin" >> /etc/portage/package.use
|emerge emul-linux-x86-java}}

다음 어떤 플러그인이 있는지 확인하십시오: 

{{RootCmd|eselect java-nsplugin list|output=<pre>
Available 32-bit Java browser plugins
  [1]   emul-linux-x86-java-1.5
  [2]   emul-linux-x86-java-1.6
Available 64-bit Java browser plugins
  [1]   icedtea-bin
  [2]   sun-jre-bin-1.6
</pre>
}}

이제 브라우저에 쓸 올바른 플러그인을 선택하십시오: 

{{RootCmd|eselect java-nsplugin set 32bit emul-linux-x86-java-1.6
|eselect java-nsplugin set 64bit sun-jre-bin-1.6}}

올바른 플러그인을 선택했는지 확인하십시오: 

{{RootCmd|eselect java-nsplugin list|output=<pre>
Available 32-bit Java browser plugins
  [1]   emul-linux-x86-java-1.5
  [2]   emul-linux-x86-java-1.6  current
Available 64-bit Java browser plugins
  [1]   icedtea-bin
  [2]   sun-jre-bin-1.6  current
</pre>
}}

== Java에서 사용할 USE 플래그 ==

=== USE 플래그 설정 ===

For more information regarding [[USE flag]]s, refer to the USE flags chapter from the [[Handbook:X86/Working/USE|Gentoo Handbook]].

=== USE flags ===

* The [https://packages.gentoo.org/useflags/java <code>java</code>] flag adds support for Java in a variety of programs;
* The [https://packages.gentoo.org/useflags/nsplugin <code>nsplugin</code>] flag adds support for Mozilla-like browsers (including Firefox). This is needed for viewing Java applets in a Mozilla-like browser;
* The [https://packages.gentoo.org/useflags/jce <code>jce</code>] flag adds support for the Java Cryptography Engine;

Following USE flags go in [[Gentoo_Java_USE_flags|JAVA_PKG_IUSE]].
* The [https://packages.gentoo.org/useflags/source <code>source</code>] flag installs a zip of the source code of a package. This is traditionally used for IDEs to 'attach' source to the libraries that are being use;
* For Java packages, the [https://packages.gentoo.org/useflags/doc <code>doc</code>] flag will build API documentation using javadoc.

== 추가 참조 ==

* The [[Project:Java/User_Guide|Java User Guide]] in the Java project

== 외부 자료 ==

* The [http://news.gmane.org/gmane.linux.gentoo.java gentoo-java], [http://news.gmane.org/gmane.linux.gentoo.user gentoo-user], and [http://news.gmane.org/gmane.linux.gentoo.devel gentoo-dev] mailing list archives
* {{IRC|gentoo}} and {{IRC|gentoo-java}} on IRC
* [https://forums.gentoo.org/viewtopic-t-901036.html Java 7 and bootstrapping icedtea] on the Gentoo forums

More information can be found offline:

* {{c|man java-config}}
* {{c|java-config --help}}

이 문서와 관련한 제안이나 질문이 있으면 젠투 Java 팀의 {{Mail|java@gentoo.org}} 전자메일 주소로 문의바랍니다.

[[Category:Programming_language]]

{{Migrated|originalauthors=Joshua Nichols, Karl Trygve Kalleberg, Joshua Saddler}}
