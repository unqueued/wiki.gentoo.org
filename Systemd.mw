{{Lowercase title}}

[http://freedesktop.org/wiki/Software/systemd systemd] is a modern sysvinit & RC replacement for Linux systems. It is supported in Gentoo as an alternate init system.

= Installation =

== Prerequisites: kernel ==

systemd makes use of many modern Linux kernel features. Right now, the lower bound on kernel version is set in the ebuild to 2.6.38. In addition to that, the following kernel configuration options should be enabled:

{{Kernel|Kernel features required or suggested by systemd|<pre>
General setup  --->
    [*] Control Group support
Device Drivers --->
    Generic Driver Options  --->
        [*] Maintain a devtmpfs filesystem to mount at /dev
File systems --->
    [*] Filesystem wide access notification
    <M> Kernel automounter version 4 support (also supports v3)
Networking support --->
    Networking options --->
        TCP/IP networking --->
            <M> The IPv6 protocol
</pre>}}

== Prerequisites: udev ==

Newer versions of systemd (> 29) require newer udev than one available in Gentoo right now. In order to use them, you have to use live udev ebuild and masked systemd ebuilds:

{{RootCmd|flaggie sys-apps/systemd sys-fs/udev +**}}

You can still use systemd-29 without keywording those packages.

== Installing ==

Installing systemd is as simple as emerging {{Package|sys-apps/systemd}}.

{{RootCmd|emerge sys-apps/systemd}}

== Enabling ==

Before doing this, please [[#Configuration|configure]] systemd first.

In order to run systemd, you have to switch the ''init'' executable kernel (or your initramfs) uses.

With simple kernels, the ''init=/bin/systemd'' argument should be added to the kernel command-line. An example excerpt from ''grub.conf'' would look like:

{{File|/boot/grub/grub.conf|Example GRUB config for systemd with simple kernel|<pre>
title=Gentoo with systemd
root (hd0,0)
kernel /vmlinuz root=/dev/sda2 init=/bin/systemd
</pre>}}

When using initramfs, other command-line argument will be needed. For example, genkernel uses ''real_init='' there:

{{File|/boot/grub/grub.conf|Example GRUB config for systemd with genkernel|<pre>
title=Gentoo with systemd
root (hd0,0)
kernel /my-genkernel... root=/dev/hda2 real_init=/bin/systemd
initrd /initramfs-genkernel...
</pre>}}

= Configuration =

To be written.

[[Category:Core system]]
