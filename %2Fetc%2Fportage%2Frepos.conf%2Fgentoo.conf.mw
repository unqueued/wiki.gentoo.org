==== rsync ====

The example below shows the default set up of the main Gentoo repository. However, there is no need for having this file unless its content [[Project:Portage/Sync#Portage_configuration|deviates from]] the file found at {{Path|/usr/share/portage/config/repos.conf}}.

{{FileBox|filename=/etc/portage/repos.conf/gentoo.conf|title=Rsync example|lang=ini|1=
[DEFAULT]
main-repo = gentoo

[gentoo]
location = /usr/portage
sync-type = rsync
sync-uri = rsync://rsync.gentoo.org/gentoo-portage
auto-sync = yes
}}

For a setup using <code>sync-type</code> <code>websync</code> (<=portage-2.2.18), <code>webrsync</code> (>=portage-2.2.19), see the [[:/etc/portage/repos.conf/webrsync.conf|webrsync.conf]] article.

==== git ====

As of [https://www.gentoo.org/news/2015/08/12/git-migration.html August 17th, 2015] Gentoo has officially made the transition from {{c|cvs}} to {{c|git}} as the version control system (VCS) for the main Gentoo repository. It is now officially possible to start using {{c|git}} (instead of {{c|rsync}}) to sync the main Gentoo repository.

Make sure Portage is at the latest version (2.2.20+), then update the system's {{Path|gentoo.conf}} with the following content:

{{FileBox|filename=/etc/portage/repos.conf/gentoo.conf|title=GitHub Git example|lang=ini|1=
[DEFAULT]
main-repo = gentoo

[gentoo]
location = /usr/portage
sync-type = git
sync-uri = git://github.com/gentoo/gentoo.git
auto-sync = yes
}}

Nuke the old Portage files:

{{RootCmd|rm -rfv /usr/portage/* /usr/portage/.*}}

Finally, sync the system using the {{c|emerge}} command:

{{RootCmd|emerge --sync}}
