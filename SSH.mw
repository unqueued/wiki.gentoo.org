'''SSH''' ('''Secure SHell''') is an encrypted terminal program that replaces the classic ''telnet'' tool on Unix-like operating systems.

In addition to remote terminal access provided by the main ''ssh'' binary, the SSH suite of programs has grown to include other tools such as ''scp'' (in very common use) and ''sftp'' (less common).

Originally, SSH was not free.  However, today the most popular and de-facto standard version of SSH is [http://www.openbsd.org/ OpenBSD]'s [[OpenSSH]], which comes pre-installed on Gentoo.

==Running OpenSSH==
===Server===
The OpenSSH server can be controlled like any other [[OpenRC]]-managed service, with ''/etc/init.d/ssh start'', ''/etc/init.d/ssh stop'', and ''/etc/init.d/ssh restart''.

Note that active connections to the server remain unaffected when issuing ''/etc/init.d/ssh restart'', whereas running ''/etc/init.d/ssh stop'' followed by ''/etc/init.d/ssh start'' may cause disconnection.

==Configuring OpenSSH==
===General configuration===
====Server configuration====
The SSH server is usually configured in the ''/etc/ssh/sshd_config'' file, though it is also possible to perform further configuration in [[OpenRC]]'s ''/etc/conf.d/sshd'', including changing the location of the former.  For detailed information on how to configure the server, use ''man sshd_config''.
====Client configuration====
The ''ssh'' client and related programs (''scp'', ''sftp'', etc.) are configured in the ''/etc/ssh/ssh_config'' file.  For more information on how to configure these programs, ''man ssh_config''.

===Troubleshooting===
====Death of Long-lived Connections====
Many internet access devices perform network address translation ([[NAT]]), a process that enables devices on a private network such as that typically found in a home or business place to access foreign networks, such as the internet, despite only having a single IP address on that network.  Unfortunately, not all NAT devices are created equal, and some of them incorrectly close long-lived, occasional-use [[TCP]] connections such as those used by SSH.  This is generally observable as a sudden inability to interact with the remote server, though the ''ssh'' client program has not exited.

In order to resolve the issue, OpenSSH clients and servers can be configured to send a 'keep alive', or invisible message aimed at maintaining and confirming the live status of the link.
*To enable keep alive '''for all clients connecting to your local server''', set ''ClientAliveInterval 30'' (or some other value, in seconds) within the ''/etc/ssh/sshd_config'' file.
*To enable keep alive '''for all servers connected to by your local client''', set ''ServerAliveInterval 30'' (or some other value, in seconds) within the ''/etc/ssh/ssh_config'' file.

==See also==
*[https://dev.gentoo.org/~swift/docs/security_benchmarks/openssh.html Securing OpenSSH], Gentoo developer documentation.

==External resources==
*[http://www.openssh.org/ OpenSSH] official page


[[Category:Server and Security]]
