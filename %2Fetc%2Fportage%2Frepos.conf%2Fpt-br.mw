<noinclude><languages/></noinclude>
{{Path|/etc/portage/repos.conf}} é o diretório de repositórios como o Gentoo [https://gitweb.gentoo.org/repo/gentoo.git/tree/ Portage tree] ou [[Overlay|overlays]] utilizado no sistema. Pode ser um arquivo ou diretório de arquivos que especifica informações de configuração específicas do repositório.

== Formato ==

{{Note|Portage pode lidar com {{Path|repos.conf}} enquanto como um arquivo ou um diretório de arquivos. O método preferido para ser usado é um '''diretório'''. Outras ferramentas como {{c|layman}} e {{c|mirrorselect}} exigem e esperam que seja um diretório. Layman cria e gerencia seu próprio arquivo {{Path|layman.conf}} para registrar os overlays instalados com o Portage. {{c|mirrorselect}} procura pelo arquivo {{Path|repos.conf/gentoo.conf}} a fim de modificar o parâmetro <code>sync-uri</code> para o repositório Gentoo.}}

* Comentários começam com <code>#</code> (não há comentários incorporados).
* A configuração de cada repositório é especificada em um arquivo ou seção separada começando com <code>[repository_name]</code>. Recomenda-se que <code>[repository_name]</code> seja o mesmo que o nome fornecido no arquivo [[Repository_format|repo_name]].
* Atributos são especificados no formato <code>attribute = value</code>.

== Atributos suportados na seção default ==

{| class="table table-condensed"
|-
! Atributo !! Descrição
|-
| <code>main-repo</code> || Especifica o repositório principal.
|-
| <code>eclass-overrides</code> || Faz com que todos os repositórios herdem eclasses dos repositórios especificados. Definir este atributo geralmente não é recomendado uma vez que resultando em mudanças na herança eclass pode desencadear problemas de desempenho devido à invalidação da cache de metadados. Quando o atributo <code>force = eclass-overrides</code> não está definido, {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}} ignoram este atributo, uma vez que as operações realizadas por estas ferramentas não são inerentemente específicas do local.
|-
| <code>force</code> || Especifica os nomes de atributos, que devem ser respeitados forçadamente por {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}}. Valores válidos: <code>aliases</code>, <code>eclass-overrides</code> e <code>masters</code>.
|}

== Atributos suportados na seção de repositórios ==

{| class="table table-condensed"
|-
! Atributo !! Descrição
|-
| <code>aliases</code> || Especifica aliases de determinado repositório. Definir este atributo geralmente não é recomendado uma vez que resultando em mudanças na herança eclass pode desencadear problemas de desempenho devido à invalidação da cache de metadados. Quando o atributo <code>force = eclass-overrides</code> não está definido, {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}} ignoram este atributo, uma vez que as operações realizadas por estas ferramentas não são inerentemente específicas do local.
|-
| <code>auto-sync</code> || Esta definição determina se o repositório será sincronizado durante a execução do {{c|emerge --sync}} ou {{c|emaint sync --auto}}. Isto permite que os repositórios sejam sincronizados apenas quando desejado via {{c|emaint sync --repo foo}}. Valores válidos: <code>yes</code>, <code>no</code>, <code>true</code>, <code>false</code>. Se não estiver configurado, o repositório será tratado como definido <code>yes</code>, <code>true</code>.
|-
| <code>eclass-overrides</code> || Faz com que todos os repositórios herdem eclasses dos repositórios especificados. Definir este atributo geralmente não é recomendado uma vez que resultando em mudanças na herança eclass pode desencadear problemas de desempenho devido à invalidação da cache de metadados. Quando o atributo <code>force = eclass-overrides</code> não está definido, {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}} ignoram este atributo, uma vez que as operações realizadas por estas ferramentas não são inerentemente específicas do local.
|-
| <code>force</code> || Especifica nomes de atributos, que devem ser respeitados forçadamente por {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}}. Valores válidos: <code>aliases</code>, <code>eclass-overrides</code> e <code>masters</code>.
|-
| <code>location</code> || Especifica o local dos repositórios informados.
|-
| <code>masters</code> || Especifica o repositório master dos repositórios informados. Definir este atributo geralmente não é recomendado uma vez que resultando em mudanças na herança eclass pode desencadear problemas de desempenho devido à invalidação da cache de metadados. Quando o atributo <code>force = eclass-overrides</code> não está definido, {{c|egencache}}, {{c|emirrordist}} e {{c|repoman}} ignoram este atributo, uma vez que as operações realizadas por estas ferramentas não são inerentemente específicas do local.
|-
| <code>priority</code> || Especifica a [[Overlay#Priorities|prioridade]] do repositório informado.
|-
| <code>sync-cvs-repo</code> || Especifica o repositório CVS.
|-
| <code>sync-depth</code> || Especifica clone de dependência para o repositório DVCS. O padrão é <code>1</code> (apenas para os commits mais novos). Se definido para <code>0</code> a dependência é ilimitada.
|-
| <code>sync-type</code> || Especifica o tipo de sincronização realizada pelo {{c|emerge --sync}}. Valores não vazios válidos: <code>cvs</code>, <code>git</code>, <code>rsync</code>, <code>svn</code>, <code>websync</code> (<=portage-2.2.18), <code>webrsync</code> (>=portage-2.2.19). Este atributo pode ser definido para um valor vazio para desabilitar a sincronização do repositório informado. Um valor vazio é o padrão.
<pre>Syntaxe:
cvs: [cvs://]:access_method:[username@]hostname[:port]:/path
git: (git|git+ssh|http|https)://[username@]hostname[:port]/path
rsync: (rsync|ssh)://[username@]hostname[:port]/(module|path)
</pre>
|-
| <code>sync-user</code> || Especifica as credenciais usadas para executar a sincronização. Se apenas usuário é fornecido, será utilizado o grupo principal do usuário. Se apenas o grupo é fornecido, o usuário atual será preservado e apenas a identidade do grupo será alterado. Esta chave tem precedência sobre <code>FEATURES=userpriv</code>. Se o id do usuário ou grupo é fornecido, Portage não mais usará o dono do diretório.
<pre>Syntax: [user][:group]</pre>
|}

== Exemplos ==

==== Repositório principal do Gentoo ====

{{:/etc/portage/repos.conf/gentoo.conf}}

=== Overlay local ===

{{:/etc/portage/repos.conf/local.conf}}

Para maiores informações veja o artigo [[Overlay/Local_overlay]].

=== Overlay externo ===

{{:/etc/portage/repos.conf/brother-overlay.conf/en}}

=== repos.conf como um único arquivo ===

For an example of {{Path|repos.conf}} as a monolithic file, run this command and search for the {{Path|repos.conf}} section:

{{Cmd|man 5 portage}}

== Listing repositories ==

To see a compact list of repositories, sorted by ascending priority numbers and formatted for easy reading:

{{Cmd|emerge --info --verbose {{!}} sed -n '/^Repo/,/^ABI/p' {{!}} head -n -1}}

To see a detailed list of repositories, without any formatting:

{{Cmd|portageq envvar PORTAGE_REPOSITORIES}}

== See also ==

* [[Handbook:Parts/Working/Features#Validated_Portage_tree_snapshots|Validated Portage tree snapshots]] in the [[Handbook:Main_Page|Gentoo Handbook]]
* [[Project:Portage/Sync|Overview over the new Portage sync system]]
* [[Layman#repos.conf_method_.28default.29|Layman - Using 'repos.conf' method]] in the [[Layman]] article
* [[Project:Overlays/Overlays_guide|Overlays user guide]]
* [[Repository_format|Repository format]]
* [[Project:Repository mirror and CI|Repository mirror and Continuous Integration]]
* [[Portageq#Query repository information|Query repository information]] in the [[Portageq]] article

== External resources ==

* [https://www.gentoo.org/support/news-items/2015-02-04-portage-sync-changes.html Portage Sync news announcement (2015-02-04)]


[[Category:Portage]]
