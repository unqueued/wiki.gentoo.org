<noinclude><languages/></noinclude>
{{Path|/etc/portage/repos.conf}} is a file or directory which specifies the location and settings for the repositories used by the current system. It refers to the main Gentoo [https://gitweb.gentoo.org/repo/gentoo.git/tree/ Portage tree] and perhaps [[Overlay|overlays]] used on a system.

== Formato ==

{{Note|Portage pode lidar com {{Path|repos.conf}} enquanto como um arquivo ou um diretório de arquivos. O método preferido para ser usado é um '''diretório'''. Outras ferramentas como {{c|layman}} e {{c|mirrorselect}} exigem e esperam que seja um diretório. Layman cria e gerencia seu próprio arquivo {{Path|layman.conf}} para registrar os overlays instalados com o Portage. {{c|mirrorselect}} procura pelo arquivo {{Path|repos.conf/gentoo.conf}} a fim de modificar o parâmetro <code>sync-uri</code> para o repositório Gentoo.}}

* Comentários começam com <code>#</code> (não há comentários incorporados).
* A configuração de cada repositório é especificada em um arquivo ou seção separada começando com <code>[repository_name]</code>. Recomenda-se que <code>[repository_name]</code> seja o mesmo que o nome fornecido no arquivo [[Repository_format|repo_name]].
* Atributos são especificados no formato <code>attribute = value</code>.

== Atributos suportados na seção default ==

{| class="table table-condensed"
|-
! Attribute !! Description
|-
| <code>main-repo</code> || Specifies main repository.
|-
| <code>eclass-overrides</code> || Makes all repositories inherit eclasses from the specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.<br><br>The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the portage tree). This behavior can be overruled by setting <code>force = eclass-overrides</code>.
|-
| <code>force</code> || Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.
|}

== Atributos suportados na seção de repositórios ==

{| class="table table-condensed"
|-
! Attribute !! Description
|-
| <code>aliases</code> ||  Specifies aliases of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache. <br><br>The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the portage tree). This behavior can be overruled by setting <code>force = aliases</code>.
|-
| <code>auto-sync</code> || This setting determines if the repo will be synced during {{c|emerge --sync}} or {{c|emaint sync --auto}} runs. This allows for repositories to be synced only when desired via {{c|emaint sync --repo foo}}. Valid values: <code>yes</code>, <code>no</code>, <code>true</code>, <code>false</code>. If unset, the repo will be treated as set <code>yes</code>, <code>true</code>.
|-
| <code>eclass-overrides</code> || Makes all repositories inherit eclasses from specified repositories. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.<br><br>The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the portage tree). This behavior can be overruled by setting <code>force = eclass-overrides</code>.
|-
| <code>force</code> || Specifies names of attributes, which should be forcefully respected by {{c|egencache}}, {{c|emirrordist}}, and {{c|repoman}}. Valid values: <code>aliases</code>, <code>eclass-overrides</code>, and <code>masters</code>.
|-
| <code>location</code> ||  Specifies location of given repository.
|-
| <code>masters</code> || Specifies master repositories of given repository. Setting this attribute is generally not recommended since resulting changes in eclass inheritance may trigger performance issues due to invalidation of metadata cache.<br><br>The {{c|egencache}}, {{c|emirrordist}} and {{c|repoman}} tools ignore this parameter by default as their operations are generally not site-specific (their operations are focused on the global, non-customized aspects of portage and the portage tree). This behavior can be overruled by setting <code>force = masters</code>.
|-
| <code>priority</code> || Specifies [[Overlay#Priorities|priority]] of given repository.
|-
| <code>sync-cvs-repo</code> || Specifies CVS repository.
|-
| <code>sync-depth</code> || Specifies  clone  depth to use for DVCS repositories. Defaults to <code>1</code> (only the newest commit). If set to <code>0</code>, the depth is unlimited.
|-
| <code>sync-type</code> || Specifies type of synchronization performed by {{c|emerge --sync}}. Valid non-empty values: <code>cvs</code>, <code>git</code>, <code>rsync</code>, <code>svn</code>, <code>websync</code> (<=portage-2.2.18), <code>webrsync</code> (>=portage-2.2.19). This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
|-
| <code>sync-umask</code> || Specifies umask used to synchronize the repository. Takes an octal permission mask, e.g. <code>022</code>.
|-
| <code>sync-uri</code> || Specifies URI of repository used for synchronization performed by {{c|emerge --sync}}. This attribute can be set to empty value to disable synchronization of given repository. Empty value is default.
<pre>Syntax:
cvs: [cvs://]:access_method:[username@]hostname[:port]:/path
git: (git|git+ssh|http|https)://[username@]hostname[:port]/path
rsync: (rsync|ssh)://[username@]hostname[:port]/(module|path)
</pre>
|-
| <code>sync-user</code> || Specifies the credentials used to perform the synchronization. If only user is provided, the primary group of the user will be used.  If only group is  provided, the current user will be preserved and only the group id will be changed. This key takes precedence over <code>FEATURES=userpriv</code>. If user or group id is provided, Portage no longer uses owner of the directory.
<pre>Syntax: [user][:group]</pre>
|}

== Exemplos ==

==== Repositório principal do Gentoo ====

{{:/etc/portage/repos.conf/gentoo.conf}}

=== Overlay local ===

{{:/etc/portage/repos.conf/local.conf}}

Para maiores informações veja o artigo [[Overlay/Local_overlay]].

=== Overlay externo ===

{{:/etc/portage/repos.conf/brother-overlay.conf/en}}

=== repos.conf como um único arquivo ===

Para um exemplo de {{Path|repos.conf}} como um arquivo monolítico, execute este comando e procure pela seção {{Path|repos.conf}}:

{{Cmd|man 5 portage}}

== Listando repositórios ==

Para ver uma lista compacta de repositórios, classificados por números prioritários ascendentes e formatados para facilitar a leitura:

{{Cmd|emerge --info --verbose {{!}} sed -n '/^Repo/,/^ABI/p' {{!}} head -n -1}}

Para ver uma lista detalhada de repositórios, sem qualquer formatação:

{{Cmd|portageq envvar PORTAGE_REPOSITORIES}}

== Veja também ==

* [[Handbook:Parts/Working/Features#Validated_Portage_tree_snapshots|Validated Portage tree snapshots]] no [[Handbook:Main_Page|Gentoo Handbook]]
* [[Project:Portage/Sync|Overview over the new Portage sync system]]
* [[Layman#repos.conf_method_.28default.29|Layman - Using 'repos.conf' method]] no artigo [[Layman]]
* [[Project:Overlays/Overlays_guide|Overlays user guide]]
* [[Repository_format|Repository format]]
* [[Project:Repository mirror and CI|Repository mirror and Continuous Integration]]
* [[Portageq#Query repository information|Query repository information]] no artigo [[Portageq]]

== Recursos externos ==

* [https://www.gentoo.org/support/news-items/2015-02-04-portage-sync-changes.html Portage Sync news announcement (2015-02-04)]


[[Category:Portage]]
