<languages />
{{InfoBox stack
|{{InfoBox gdoc|Overlays|text=Overlays Gentoo Project|header=true}}
}}

젠투 리눅스의 모든 사용자에게는 기본적으로 "포티지 트리"라는 주 패키지 저장소가 주어집니다. 이 저장소는 젠투 개발자들이 관리하는 모든 소프트웨어 패키지(이빌드로 불리기도 하는)들을 포함하고 있습니다. 
또한, 사용자들은 이 주 저장소와 더불어 오버레이라고 불리는 추가 저장소들을 함께 사용할 수 있습니다.

사실 패키지 저장소는 단순히 여러 파일 모음에 지나지 않습니다. 따라서, git이나 svn 등을 이용하여 공개된 저장소에서 받아오거나, 타르볼을 다운로드 받아 직접 해제를 하는 것만으로도 쉽게 오버레이를 추가할 수 있습니다. 하지만 신뢰할만한 사람/단체들이 검증한, 잘 관리되는 오버레이들만 추가할 것을 권장합니다. 만약, 오버레이에 취약점이 포함된 패키지를 포함하고 있다면, 당신의 시스템을 위험에 빠트릴 수도 있습니다.

== 저장소 ==

추가 꾸러미 트리는 ''저장소''에서 보통 제공합니다. 이들은 젠투 시스템과 붙을 준비가 된 오버레이입니다. 현재는 {{Path|[[:/etc/portage/repos.conf]]}} 파일에서 포티지 관련 수많은 위치 저장소를 처리하는 접근 방식이 기본이며, 언급한 경로는 디렉터리가 될 수도 있습니다.

오래됐지만 여전히 지원하는 방식은 {{Path|/etc/portage/make.conf}}에서 <var>PORTDIR_OVERLAY</var> 변수를 사용하는 방법입니다. 이 변수는 저장소(정보)가 있는 파일 시스템에 있는 하나 이상의 추가 위치를 가리킬 수 있습니다. {{Path|/etc/portage/repos.conf/}} 디렉터리 사용을 가장 선호합니다.

{{Path|/etc/portage/repos.conf/}}의 저장소 정의를 통해 저장소를 업데이트할 수 있을지 어떻게 업데이트할 수 있을지 포티지에 알려주기도 합니다. {{c|emerge --sync}}를 호출하면 저장소도 마찬가지로 자동으로 업데이트합니다.

더 많은 정보는 [[:/etc/portage/repos.conf|/etc/portage/repos.conf]]와 [[Project:Portage/Sync#Operation|Portage/Sync article]] 게시글을 참고하십시오.

=== 우선순위 ===

각각의 오버레이에는 유일의 우선순위가 있습니다. 여러 오버레이에 특정 버전을 발견했을 경우 확인하며, 해결 방법은 혼란스럽지 않습니다. 높은 우선순위를 지닌 오버레이의 이빌드는 낮은 우선순위를 가진 오버레이의 이빌드보다 우선합니다.

우선순위가 붙은 오버레이 목록은 (''Repositories'' 문자열로 찾아서) 다음 목록 출력으로 볼 수 있습니다:

{{Cmd|emerge --info --verbose}}

기본 젠투 포티지 트리는 -1000 우선순위를 갖습니다. 이는 다른 오버레이에 보통 할당하는 우선순위보다 훨씬 높은 우선순위를 배당한다는 의미입니다. 오버레이를 포티지 트리 "위에 눕혀놓은" 방식으로 설계했기 때문에 이런 동작은 기본입니다.

== 지원 도구 ==

오버레이를 지원하거나 오버레이에 붙는 도구는 여러가지가 있습니다.

=== Layman ===

{{c|layman}} 프로그램은 여러 추가 오버레이를 쉽게 관리하고 업데이트할 수 있게 합니다. 공개 오버레이를 조회하고, 가입하거나, 탈퇴하며, 이들 저장소를 업데이트할 수 있는 명령줄 프로그램입니다. 

{{Path|[[Layman#Using_.27make.conf.27_method_.28older_method.29|make.conf]]}} 방식과  {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|repos.conf]]}} 방식을 모두 지원합니다.
* {{Path|[[Layman#Using_.27make.conf.27_method_.28older_method.29|make.conf]]}} 방식을 활용하는 경우, {{Path|make.conf}}에 위치 지정할 제공 설정 파일을 <tt>layman</tt> 에서 관리합니다.
* {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|repos.conf]]}} 방식을 활용한다면, <tt>layman</tt> 에서 {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|/etc/portage/repos.conf/layman.conf]]}} 파일을 직접 관리합니다

더 많은 정보는 [[Layman]]<sup style="color: #ff0077">en</sup>과 [[Project:Portage/Sync#Layman_configuration|Layman 설정]]<sup style="color: #ff0077">en</sup>을 참고하십시오

=== emaint ===

[[Project:Portage/Sync#Operation]]<sup style="color:#ff0077">en</sup>과 {{c|man 1 emaint}}를 참고하십시오.

=== eix ===

{{c|eix-sync}}는 {{e|eix-update}}를 연달아 실행할 {{c|emerge --sync}}를 시작({{c|emaint sync --auto}} 시작)하는 래퍼입니다. 더 자세한 내용은 [[Eix]] 글과 {{c|man 1 eix}}를 참고하십시오.

== 모범 사례 ==

=== 캐시 만들기 ===

거대 오버레이를 설치하면, 포티지에서 의존성 확인과 같은 작업을 처리하는데 오랜 시간이 걸릴 수 있습니다. 보통 오버레이가 메타데이터 캐시를 보유하고 있지 않기 때문입니다.

오버레이를 동기화 한 후 {{c|emerge --regen}} 을 실행하여 로컬 메타데이터 캐시를 만들어야합니다:

{{RootCmd
|layman -S
|( ulimit -n 4096 && emerge --regen )}}

{{c|emerge --regen}} 작업은 오랜 시간이 걸리니 주의하십시오. rsync 사용자(대부분의 포티지 사용자)라면 서버측 캐시를 활용하여 rsync 업데이트를 수행하므로 추천하지 않습니다. rsync 사용자는 간단하게 {{c|emerge --sync}} 명령(또는 {{c|eix-sync}})을 실행하여 캐시를 다시 만들면 됩니다. 대규모 오버레이 사용자에 한해서만 {{c|emerge --regen}} 을 시도하시면 되겠습니다.

=== 안전하지 않은 오버레이 가리기 ===

알 수 없는 저질의 큰 규모의 오버레이를 활용한다면 전체 오버레이에 강 마스크를 지정하는 것이 좋은 방법입니다.

{{FileBox|filename=/etc/portage/package.mask|title=오버레이의 모든 꾸러미에 마스크 설정|lang=bash|1=
*/*::overlay-name
}}

그 다음 설치할 꾸러미의 마스크를 해제하십시오.

{{FileBox|filename=/etc/portage/package.unmask|title=오버레이의 별도 꾸러미 마스크 해제|lang=bash|1=
foo/bar::overlay-name
}}

== 추가 참조 ==

* [[Project:Overlays]]<sup style="color: #ff0077">en</sup> - 오버레이 지원 공식 젠투 프로젝트.
* [[Project:Overlays/User_Guide]]<sup style="color: #ff0077">en</sup> - 오버레이 프로젝트에서 작성한 사용자 안내서.
* [[Project:Overlays/Dev_Guide|젠투 오버레이 개발자 안내서]]<sup style="color: #ff0077">en</sup>

== 외부 자료 ==

* https://overlays.gentoo.org


[[Category:Portage]]
