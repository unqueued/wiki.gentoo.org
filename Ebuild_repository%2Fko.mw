<languages />
{{InfoBox stack
|{{InfoBox project|Overlays|header=true}}
}}

An ebuild repository, historically known as ''overlay'', is [[Article description::a structure of directories and files used to add and extend packages available to the system's package manager.]] Ebuild repositories are also used by Gentoo developers as training ground and staging area for new ebuilds. Ebuild repositories can contain ebuilds of one or more [[EAPI]]s.

젠투 리눅스에서, 사용자는 이미  [https://devmanual.gentoo.org/general-concepts/tree/ "주" 꾸러미 저장소]를 보유하고 있습니다. [https://gitweb.gentoo.org/repo/gentoo.git/tree/ 주 저장소]에는 젠투 개발자가 관리하는 모든 프로그램 꾸러미(이빌드)가 들어있습니다. 추가 꾸러미 트리는 보통 "저장소"로 제공합니다. 사용자는 시스템에 저장소(이전에 "오버레이"로 알려짐)를 추가할 수 있습니다.

== 저장소 ==

꾸러미 저장소는 [[Repository format|파일 모음]](이빌드, 메타데이터 파일, 변경 이력 항목 등)의 의미 그 이상도(그 이하도) 아닙니다. 이 파일은 공개 저장소([[Project:Portage/Sync#Portage_configuration|git, CVS, SVN ...]]) 에서 가져오거나 타르볼로 다운로드한 후 시스템에 직접 압축을 풀 수 있습니다. [https://overlays.gentoo.org 믿을 수 있는] 서드 파티 관리 저장소를 사용하시는게 좋습니다. 다른 오버레이를 설치해서 활용하면 어떤 프로그램을 설치할 지 결정할 때 ebuild 저장소로 가져온 파일을 포티지가 들여다봅니다. 미리 협의 처리가 된 코드가 ebuild 저장소에 있으면 해당 꾸러미를 시스템에 설치할 수 있습니다.

현재는 포티지 관련 여러 위치 저장소를 {{Path|[[:/etc/portage/repos.conf]]}} 파일에서 처리하는 접근 방식이 기본이며, 언급한 경로는 디렉터리가 될 수도 있습니다.

{{Path|/etc/portage/repos.conf/}}의 저장소 정의를 통해 저장소를 업데이트할 수 있을지 어떻게 업데이트할 수 있을지 포티지에 알려주기도 합니다. {{c|emerge --sync}}를 호출하면 저장소도 마찬가지로 자동으로 업데이트합니다.

오래됐지만 여전히 지원하는 방식은 {{Path|/etc/portage/make.conf}}에서 <var>PORTDIR_OVERLAY</var> 변수를 사용하는 방법입니다. 이 변수는 저장소(정보)가 있는 파일 시스템에 있는 하나 이상의 추가 위치를 가리킬 수 있습니다. {{Path|[[:/etc/portage/repos.conf]]}} 디렉터리 사용을 가장 선호합니다.

더 많은 정보는 [[:/etc/portage/repos.conf|/etc/portage/repos.conf]]와 [[Project:Portage/Sync#Operation|Portage/Sync 게시글]]을 참고하십시오.

=== 우선순위 ===

각각의 ebuild 저장소에는 유일의 우선순위가 있습니다. 여러 ebuild 저장소에 특정 버전을 발견했을 경우 확인하며, 해결 방법은 혼란스럽지 않습니다. 높은 우선순위 번호 값(예: 60)을 지닌 ebuild 저장소의 이빌드는 낮은 우선순위(예: 50)를 가진 ebuild 저장소의 이빌드보다 우선합니다.

우선순위가 붙은 ebuild 저장소 목록은 (''Repositories'' 문자열로 찾아서) 다음 출력 목록으로 볼 수 있습니다:

{{Cmd|emerge --info --verbose}}

{{Cmd|portageq repos_config /}}

기본 젠투 포티지 트리는 -1000 우선순위를 갖습니다. 이는 다른 ebuild 저장소에 보통 할당하는 우선순위보다 훨씬 높은 우선순위를 배당한다는 의미입니다. ebuild 저장소를 포티지 트리 "위에 얹어놓은" 방식으로 설계했기 때문에 이런 동작은 기본입니다.

== 가용 프로그램 ==

ebuild 저장소를 지원하거나 오버레이에 붙는 도구는 여러가지가 있습니다.

=== Layman ===

{{c|layman}} 프로그램은 여러 추가 ebuild 저장소를 쉽게 관리하고 업데이트할 수 있게 합니다. 공개 ebuild 저장소를 조회하고, 가입하거나, 탈퇴하며, 이들 저장소를 업데이트할 수 있는 명령줄 프로그램입니다. 

{{Path|[[Layman#make.conf_method_.28force_old_method.29|make.conf]]}} 방식과 {{Path|[[Layman#repos.conf_method_.28default.29|repos.conf]]}} 방식을 모두 지원합니다.
* {{Path|[[Layman#make.conf_method_.28force_old_method.29|make.conf]]}} 방식을 활용할 때는, {{c|layman}} 에서 {{Path|make.conf}}에 위치 지정한 설정 파일을 관리합니다.
* {{Path|[[Layman#repos.conf_method_.28default.29|repos.conf]]}} 방식을 활용할 때는, {{c|layman}} 에서 {{Path|[[Layman#repos.conf_method_.28default.29|/etc/portage/repos.conf/layman.conf]]}} 파일을 직접 관리합니다

더 많은 정보는 [[Layman]]<sup style="color: #ff0077">en</sup>과 [[Project:Portage/Sync#Layman_configuration|Layman 설정]]<sup style="color: #ff0077">en</sup>을 참고하십시오

=== emaint ===

[[Project:Portage/Sync#Operation|동기화(포티지 프로젝트)]]<sup style="color:#ff0077">en</sup>게시글과 {{c|man 1 emaint}}를 참고하십시오.

=== eix ===

{{c|eix-sync}}는 {{c|eix-update}}를 연달아 실행할 {{c|emerge --sync}}를 시작({{c|emaint sync --auto}} 시작)하는 래퍼입니다. 더 자세한 내용은 [[Eix]] 글과 {{c|man 1 eix}}를 참고하십시오.

== 사용법 ==

=== 중복 꾸러미 이머징 ===

ebuild 저장소를 다룰 때 제각기 다른 ebuild 저장소에서 여러 버전의 동일한 꾸러미가 있을 수 있습니다. <code>::</code> 표기법을 활용하여 특정 ebuild 저장소의 특정 꾸러미를 설치하도록 [[Portage]]에 지시하십시오:

{{Emerge|category/atom::ebuild repository-name}}

== 모범 사례 ==

=== 캐시 만들기 ===

큰 ebuild 저장소를 설치하면, 포티지에서 의존성 확인과 같은 작업을 처리하는데 오랜 시간이 걸릴 수 있습니다. 보통 ebuild 저장소에서 메타데이터 캐시를 보유하고 있지 않기 때문입니다.

ebuild 저장소를 동기화 한 후 {{c|emerge --regen}} 을 실행하여 로컬 메타데이터 캐시를 만들어야합니다:

{{RootCmd
|layman -S
|( ulimit -n 4096 && emerge --regen )}}

{{c|emerge --regen}} 작업은 오랜 시간이 걸리니 주의하십시오. rsync 사용자(대부분의 포티지 사용자)라면 서버측 캐시를 활용하여 rsync 업데이트를 수행하므로 추천하지 않습니다. rsync 사용자는 간단하게 {{c|emerge --sync}} 명령(또는 {{c|eix-sync}})을 실행하여 캐시를 다시 만들면 됩니다. 대규모 ebuild 저장소 사용자에 한해서만 {{c|emerge --regen}} 을 시도하시면 되겠습니다.

=== 안전하지 않은 ebuild 저장소가리기 ===

알 수 없는 저질의 대규모 ebuild 저장소를 활용한다면 전체 ebuild 저장소에 영구 마스크를 지정하는 것이 좋은 방법입니다.

{{FileBox|filename=/etc/portage/package.mask|title=ebuild 저장소의 모든 꾸러미에 마스크 설정|lang=bash|1=
*/*::ebuild repository-name
}}

그 다음 설치할 꾸러미의 마스크를 해제하십시오.

{{FileBox|filename=/etc/portage/package.unmask|title=ebuild 저장소의 별도 꾸러미 마스크 해제|lang=bash|1=
foo/bar::ebuild repository-name
}}

== 추가 참조 ==

* [[Project:Overlays|오버레이 프로젝트]]<sup style="color: #ff0077">en</sup> - ebuild 저장소지원 공식 젠투 프로젝트.
* [[Project:Overlays/Overlays_Guide|오버레이 안내서(오버레이 프로젝트)]]<sup style="color: #ff0077">en</sup> - 오버레이 프로젝트에서 작성한 사용자 안내서.
* [[Project:Overlays/Dev_Guide|젠투 오버레이 개발자 안내서]]<sup style="color: #ff0077">en</sup> - 이 문서는 기록 목적으로 남겨둡니다. 현재는 [[Project:Overlays/Overlays guide|오버레이 안내서]]<sup style="color:#ff0077;">en</sup>로 관리합니다.
* [[Handbook:Parts/Portage/CustomTree#Defining_a_custom_repository|개별 저장소 지정]] - 젠투 핸드북에 있는 부분

== 외부 자료 ==

* https://overlays.gentoo.org
* https://github.com/gentoo/


[[Category:Portage]]
