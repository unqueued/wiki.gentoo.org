<languages />
{{InfoBox stack
|{{InfoBox gdoc|Overlays|text=Overlays Gentoo Project|header=true}}
}}

[[Portage|포티지]] 외에  [[Package Manager Specification|꾸러미 관리자]]<sup  style="color:#ff0077">en</sup>가 젠투 꾸러미 저장소를 다룰 수 있기에 "포티지 트리"라는 단어를 바꿔야겠지만서도, 젠투 리눅스에서 사용자는 이미 이전에 비슷하게 [https://devmanual.gentoo.org/general-concepts/tree/ "포티지 트리"]라고 부르는 [https://gitweb.gentoo.org/repo/gentoo.git/tree/ "주" 꾸러미 저장소]를 설정했습니다. [https://gitweb.gentoo.org/repo/gentoo.git/tree/ 주 저장소]에는 젠투 개발자가 관리하는 모든 프로그램 꾸러미(이빌드)가 들어있습니다. 추가 꾸러미 트리는 보통 "저장소"로 제공합니다. 사용자는 주 저장소 트리에 "기대는" 추가 저장소 트리를 추가할 수 있습니다. 그래서 이름을 overlay라고 했습니다.

== 저장소 ==

꾸러미 저장소는 [[Repository format|파일 모음]](이빌드, 메타데이터 파일, 변경 이력 항목 등)의 의미 그 이상도(그 이하도) 아닙니다. 이 파일은 공개 저장소([[Project:Portage/Sync#Portage_configuration|git, cvs, svn ...]]) 에서 가져오거나 타르볼로 다운로드한 후 시스템에 직접 압축을 풀 수 있습니다. 믿을 수 있는 서드 파티에서 관리하는 저장소를 사용하시는게 좋습니다. 다른 오버레이를 설치해서 활용하면 어떤 프로그램을 설치할 지 결정할 때 overlay로 가져온 파일을 포티지가 들여다봅니다. 미리 협의 처리가 된 코드가 오버레이에 있으면 해당 꾸러미를 시스템에 설치할 수 있습니다.

현재는 포티지 관련 여러 위치 저장소를 {{Path|[[:/etc/portage/repos.conf]]}} 파일에서 처리하는 접근 방식이 기본이며, 언급한 경로는 디렉터리가 될 수도 있습니다.

{{Path|/etc/portage/repos.conf/}}의 저장소 정의를 통해 저장소를 업데이트할 수 있을지 어떻게 업데이트할 수 있을지 포티지에 알려주기도 합니다. {{c|emerge --sync}}를 호출하면 저장소도 마찬가지로 자동으로 업데이트합니다.

오래됐지만 여전히 지원하는 방식은 {{Path|/etc/portage/make.conf}}에서 <var>PORTDIR_OVERLAY</var> 변수를 사용하는 방법입니다. 이 변수는 저장소(정보)가 있는 파일 시스템에 있는 하나 이상의 추가 위치를 가리킬 수 있습니다. {{Path|[[:/etc/portage/repos.conf/]]}} 디렉터리 사용을 가장 선호합니다.

더 많은 정보는 [[:/etc/portage/repos.conf|/etc/portage/repos.conf]]와 [[Project:Portage/Sync#Operation|Portage/Sync article]] 게시글을 참고하십시오.

=== 우선순위 ===

각각의 오버레이에는 유일의 우선순위가 있습니다. 여러 오버레이에 특정 버전을 발견했을 경우 확인하며, 해결 방법은 혼란스럽지 않습니다. 높은 우선순위 번호 값(예: 60)을 지닌 오버레이의 이빌드는 낮은 우선순위(예: 50)를 가진 오버레이의 이빌드보다 우선합니다.

우선순위가 붙은 오버레이 목록은 (''Repositories'' 문자열로 찾아서) 다음 목록 출력으로 볼 수 있습니다:

{{Cmd|emerge --info --verbose}}

{{Cmd|portageq repos_config /}}

기본 젠투 포티지 트리는 -1000 우선순위를 갖습니다. 이는 다른 오버레이에 보통 할당하는 우선순위보다 훨씬 높은 우선순위를 배당한다는 의미입니다. 오버레이를 포티지 트리 "위에 눕혀놓은" 방식으로 설계했기 때문에 이런 동작은 기본입니다.

== 지원 도구 ==

오버레이를 지원하거나 오버레이에 붙는 도구는 여러가지가 있습니다.

=== Layman ===

{{c|layman}} 프로그램은 여러 추가 오버레이를 쉽게 관리하고 업데이트할 수 있게 합니다. 공개 오버레이를 조회하고, 가입하거나, 탈퇴하며, 이들 저장소를 업데이트할 수 있는 명령줄 프로그램입니다. 

{{Path|[[Layman#Using_.27make.conf.27_method_.28older_method.29|make.conf]]}} 방식과  {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|repos.conf]]}} 방식을 모두 지원합니다.
* {{Path|[[Layman#Using_.27make.conf.27_method_.28older_method.29|make.conf]]}} 방식을 활용하는 경우, {{c|layman}} 에서는 {{Path|make.conf}}에 위치 지정한 제공 설정 파일을 관리합니다.
* {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|repos.conf]]}} 방식을 활용한다면, {{c|layman}} 에서는 {{Path|[[Layman#Using_.27repos.conf.27_method_.28default_method_for_app-portage.2Flayman-2.3.0_or_later_.29|/etc/portage/repos.conf/layman.conf]]}} 파일을 직접 관리합니다

더 많은 정보는 [[Layman]]<sup style="color: #ff0077">en</sup>과 [[Project:Portage/Sync#Layman_configuration|Layman 설정]]<sup style="color: #ff0077">en</sup>을 참고하십시오

=== emaint ===

[[Project:Portage/Sync#Operation]]<sup style="color:#ff0077">en</sup>과 {{c|man 1 emaint}}를 참고하십시오.

=== eix ===

{{c|eix-sync}}는 {{c|eix-update}}를 연달아 실행할 {{c|emerge --sync}}를 시작({{c|emaint sync --auto}} 시작)하는 래퍼입니다. 더 자세한 내용은 [[Eix]] 글과 {{c|man 1 eix}}를 참고하십시오.

== 모범 사례 ==

=== 캐시 만들기 ===

거대 오버레이를 설치하면, 포티지에서 의존성 확인과 같은 작업을 처리하는데 오랜 시간이 걸릴 수 있습니다. 보통 오버레이가 메타데이터 캐시를 보유하고 있지 않기 때문입니다.

오버레이를 동기화 한 후 {{c|emerge --regen}} 을 실행하여 로컬 메타데이터 캐시를 만들어야합니다:

{{RootCmd
|layman -S
|( ulimit -n 4096 && emerge --regen )}}

{{c|emerge --regen}} 작업은 오랜 시간이 걸리니 주의하십시오. rsync 사용자(대부분의 포티지 사용자)라면 서버측 캐시를 활용하여 rsync 업데이트를 수행하므로 추천하지 않습니다. rsync 사용자는 간단하게 {{c|emerge --sync}} 명령(또는 {{c|eix-sync}})을 실행하여 캐시를 다시 만들면 됩니다. 대규모 오버레이 사용자에 한해서만 {{c|emerge --regen}} 을 시도하시면 되겠습니다.

=== 안전하지 않은 오버레이 가리기 ===

알 수 없는 저질의 큰 규모의 오버레이를 활용한다면 전체 오버레이에 강 마스크를 지정하는 것이 좋은 방법입니다.

{{FileBox|filename=/etc/portage/package.mask|title=오버레이의 모든 꾸러미에 마스크 설정|lang=bash|1=
*/*::overlay-name
}}

그 다음 설치할 꾸러미의 마스크를 해제하십시오.

{{FileBox|filename=/etc/portage/package.unmask|title=오버레이의 별도 꾸러미 마스크 해제|lang=bash|1=
foo/bar::overlay-name
}}

== 추가 참조 ==

* [[Project:Overlays]]<sup style="color: #ff0077">en</sup> - 오버레이 지원 공식 젠투 프로젝트.
* [[Project:Overlays/Overlays_Guide]]<sup style="color: #ff0077">en</sup> - 오버레이 프로젝트에서 작성한 사용자 안내서.
* [[Project:Overlays/Dev_Guide|젠투 오버레이 개발자 안내서]]<sup style="color: #ff0077">en</sup>

== 외부 자료 ==

* https://overlays.gentoo.org
* https://github.com/gentoo/


[[Category:Portage]]
