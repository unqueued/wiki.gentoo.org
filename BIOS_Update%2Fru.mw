Производитители оборудования часто предоставляют обновления для своих BIOS и встроенного ПО. Чтобы обновить BIOS (часто упоминается как перепрошивка) иногда требуется поработать. {{Warning|Если оборудование работает, зачастую нет необходимости обновления BIOS. Если что-то пойдет не так, это может привести к неисправимому повреждению вашего BIOSа, и вы можете потерять гарантию}}

== Получение BIOS ==
Вначале нужно найти название производителя и модели материнской платы. Проверьте руководство пользователя, которое поставляются вместе с компьютером, как правило, там вы найдете все что вам нужно.

Вы также можете использовать {{package|sys-apps/dmidecode}} для получения информации.

{{RootCmd|dmidecode -t bios}}

Наконец, если у вас есть прямой доступ к компьютеру, вы можете найти необходимую информацию на материнской плате {{Warning| вы можете потерять гарантию, после этого}}.

После поиска на сайте производителя вы можете получить обновления BIOS, в виде zip, exe или iso файлов. 

{{cmd|unzip 7235v1A.zip
 Archive:  7235v1A.zip
   creating: 7235v1A/
 inflating: 7235v1A/7235v1x.txt
 inflating: 7235v1A/AWFL865.EXE
 inflating: 7235v1A/How to flash the BIOS.DOC
 inflating: 7235v1A/W7235IMS.1A0}}

== BIOS Вариант ==
Многие BIOS имеют возможность прочитать новый образ (в двоичном формате) с внешнего флэш накопителя или дискеты. Все, что вам нужно сделать, это пойти в настройках BIOS и поискать эту возможность в меню .

== Boot-CD ==! N! Часто manufaturer предлагает CD-Rom изображение для загрузки в качестве загрузочного носителя. Файл должен иметь расширение ISO, чтобы записать образ на пустой CD-R:.! N! {{RootCmd | Cdrecord BOOT-cd.iso}} N! {{Note|Cdrecord является частью пакета {{Package|app-cdr/cdrtools}} }}! N! Теперь вы можете выбрать в BIOS загрузку с компакт-диска и следуйте инструкциям на веб-сайте производителя.

== FreeDOS / SystemRescueCD ==
SystemRescueCD поставляется с версией FreeDOS, мы можем заменить исходный образ и создать загрузочный флэш-накопитель, который содержит необходимые программы для прошивки нашего BIOS'a.

=== Installation ===
First we need to install and download the required software and enable the loopback device in our kernel:
{{Kernel|enable loopback device|<pre>
Device Drivers  --->
    [*] Block devices  --->
        <M>   Loopback device support</pre>}}
If the module isn't loaded yet:
{{RootCmd|modprobe loop}}
Install required software ({{Package|dev-lang/nasm}}, {{Package|app-arch/unzip}} and {{Package|sys-fs/dosfstools}}:
{{RootCmd|emerge -av dev-lang/nasm app-arch/unzip sys-fs/dosfstools}}
Download SystemRescueCD and FreeDOS:
* [http://www.sysresccd.org/Download SystemRescueCD] - download the normal ISO image
* [http://www.ibiblio.org/pub/micro/pc-stuff/freedos/files/distributions/1.0/ FreeDOS] - download the fdboot.img file
* [http://www.ibiblio.org/pub/micro/pc-stuff/freedos/files/dos/sys/sys-freedos-linux/ FreeDOS bootsector] - download the file sys-freedos-linux.zip
* The DOS-Flash program and new BIOS from your manufacturers website

=== Create Bootable Memory Stick ===
We use the default method to create the SystemRescueCD boot medium, the script usb_inst.sh will guide through the installation.
{{Warning|This will delete any data on the memory stick}}
Create the folder in /mnt:
{{RootCmd|mkdir /mnt/SysRescueCD}}
Mount the cd image:
{{RootCmd|mount -o loop systemrescuecd-x86-VERSION.iso /mnt/SysRescueCD}}
Start the installation script:
{{RootCmd|/mnt/SysRescueCD/usb_inst.sh}}
Unmount the cd image:
{{RootCmd|umount /mnt/SysRescueCD}}
=== Create Custom FreeDOS Image ===
The default FreeDOS image on the SystemRescueCD is too small to hold any additional files, so we create our own image.
Create an image file of ~20MB using dd(the name needs to be freedos.img to replace the one on the SystemRescueCD):
{{RootCmd|<nowiki>dd if=/dev/zero of=freedos.img bs=1024 count=20480</nowiki>}}
Write a file system to the image:
{{RootCmd|mkfs.msdos freedos.img}}
Write the bootsector to the image file:
{{RootCmd|<nowiki>unzip sys-freedos-linux.zip && sys-freedos.pl --disk=freedos.img</nowiki>}}
Now we need to copy the FreeDOS files to our new image.<br>
Create the mountpoints:
{{RootCmd|mkdir -p /mnt/freedos /mnt/freedos_new}}
Mount the original image:
{{RootCmd|mount -o loop fdboot.img /mnt/freedos}}
Create a loopback device for our new image (we assume /dev/loop1 isn't in use):
{{RootCmd|losetup /dev/loop1 freedos.img}}
Mount the new image:
{{RootCmd|mount /dev/loop1 /mnt/freedos_new}}
Copy the FreeDOS system files to our new image:
{{RootCmd|cp -ar /mnt/freedos/* /mnt/freedos_new/}}
Now you should also copy your flash program and the new BIOS to the image file:
{{RootCmd|cp -ar FLASH-PROGRAM BIOS-UPDATE /mnt/freedos_new}}
Unmount both images:
{{RootCmd|umount /mnt/freedos_new /mnt/freedos}}
{{Note|DOS can only display names up to a length of 8 characters, you probably want to rename some of the files}}

=== Replace the FreeDOS image ===
We are going to replace the original FreeDOS image on the SystemRescueCD memory stick.<br>
Mount the SystemRescueCD memory stick (/dev/sdX1 needs to be replaced by the device name of your memory stick):
{{RootCmd|mount /dev/sdX1 /mnt/SysRescueCD}}
Replace the freedos.img file:
{{RootCmd|cp freedos.img /mnt/SysRescueCD/bootdisk/}}
Unmount the SystemRescueCD memory stick:
{{RootCmd|umount /mnt/SysRescueCD}}

=== BIOS Update ===
Restart and choose to boot from the USB memory stick. In the GRUB command line type:
{{Code||freedos}}
This should boot you into our new FreeDOS image and you are greeted by the DOS prompt:
{{Code||<nowiki>C:\</nowiki>}}
Now you can start your BIOS update by following the manufaturers instructions. Some useful commands in DOS:
* cd <dir> - change to the directory
* dir - list the files in the current directory
* type - display the contents of a file

== flashrom ==
Your motherboard can support flashing via {{package|sys-apps/flashrom}} directly from your system. In this case only what you need is BIOS image. Please check first list of [http://flashrom.org/Supported_hardware supported hardware].

First we check our new BIOS image:
{{RootCmd|flashrom -v W7235IMS.1A0}}

If all OK, let's flash'em:
{{RootCmd|flashrom -vw W7235IMS.1A0}}

== See Also ==
* [[Bootable DOS USB stick]]
