<languages />
<translate>
{{stub}}

{{InfoBox stack
|{{InfoBox homepage|http://www.squid-cache.org/|header=true}}
|{{InfoBox wikipedia|Squid_(software)}}
|{{InfoBox ohloh}}
}}

'''Squid''' is a web cache and a proxy server application used speed up web browsing.

== Installation ==

=== USE flags ===

{{USEflag|package=net-proxy/squid|desc=Optional USE flags for {{Package|net-proxy/squid}}:
|caps
|ecap
|esi+++Enable ESI for accelerators, will cause squid reverse proxies to be capable of the Edge Acceleration Specification (www.esi.org)
|htcp+Yes++Enable HTCP protocol
|ipv6+Yes
|kerberos
|ldap
|logrotate
|mysql
|nis
|pam+Yes
|postgres
|qos
|radius
|samba
|sasl
|snmp
|sqlite
|ssl+Yes
|ssl-crtd
|test
|tproxy
|wccp+Yes++Enable Web Cache Coordination Protocol
|wccpv2+Yes++Enable Web Cache Coordination V2 Protocol
}}

=== Emerge ===

Install {{Package|net-proxy/squid}}:

{{Emerge|net-proxy/squid}}

== Boot services ==

=== OpenRC ===

To start squid on boot:

{{RootCmd|rc-update add squid default}}

To start squid immediately:

{{RootCmd|rc-service squid start}}

== SSL configuration ==

Make sure the <code>ssl</code> USE flag has been enabled. At the time of writing, Google Chrome, Chromium, and Firefox 30+ have support for SSL proxies. Unfortunately configuring them is not as straight forward as going into the options dialog of each respective browser.

=== Certificate generation ===

Generate a self-signed SSL certificate, or use a CA to sign the certificate so it is trusted by all clients.

{{Cmd|openssl req -x509 -newkey rsa:2048 -keyout key.pem -out cert.pem -nodes}}

=== Configure Squid ===

Edit Squid's config file located at {{Path|/etc/squid/squid.conf}}, replacing the <code>http_port 3128</code> line with:

{{FileBox|filename=/etc/squid/squid.conf|title=Modifying Squid configuration to use a SSL proxy|1=
https_port 3128 cert=/etc/squid/cert.pem key=/etc/squid/key.pem
}}

== Browser configuration ==

=== Firefox ===

Set [[Firefox]] to manual proxy, and point it at <code>localhost port 3128</code> or <code>127.0.0.1 port 3128</code>.

== Custom error page icons ==

CSS controls the Squid icon on error pages. To insert a custom icon simply replace the link URL in {{Path|/etc/squid/errorpage.css}} section #titles (as long as a 91x50 pixel image is used nothing else needs to be changed). To use a different size image make sure padding is .5 x height and padding left is exactly width of future image replacement.

Once modifications have been finished, restart the Squid service:

{{RootCmd|rc-service squid restart}}

== See also ==

[[Category:Software]]
</translate>
